Exportfile for AOT version 1.0 or later
Formatversion: 1

***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 5

FORM #SalesTable
  PROPERTIES
    Name                #SalesTable
  ENDPROPERTIES
  
  METHODS
    Version: 3
    SOURCE #ClassDeclaration
      #class       FormRun
      #extends     ObjectRun
      #{
      #    SalesTableForm                  salesTableForm;
      #    SalesTableType                  salesTableType;
      #    SalesId                         newSalesId;
      #
      #    boolean                         isReturnFieldsEnabled;
      #    SalesTable2LineUpdatePrompt     salesTable2LineUpdatePrompt;
      #
      #    boolean                         advanced;
      #
      #    QueryBuildRange                 queryBuildRangeProjId;
      #    QueryBuildRange                 queryBuildRangeSalesId;
      #    boolean                         showChild;
      #
      #    InventDimCtrl_Frm_Mov           inventDimFormSetup;
      #    SysFormSplitter_Y               _formSplitterVertical;
      #
      #    SalesId                         oldSalesId;
      #
      #    boolean                         headerError;
      #    boolean                         askingModifyInvoiced;
      #
      #    List                            salesLineFieldList;
      #    ListIterator                    salesLineFieldListIterator;
      #
      #    QuotationId                     lastQuotation;
      #    TransDate                       lastQuotationDate;
      #    ConfirmId                       lastConfirm;
      #    TransDate                       lastConfirmDate;
      #    PickingListId                   lastPickingList;
      #    TransDate                       lastPickingListDate;
      #    PackingSlipId                   lastPackingSlip;
      #    TransDate                       lastPackingSlipDate;
      #    InvoiceId                       lastInvoice;
      #    TransDate                       lastInvoiceDate;
      #    // <GBR>
      #    InvoiceId                       lastDeliverySlip;
      #    TransDate                       lastDeliverySlipDate;
      #    // </GBR>
      #    //PBA begin
      #    boolean                         autoConfig;
      #    boolean                         deleting;
      #    // PBA end
      #
      #    Object                          tmpSalesTableTaxTransForm;
      #    // <GIN>
      #    Object                          tmpSalesTableTaxWithholdTransForm;
      #    // </GIN>
      #
      #    RecId                           interCompanyIsPriceDiscSearchNeeded;
      #
      #    boolean                         cashDiscOnInvoice;
      #
      #    boolean                         allowSetFocusOnItemId;
      #
      #    Addressing                      oldThirdPartyBillingAddr;
      #    // <RETAIL>
      #    InventItemBarcode               itemBarcode;
      #    // </RETAIL>
      #    // <GBR>
      #    AddressZipCodeId                dlvZipCode;
      #    AddressCity                     dlvCity;
      #    AddressCountyId                 dlvCounty;
      #    AddressStateId                  dlvState;
      #    AddressCountryRegionId          dlvCountry;
      #    DistrictName_BR                 dlvDistrictName;
      #    AddressNumber_BR                dlvAddressNumber;
      #    AddressComplement_BR            dlvAddressComplement;
      #    CustVendCFOPId_BR               headerCustCFOP;
      #    CustVendCFOPId_BR               lineCustCFOP;
      #    SalesPurch_BR                   headerSalesPurch;
      #    SalesPurch_BR                   lineSalesPurch;
      #    LineNum                         num;
      #    InvoiceTxtId_BR                 headerTxtId;
      #    InvoiceTxtId_BR                 lineTxtId;
      #    // </GBR>
      #
      #    // <GCN>
      #    boolean                         taxIntegrationSystem_CN;
      #    // </GCN>
      #}
      #
    ENDSOURCE
    SOURCE #setInvoiceVisible
      #//add by steven 20130523
      #public void setInvoiceVisible()
      #{
      #    SalesTable  m_SalesTable;
      #    ;
      #    m_SalesTable = this.salesTable();
      #    if(m_SalesTable.echInvoiceType == echInvoiceType::Normal)
      #    {
      #       SalesTable_echInvoiceId.allowEdit(false);
      #       SalesTable_echInvoiceName.allowEdit(false);
      #       SalesTable_echInvoiceTitle.allowEdit(true);
      #       SalesTable_echInvoiceTaxPayerIdNumber.allowEdit(false);
      #       SalesTable_echInvoiceRegisteredAddress.allowEdit(false);
      #       SalesTable_echinvoiceRegisteredPhoneNumber.allowEdit(false);
      #       SalesTable_echInvoiceDepositBank.allowEdit(false);
      #       SalesTable_echInvoiceBankAccountNumber.allowEdit(false);
      #       SalesTable_echInvoiceRequested.allowEdit(true);
      #       SalesTable_echInvoiceCreated.allowEdit(false);
      #    }
      #    else if(m_SalesTable.echInvoiceType == echInvoiceType::VAT)
      #    {
      #       SalesTable_echInvoiceId.allowEdit(false);
      #       SalesTable_echInvoiceName.allowEdit(false);
      #       SalesTable_echInvoiceTitle.allowEdit(false);
      #       SalesTable_echInvoiceTaxPayerIdNumber.allowEdit(true);
      #       SalesTable_echInvoiceRegisteredAddress.allowEdit(true);
      #       SalesTable_echinvoiceRegisteredPhoneNumber.allowEdit(true);
      #       SalesTable_echInvoiceDepositBank.allowEdit(true);
      #       SalesTable_echInvoiceBankAccountNumber.allowEdit(true);
      #       SalesTable_echInvoiceRequested.allowEdit(true);
      #       SalesTable_echInvoiceCreated.allowEdit(false);
      #    }
      #}
    ENDSOURCE
    SOURCE #echSetControls
      #// Update ECH_WI_02201 by steven 20130523
      #
      #// Update ECH_WI_02083 by mengqi.cen on 20130502
      #
      #// *** ECHINA - Marijn Catthoor ***
      #// *** Customization Code: ECH_WI_01482
      #// *** Customization Date: 19 Sep 2012
      #// *** Customization Type: Modified
      #// *** Description: Update check on editing address fields
      #
      #// *** ECHINA - Anthony Christiaens ***
      #// *** Customization Code: ECH_WI_00801
      #// *** Customization Date: 04 Jul 2012
      #// *** Customization Type: modified
      #// *** Description: enable/disable send electronically
      #
      #// *** ECHINA - Anthony Christiaens ***
      #// *** Customization Code: ECH_WI_00235
      #// *** Customization Date: 16 Apr 2012
      #// *** Customization Type: created
      #// *** Description: set form controls
      #
      #// *** ECHINA - Anthony Christiaens ***
      #// *** Customization Code: ECH_I_OR02_1
      #// *** Customization Date: 28 Mar 2012
      #// *** Customization Type: created
      #// *** Description: set form button
      #
      #void echSetControls()
      #{
      #
      #// CS - ECH_WI_01482 - Marijn Catthoor - 19 Sep 2012
      #
      #    //boolean allowEditAddres = salesTable.ECHAggStatus <= ECHAggStatus::SendToWMS;
      #    boolean allowEditAddres = echSalesOrder::allowAddressEdit(salesTable);
      #
      #// CE - ECH_WI_01482 - Marijn Catthoor - 19 Sep 2012
      #    ;
      #
      #    if (isConfigurationKeyEnabled(configurationKeyNum(echProcesses)))
      #    {
      #        echSalesOrderCancelRemain.enabled(salesTable.SalesStatus != SalesStatus::Canceled);
      #// CS - ECH_WI_00801 - Anthony Christiaens - 04 Jul 2012
      #        echSendSalesOrder.enabled(echSalesSendAggStatus::exist(salesTable.ECHAggStatus));
      #// CE - ECH_WI_00801 - Anthony Christiaens - 04 Jul 2012
      #
      #// CS - ECH_WI_00235 - Anthony Christiaens - 16 Apr 2012
      #        HeaderDeliveryAddress.enabled(allowEditAddres);
      #        LineDeliveryAddress.enabled(allowEditAddres);
      #
      #        LineAddress.enabled(allowEditAddres);
      #        Address.enabled(allowEditAddres);
      #// CE - ECH_WI_00235 - Anthony Christiaens - 16 Apr 2012
      #
      #// CS - ECH_E_003 - Abdessamad Almask - 19 Apr 2012
      #        echRefundNoteButton.enabled(salesTable.SalesStatus == SalesStatus::Canceled ? true : false);
      #// CE - ECH_E_003 - Abdessamad Almask - 19 Apr 2012
      #        element.setInvoiceVisible();
      #    }
      #}
    ENDSOURCE
    SOURCE #updateDesignConsInvoice_JP
      #/// <summary>
      #/// Updates the design for the consolidation invoice related controls.
      #/// </summary>
      #// <GJP>
      #public void updateDesignConsInvoice_JP()
      #{
      #    if (!CustConsInvoiceType_JP::isCustConsInvoiceEnabled())
      #    {
      #        salesTable_ds.object(fieldnum(SalesTable, TargetOfConsolidation_JP)).visible(false);
      #        consolidation_JP.visible(false);
      #        lastConsolidatedInvoice.visible(false);
      #        lastConsolidatedInvoiceDate.visible(false);
      #    }
      #}
      #// </GJP>
      #
    ENDSOURCE
    SOURCE #enabledDisabledEinvoiceFields_MX
      #// <GMX>
      #public void enabledDisabledEinvoiceFields_MX()
      #{
      #    if (EInvoiceParameters_MX::isElectronicInvoiceEnabled())
      #    {
      #        EInvoice_MX.visible(true);
      #    }
      #    else
      #    {
      #        EInvoice_MX.visible(false);
      #    }
      #}
      #// </GMX>
    ENDSOURCE
    SOURCE #setEximFieldsAccess_IN
      #// <GIN>
      #public void setEximFieldsAccess_IN()
      #{
      #    EximParameters_IN eximParameters;
      #    boolean           isDBKEnabled;
      #    boolean           isInvoice;
      #    boolean           isDEPBApplicable;
      #    ;
      #
      #    if (salesTable.CustomsExportOrder_IN && TaxParameters::find().EximIncentiveSchemes_IN)
      #    {
      #        eximParameters   = EximParameters_IN::find();
      #        isInvoice        = salesLine.SalesQty > 0 ? true : false;
      #        isDBKEnabled     = isInvoice && (eximSalesLine_IN.dbkCenvatStatus != EximDBKCenvatStatus_IN::None);
      #        isDEPBApplicable = isInvoice && eximSalesLine_IN.ApplyDEPB;
      #
      #        eximIncentiveScheme_IN.visible(true);
      #        incentiveSchemeGroup_IN.visible(true);
      #
      #        eximSalesLine_IN_ApplyDEPB.visible(eximParameters.ActivateDEPB);
      #        eximSalesLine_IN_MarketValue.visible(eximParameters.ActivateDEPB);
      #        eximSalesLine_IN_DBKCenvatStatus.visible(eximParameters.ActivateDutyDrawback);
      #        eximSalesLine_IN_DBKRateType.visible(eximParameters.ActivateDutyDrawback);
      #        eximSalesLine_IN_DBKPercent.visible(eximParameters.ActivateDutyDrawback);
      #        eximEPCG_IN.visible(eximParameters.ActivateEPCG);
      #        eximAA_IN.visible(eximParameters.ActivateAA);
      #        eximDFIA_IN.visible(eximParameters.ActivateDFIA);
      #
      #        eximSalesLine_IN_ApplyDEPB.allowEdit(isInvoice);
      #        eximSalesLine_IN_MarketValue.allowEdit(isDEPBApplicable);
      #        eximSalesLine_IN_DBKCenvatStatus.allowEdit(isInvoice);
      #        eximSalesLine_IN_DBKRateType.allowEdit(isDBKEnabled);
      #        eximSalesLine_IN_DBKPercent.allowEdit(isDBKEnabled);
      #        eximIncentiveScheme_IncentiveSchemeGroup.allowEdit(isInvoice);
      #        eximIncentiveScheme_PortId.allowEdit(isInvoice);
      #        eximIncentiveScheme_ProductGroup.allowEdit(isInvoice);
      #
      #        // buttons
      #        incentiveSchemeGroup_IN.enabled(isInvoice);
      #        eximAA_IN.enabled(isInvoice);
      #        eximDFIA_IN.enabled(isInvoice);
      #        eximEPCG_IN.enabled(isInvoice);
      #    }
      #    else
      #    {
      #        eximIncentiveScheme_IN.visible(false);
      #        incentiveSchemeGroup_IN.visible(false);
      #        incentiveSchemeGroup_IN.enabled(false);
      #        eximAA_IN.enabled(false);
      #        eximDFIA_IN.enabled(false);
      #        eximEPCG_IN.enabled(false);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #enableEximInquiry_IN
      #// <GIN>
      #public void enableEximInquiry_IN()
      #{
      #    if (EximAuthorizationSchemesTable_IN::enableSchemesButton(salesLine.RecId,
      #                                                EximAuthorizationType_IN::AA,
      #                                                EximAuthorizationBasis_IN::Purchase)
      #        || salesLine.SalesQty < 0)
      #    {
      #        eximAA_IN.enabled(false);
      #    }
      #    if (EximAuthorizationSchemesTable_IN::enableSchemesButton(salesLine.RecId,
      #                                                EximAuthorizationType_IN::DFIA,
      #                                                EximAuthorizationBasis_IN::Purchase)
      #        || salesLine.SalesQty < 0)
      #    {
      #        eximDFIA_IN.enabled(false);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setReturnFields_IN
      #// <GIN>
      #void setReturnFields_IN()
      #{
      #    ;
      #    if (salesTable.SalesType == SalesType::ReturnItem)
      #    {
      #        taxInformation_IN.allowEdit(!salesLine.InventTransIdReturn);
      #
      #        if (ReturnDispositionCode::find(salesLine.ReturnDispositionCodeId).DispositionAction == DispositionAction::CreditOnly)
      #        {
      #            salesLine.ExciseRecordType_IN = ExciseRecordType_IN::None;
      #            salesLine.DirectSettlement_IN = DirectSettlement_IN::None;
      #            exciseNone_IN.allowEdit(false);
      #            exciseManufacture_IN.allowEdit(false);
      #            exciseTraders_IN.allowEdit(false);
      #        }
      #        else
      #        {
      #            exciseNone_IN.allowEdit(true);
      #            exciseManufacture_IN.allowEdit(true);
      #            exciseTraders_IN.allowEdit(true);
      #        }
      #    }
      #    else
      #    {
      #        exciseNone_IN.allowEdit(true);
      #        exciseManufacture_IN.allowEdit(true);
      #        exciseTraders_IN.allowEdit(true);
      #        taxInformation_IN.allowEdit(true);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #enableFuelCode_BR
      #/// <summary>
      #/// Set <c>FuelCode_BR</c> field visible or not.
      #/// </summary>
      #/// <param name="_show">
      #/// Define if the <c>FuelCode_BR</c> field will be shown. Default: true.
      #/// </param>
      #// <GBR>
      #private void enableFuelCode_BR(boolean _show = true)
      #{
      #    this.control(Control::FiscalInformation_FuelCode_BR).visible(_show);
      #}
      #// </GBR>
    ENDSOURCE
    SOURCE #enableExceptionCode_BR
      #/// <summary>
      #/// Set <c>ExceptionCode_BR</c> field visible or not.
      #/// </summary>
      #/// <param name="_show">
      #/// Define if the <c>ExceptionCode_BR</c> field will be shown. Default: true.
      #/// </param>
      #// <GBR>
      #private void enableExceptionCode_BR(boolean _show = true)
      #{
      #    this.control(Control::FiscalInformation_ExceptionCode_BR).visible(_show);
      #}
      #// </GBR>
    ENDSOURCE
    SOURCE #showWithholdTax_BR
      #// <GBR>
      #private void showWithholdTax_BR(boolean _show = true)
      #{
      #    element.control(control::WithholdTax).visible(_show);
      #}
      #// </GBR>
    ENDSOURCE
    SOURCE #showLastDeliverySlipDate_BR
      #// <GBR>
      #private void showLastDeliverySlipDate_BR(boolean _show = true)
      #{;
      #    this.control(control::LastDeliverySlipDate).visible(_show);
      #}
      #// </GBR>
    ENDSOURCE
    SOURCE #showLastDeliverySlip_BR
      #// <GBR>
      #private void showLastDeliverySlip_BR(boolean _show = true)
      #{;
      #    this.control(control::LastDeliverySlip).visible(_show);
      #}
      #// </GBR>
    ENDSOURCE
    SOURCE #init_BR
      #// <GBR>
      #private void init_BR()
      #{
      #    NoYes brazilEnabled = BrazilParameters::isEnabled();
      #    ;
      #
      #    this.showLastDeliverySlip_BR(brazilEnabled);
      #    this.showLastDeliverySlipDate_BR(brazilEnabled);
      #    this.showWithholdTax_BR(brazilEnabled);
      #
      #    this.enableTaxationOrigin_BR(brazilEnabled);
      #    this.enableGroupTaxationCode_BR(brazilEnabled);
      #    this.enableDeliveryCFOP_BR(brazilEnabled);
      #    this.enableGroupsInvoiceReference_BR(brazilEnabled);
      #    this.enableGroupsDeliveryFiscalInformation_BR(brazilEnabled);
      #
      #    this.enableCFPS_BR(BrazilParameters::isCFPSEnabled_BR());
      #    this.enableExceptionCode_BR(BrazilParameters::isFiscalBookEnabled());
      #    this.enableFuelCode_BR(BrazilParameters::isFiscalBookEnabled());
      #}
      #// </GBR>
    ENDSOURCE
    SOURCE #enableGroupsInvoiceReference_BR
      #// <GBR>
      #public void enableGroupsInvoiceReference_BR(boolean _show = true)
      #{
      #    ;
      #
      #    invoiceReference.enabled(_show);
      #    invoiceReference.enableChilds(_show);
      #
      #    lineInvoiceReference.enabled(_show);
      #    lineInvoiceReference.enableChilds(_show);
      #}
      #// </GBR>
      #
    ENDSOURCE
    SOURCE #enableGroupsDeliveryFiscalInformation_BR
      #// <GBR>
      #public void enableGroupsDeliveryFiscalInformation_BR(boolean _show = true)
      #{
      #    ;
      #
      #    headerDeliveryFiscalInformation.enabled(_show);
      #    headerDeliveryFiscalInformation.enableChilds(_show);
      #
      #    lineDeliveryFiscalInformation.enabled(_show);
      #    lineDeliveryFiscalInformation.enableChilds(_show);
      #}
      #// </GBR>
    ENDSOURCE
    SOURCE #enableDeliveryCFOP_BR
      #// <GBR>
      #public void enableDeliveryCFOP_BR(boolean _show = true)
      #{
      #    ;
      #
      #     fiscalInformation1_DeliveryCFOPId.enabled(_show);
      #}
      #// </GBR>
      #
    ENDSOURCE
    SOURCE #getTotalBalance
      #
      #void getTotalBalance()
      #{
      #    SalesTotals     salesTotals;
      #    container       displayFields;
      #    SalesUpdate     salesUpdate;
      #    AmountCur       totalAmount;
      #    CustInvoiceJour custInvoiceJour;
      #    ;
      #
      #    salesUpdate = SalesUpdate::All;
      #    salesTotals = SalesTotals::construct(salesTable, salesUpdate);
      #    salesTotals.calc();
      #    displayFields = salesTotals.displayFieldsCurrency(salesTable.CurrencyCode ? salesTable.CurrencyCode : salesTotals.currencyCode());
      #
      #    switch (SalesTable.SalesStatus)
      #    {
      #        case (SalesStatus::None):
      #        case (SalesStatus::Backorder):
      #        case (SalesStatus::Delivered):
      #        {
      #            while select custInvoiceJour
      #            where custInvoiceJour.SalesId == salesTable.SalesId
      #            {
      #                totalAmount += custInvoiceJour.InvoiceAmount;
      #            }
      #            totalAmount += conpeek(displayFields, TradeTotals::posTotalAmount());
      #            totalAmount -= RBOPrePaymentTable.PrePaymentPaid;
      #
      #            TotalBalance.realValue(totalAmount);
      #
      #            //TotalBalance.realValue(conpeek(displayFields, TradeTotals::posTotalAmount()) - RBOPrePaymentTable.PrePaymentPaid);
      #            break;
      #        }
      #    }
      #}
      #
    ENDSOURCE
    SOURCE #updateHHTButton
      #
      #void updateHHTButton()
      #{
      #    boolean     enabled;
      #;
      #    switch (SalesTable.SalesType)
      #    {
      #        case    SalesType::Sales         :   enabled = true; break;
      #        case    SalesType::ReturnItem    :   enabled = true; break;
      #        default                          :   enabled = false; break;
      #    }
      #
      #    enabled = SalesTable.HHTPRDocument ? false : true;
      #
      #    createNewPRDoc.enabled(enabled);
      #}
    ENDSOURCE
    SOURCE #docCursor
      #public Common docCursor()
      #{
      #    Common docCursor;
      #
      #    docCursor = super();
      #
      #    if (docCursor.TableId == tablenum(InventDim))
      #    {
      #        docCursor = salesLine;
      #    }
      #
      #    return docCursor;
      #}
    ENDSOURCE
    SOURCE #enableCreditCardMenuItems
      #public void enableCreditCardMenuItems()
      #{
      #    ;
      #
      #    creditCardPreauthorize.enabled(
      #        CustParameters::find().CreditCardPreAuthorization &&
      #        salesTable.CreditCardCustRefId != 0);
      #
      #    creditCardWizard.enabled(
      #        salesTable.payment().CreditCardPaymentType == CreditCardPaymentType::CreditCard &&
      #        CreditCardProcessors::validateCurrencyForUSDProviders(salesTable.CurrencyCode));
      #}
    ENDSOURCE
    SOURCE #setTaxWithholdVisible_IN
      #// <GIN>
      #void setTaxWithholdVisible_IN()
      #{
      #    TaxWithholdParameters_IN    taxWithholdParameters;
      #    ;
      #
      #    taxWithholdParameters = TaxWithholdParameters_IN::find();
      #    salesTable_ds.object(fieldnum(SalesTable, tdsGroup_IN)).visible(taxWithholdParameters.tdsInvoice);
      #    salesLine_ds.object(fieldnum(SalesLine, tdsGroup_IN)).visible(taxWithholdParameters.tdsInvoice);
      #    salesTable_ds.object(fieldnum(SalesTable, tcsGroup_IN)).visible(taxWithholdParameters.tcsInvoice);
      #    salesLine_ds.object(fieldnum(SalesLine, tcsGroup_IN)).visible(taxWithholdParameters.tcsInvoice);
      #    withholdingTax_IN.visible(taxWithholdParameters.tdsInvoice || taxWithholdParameters.tcsInvoice);
      #    lineWithholdingTax_IN.visible(taxWithholdParameters.tdsInvoice || taxWithholdParameters.tcsInvoice);
      #    buttonWithholdTax_IN.visible(taxWithholdParameters.tdsInvoice || taxWithholdParameters.tcsInvoice);
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setTaxWithholdEnabled_IN
      #// <GIN>
      #void setTaxWithholdEnabled_IN()
      #{
      #    ;
      #
      #    salesTable_ds.object(fieldnum(SalesTable, tcsGroup_IN)).enabled(!salesTable.tdsGroup_IN);
      #    salesTable_ds.object(fieldnum(SalesTable, tdsGroup_IN)).enabled(!salesTable.tcsGroup_IN);
      #    salesLine_ds.object(fieldnum(SalesLine, tcsGroup_IN)).enabled(!salesLine.tdsGroup_IN);
      #    salesLine_ds.object(fieldnum(SalesLine, tdsGroup_IN)).enabled(!salesLine.tcsGroup_IN);
      #    buttonWithholdTax_IN.enabled(salesLine.tdsGroup_IN || salesLine.tcsGroup_IN);
      #    if (salesLine.InventTransIdReturn)
      #    {
      #        salesTable_ds.object(fieldnum(SalesTable, tcsGroup_IN)).enabled(!salesLine.InventTransIdReturn);
      #        salesTable_ds.object(fieldnum(SalesTable, tdsGroup_IN)).enabled(!salesLine.InventTransIdReturn);
      #        salesLine_ds.object(fieldnum(SalesLine, tcsGroup_IN)).enabled(!salesLine.InventTransIdReturn);
      #        salesLine_ds.object(fieldnum(SalesLine, tdsGroup_IN)).enabled(!salesLine.InventTransIdReturn);
      #    }
      #}
      #// </GIN>
      #
    ENDSOURCE
    SOURCE #updateDesignExcise_IN
      #// <GIN>
      #void updateDesignExcise_IN()
      #{
      #    InventTable inventTable;
      #    TaxParameters   taxParametersLoc = TaxParameters::find();
      #
      #    ;
      #
      #    inventTable = InventTable::find(salesLine.ItemId);
      #
      #    if (inventTable)
      #    {
      #        if ((inventTable.ItemType == ItemType::BOM) && (salesLine.ExciseRecordType_IN == ExciseRecordType_IN::None))
      #        {
      #            salesLine_ds.object(fieldnum(SalesLine,dsa_in)).enabled(taxParametersLoc.Excise_IN);
      #        }
      #        else
      #        {
      #            salesLine.dsa_in = NoYes::No;
      #            salesLine_ds.object(fieldnum(SalesLine,dsa_in)).enabled(false);
      #        }
      #    }
      #
      #    if (salesLine.ExciseType_IN == ExciseType_IN::Manufacturer)
      #    {
      #        if (salesLine.SalesQty > 0)
      #        {
      #            salesLine_ds.object(fieldnum(SalesLine, DirectSettlement_IN)).enabled(taxParametersLoc.Excise_IN);
      #        }
      #        else
      #        {
      #            salesLine.DirectSettlement_IN = DirectSettlement_IN::None;
      #            salesLine_ds.object(fieldnum(SalesLine, DirectSettlement_IN)).enabled(false);
      #        }
      #    }
      #    else
      #    {
      #        salesLine.DirectSettlement_IN = DirectSettlement_IN::None;
      #        salesLine_ds.object(fieldnum(SalesLine, DirectSettlement_IN)).enabled(false);
      #    }
      #
      #    salesLine_ds.refresh();
      #}
      #// </GIN>
      #
      #
      #
      #
    ENDSOURCE
    SOURCE #enableDisableExciseRecordType_IN
      #// <GIN>
      #void enableDisableExciseRecordType_IN()
      #{
      #    CompanyInfo         companyInfo;
      #    Address             addressExcise;
      #    TaxParameters       taxParametersLoc = TaxParameters::find();
      #    ;
      #
      #    companyInfo     = CompanyInfo::find();
      #    addressExcise   = Address::findByName_IN(salesLine.Name_IN);
      #
      #    if (salesLine.ItemId)
      #    {
      #        if(companyInfo.Name == salesLine.Name_IN)
      #        {
      #            salesLine.ExciseType_IN = companyInfo.ExciseType_IN;
      #        }
      #        else
      #        {
      #            salesLine.ExciseType_IN = addressExcise.ExciseType_IN;
      #        }
      #    }
      #
      #    switch (salesLine.ExciseType_IN)
      #    {
      #        case ExciseType_IN::None:
      #            exciseNone_IN.visible(true);
      #            exciseManufacture_IN.visible(false);
      #            exciseTraders_IN.visible(false);
      #            exciseNone_IN.visible(taxParametersLoc.Excise_IN);
      #            break;
      #
      #        case ExciseType_IN::Manufacturer:
      #            exciseNone_IN.visible(false);
      #            exciseManufacture_IN.visible(true);
      #            exciseTraders_IN.visible(false);
      #            exciseManufacture_IN.visible(taxParametersLoc.Excise_IN);
      #            break;
      #
      #        case ExciseType_IN::Trader:
      #            exciseNone_IN.visible(false);
      #            exciseManufacture_IN.visible(false);
      #            exciseTraders_IN.visible(true);
      #            exciseTraders_IN.visible(taxParametersLoc.Excise_IN);
      #            break;
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #refreshSalesLine_IN
      #// <GIN>
      #void refreshSalesLine_IN()
      #{
      #    ;
      #    salesLine_ds.reread();
      #    salesLine_ds.refresh();
      #}
      #// </GIN>
      #
    ENDSOURCE
    SOURCE #setVisible_IN
      #// <GIN>
      #private void setVisible_IN()
      #{
      #    TaxParameters       taxParametersLoc = TaxParameters::find();
      #    boolean         isTaxParametersMarked   = TaxParameters::checkTaxParameters_IN();
      #    ;
      #
      #    element.design().control(control::SalesLine_AssessableValue_IN).visible(isTaxParametersMarked);
      #    element.design().control(control::SalesLine_MaximumRetailPrice_IN).visible(isTaxParametersMarked);
      #    element.design().control(control::TaxInformation_IN).visible(isTaxParametersMarked);
      #    element.design().control(control::CompanyInformation_IN).visible(isTaxParametersMarked);
      #
      #    element.design().control(control::Excise_IN).visible(taxParametersLoc.Excise_IN);
      #    element.design().control(control::exciseNone_IN).visible(taxParametersLoc.Excise_IN);
      #    element.design().control(control::Customs_IN).visible(taxParametersLoc.Customs_IN);
      #    element.design().control(control::ServiceTax_IN).visible(taxParametersLoc.ServiceTax_IN);
      #    element.design().control(control::VAT_IN).visible(taxParametersLoc.vat_in);
      #    element.design().control(control::SalesTax_IN).visible(taxParametersLoc.SalesTax_IN);
      #
      #    salesLine_CustomsMaxRetailPrice_IN.visible(SalesTable::find(salesLine.SalesId).CustomsExportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);
      #    salesTable_ds.object(fieldnum(SalesTable, CustomsExportOrder_IN)).visible(taxParametersLoc.Customs_IN);
      #
      #    element.design().control(control::CreateExportOrder_IN).visible(taxParametersLoc.Customs_IN);
      #    salesLine_ds.object(fieldnum(SalesLine,TaxInventVATCommodityCodeId_IN)).visible(taxParametersLoc.vat_in);
      #}
      #// </GIN>
      #
    ENDSOURCE
    SOURCE #enableFieldsActive_IN
      #// <GIN>
      #public void enableFieldsActive_IN()
      #{
      #    ;
      #
      #    customsExportAssessableValue_IN.enabled(SalesTable::find(salesLine.SalesId).CustomsExportOrder_IN == NoYes::Yes    && TaxParameters::find().Customs_IN == NoYes::Yes);
      #    salesLine_CustomsMaxRetailPrice_IN.visible(SalesTable::find(salesLine.SalesId).CustomsExportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);
      #    salesLine_MaximumRetailPrice_IN.enabled(SalesTable::find(salesLine.SalesId).CustomsExportOrder_IN == NoYes::No);
      #
      #    element.setEximFieldsAccess_IN();
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #applyBackOrderLinesSelection
      #/// <summary>
      #/// If form was called by BackOrderLines list page, applies additional ranges to the form data source to show only sales orders that were selected in a list page.
      #/// </summary>
      #/// <remarks>
      #/// If form called not from BackOrderLines list page no action is taken.
      #/// </remarks>
      #
      #private void applyBackOrderLinesSelection()
      #{
      #    Map             selectedSalesIds;
      #    MapEnumerator   en;
      #    ;
      #
      #    if (!this.isCalledFromSalesLineBackOrderListPage())
      #        return;
      #
      #    // Apply filter to show only Sales Orders selected in a list form.
      #    selectedSalesIds = element.args().caller().getSalesIdsSelected();
      #    if (selectedSalesIds)
      #    {
      #        // Dynalínks should be cleared before applying a ranges to prevent displaying only lines, selected in list page!
      #        salesTable_ds.query().dataSourceTable(tablenum(SalesTable)).clearDynalinks();
      #
      #        en = new MapEnumerator(selectedSalesIds);
      #        while(en.moveNext())
      #        {
      #            salesTable_ds.query().dataSourceTable(tablenum(SalesTable)).addRange(fieldnum(SalesTable,SalesId)).value(en.currentValue());
      #        }
      #    }
      #
      #}
      #
      #
    ENDSOURCE
    SOURCE #isCalledFromSalesLineBackOrderListPage
      #private boolean isCalledFromSalesLineBackOrderListPage()
      #{
      #    Object      myCaller;
      #    FormRun     callerForm;
      #    boolean     calledFromListPage = false;
      #    ;
      #    if (element.args())
      #    {
      #        myCaller = element.args().caller();
      #        if (myCaller && SysDictClass::is(myCaller, classnum(SysSetupFormRun)))
      #        {
      #            callerForm = myCaller;
      #            if (callerForm.name() == formstr(SalesLineBackOrderListPage))
      #            {
      #                calledFromListPage = true;
      #            }
      #        }
      #    }
      #    return calledFromListPage;
      #}
      #
    ENDSOURCE
    SOURCE #hideQualityManagement
      #void hideQualityManagement()
      #{
      #    ;
      #    qualityOrderStatusDisplayTable.visible(false);
      #    qualityOrderStatusDisplayLine.visible(false);
      #    inventNonConformanceTableHeader.visible(false);
      #    inventQualityOrderTableHeader.visible(false);
      #    inventNonConformanceTableLine.visible(false);
      #    inventQualityOrderTableLine.visible(false);
      #    inventTestCertOfAnalysisTable.visible(false);
      #}
    ENDSOURCE
    SOURCE #returnedItem
      #boolean returnedItem()
      #{;
      #    return salesTable.SalesType == SalesType::ReturnItem;
      #}
    ENDSOURCE
    SOURCE #setReturnFields
      #void setReturnFields()
      #{
      #    boolean     allowEditOrCreate = !salesTable.returnItem();
      #    ;
      #
      #    salesLine_ds.allowCreate(allowEditOrCreate);
      #
      #    // Sales header enabling and disabling
      #
      #    salesAvailableDlvDatesHeader.enabled(allowEditOrCreate && salesAvailableDlvDatesHeader.enabled());
      #
      #    salesTable_ds.object(fieldnum(SalesTable, Deadline)).allowEdit(allowEditOrCreate);
      #    salesTable_ds.object(fieldnum(SalesTable, InventLocationId)).allowEdit(allowEditOrCreate );
      #    salesTable_ds.object(fieldnum(SalesTable, Reservation)).allowEdit(allowEditOrCreate);
      #
      #    salesTable_ds.object(fieldnum(SalesTable, ItemTagging)).allowEdit(allowEditOrCreate);
      #    salesTable_ds.object(fieldnum(SalesTable, CaseTagging)).allowEdit(allowEditOrCreate);
      #    salesTable_ds.object(fieldnum(SalesTable, PalletTagging)).allowEdit(allowEditOrCreate);
      #
      #    delivery.allowEdit(allowEditOrCreate);
      #    miscDelivery.allowEdit(allowEditOrCreate);
      #    transport.allowEdit(allowEditOrCreate);
      #    payment.allowEdit(allowEditOrCreate);
      #
      #    // Salesline enabling and disabling
      #
      #    salesAvailableDlvDatesLine.enabled(allowEditOrCreate && salesAvailableDlvDatesLine.enabled());
      #
      #    // ItemId, SalesQty, Blocked, Complete, Return lot id
      #    salesLine_ds.object(fieldnum(SalesLine, ItemId)).allowEdit(allowEditOrCreate && salesLine_ds.object(fieldnum(SalesLine, ItemId)).allowEdit());
      #    salesLine_ds.object(fieldnum(SalesLine, SalesQty)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, Blocked)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, Complete)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, InventTransIdReturn)).allowEdit(allowEditOrCreate);
      #
      #    // Inventory dimensions
      #    inventDim_ds.allowEdit(allowEditOrCreate);
      #
      #    salesLine_ds.object(fieldnum(SalesLine, LedgerAccount)).allowEdit(allowEditOrCreate);
      #
      #    // Quantity
      #    salesLine_ds.object(fieldnum(SalesLine, SalesDeliverNow)).allowEdit(allowEditOrCreate);
      #
      #    // Price discount
      #    salesLine_ds.object(fieldnum(SalesLine, LinePercent)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, LineDisc)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, MultiLnDisc)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, MultiLnPercent)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, PriceUnit)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, SalesMarkup)).allowEdit(allowEditOrCreate);
      #
      #    // Bar code
      #    salesLine_ds.object(fieldnum(SalesLine, BarCode)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, BarCodeType)).allowEdit(allowEditOrCreate);
      #
      #    // Project
      #    salesLine_ds.object(fieldnum(SalesLine, ProjId)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, ProjCategoryId)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, ProjTransId)).allowEdit(allowEditOrCreate);
      #
      #    // Packing materials
      #    salesLine_ds.object(fieldnum(SalesLine, PackingUnit)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, PackingUnitQty)).allowEdit(allowEditOrCreate);
      #
      #    // Address
      #    salesLine_ds.object(fieldnum(SalesLine, DeliveryName)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, DeliveryStreet)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, DeliveryZipCode)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, DeliveryCity)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, DeliveryCounty)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, DeliveryState)).allowEdit(allowEditOrCreate);
      #
      #    salesLine_ds.object(fieldnum(SalesLine, DeliveryCountryRegionId)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, TaxItemGroup)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldnum(SalesLine, TaxGroup)).allowEdit(allowEditOrCreate);
      #
      #    lineDelivery.allowEdit(allowEditOrCreate);
      #    miscLineDelivery.allowEdit(allowEditOrCreate);
      #    lineInventory.allowEdit(allowEditOrCreate);
      #}
      #
    ENDSOURCE
    SOURCE #PBAConfigureLine
      #void pbaConfigureLine()
      #{
      #    PBATablePBAInstance pbaTablePBAInstance;
      #    SalesLine           salesLineFind;
      #    ;
      #
      #    if ( ! autoConfig )
      #    {
      #        PBAExecute::execute(salesLine,pbaTablePBAInstance, salesLine.CustAccount);
      #    }
      #
      #    autoConfig = false;
      #
      #    salesLineFind = SalesLine::find(salesLine.SalesId, salesLine.LineNum);
      #
      #    // syncs sales table with db
      #    salesLine_ds.research();
      #
      #    // updates table ui
      #    salesLine_DS.reread();
      #
      #    // finds the current selected sales line
      #    salesLine_ds.findRecord(salesLineFind);
      #}
    ENDSOURCE
    SOURCE #automaticTotalDiscount
      #public void automaticTotalDiscount()
      #{
      #    SalesTable localSalesTable;
      #    ;
      #    if(CustParameters::find().AutomaticTotalDiscount)
      #    {
      #        for (localSalesTable = salesTable_ds.getFirst(true) ? salesTable_ds.getFirst(true) : salesTable_ds.cursor(); localSalesTable; localSalesTable = salesTable_ds.getNext())
      #        {
      #            localSalesTable.updateFinalDisc();
      #        }
      #        salesTable_ds.reread();
      #        salesTable_ds.refresh();
      #
      #        //This will trigger the creditlimit calculation when salesTable.validateWrite is called
      #        salesTable_ds.setTouched();
      #    }
      #}
    ENDSOURCE
    SOURCE #updateRFIDTagging
      #void  updateRFIDTagging()
      #{
      #    RFIDItemTaggingLevel    taggingLevel;
      #    boolean                 itemTagging     = true;
      #    boolean                 caseTagging     = true;
      #    boolean                 palletTagging   = true;
      #    ;
      #
      #    if (inventDimFormSetup.mustEnableField(fieldnum(InventDim, InventSerialId)))
      #    {
      #        if (salesLine.ItemTagging)
      #        {
      #            caseTagging = false;
      #        }
      #        else
      #        {
      #            caseTagging = true;
      #        }
      #
      #        if (salesLine.CaseTagging)
      #        {
      #            itemTagging = false;
      #        }
      #        else
      #        {
      #            itemTagging = true;
      #        }
      #    }
      #    else
      #    {
      #        itemTagging = false;
      #        caseTagging = true;
      #    }
      #
      #    if (inventDimFormSetup.mustEnableField(fieldnum(InventDim, wmsPalletId))
      #    &&  salesline.inventTable().PalletTagging)
      #    {
      #        palletTagging = true;
      #    }
      #    else
      #    {
      #        palletTagging = false;
      #    }
      #
      #    if (itemTagging  ||  caseTagging)
      #    {
      #        taggingLevel = salesLine.inventTable().ItemTaggingLevel;
      #
      #        switch (taggingLevel)
      #        {
      #            case RFIDItemTaggingLevel::None :
      #                itemTagging = false;
      #                caseTagging = false;
      #                break;
      #
      #            case RFIDItemTaggingLevel::ItemLevel :
      #                caseTagging = false;
      #                break;
      #
      #            case RFIDItemTaggingLevel::CaseLevel :
      #                itemTagging = false;
      #                break;
      #        }
      #    }
      #
      #    salesLine_ds.object(fieldnum(SalesLine, ItemTagging)).allowEdit     ( itemTagging);
      #    salesLine_ds.object(fieldnum(SalesLine, ItemTagging)).skip          (!itemTagging);
      #    salesLine_ds.object(fieldnum(SalesLine, CaseTagging)).allowEdit     ( caseTagging);
      #    salesLine_ds.object(fieldnum(SalesLine, CaseTagging)).skip          (!caseTagging);
      #    salesLine_ds.object(fieldnum(SalesLine, PalletTagging)).allowEdit   ( palletTagging);
      #    salesLine_ds.object(fieldnum(SalesLine, PalletTagging)).skip        (!palletTagging);
      #}
    ENDSOURCE
    SOURCE #canClose
      #public boolean canClose()
      #{
      #    boolean  ret;
      #    ;
      #    // PBA begin
      #    if( ! salesLine.PBAItemLine::checkMandatory() )
      #    {
      #        return false;
      #    }
      #    // PBA end
      #
      #    ret = super();
      #
      #    if (element.closedCancel() && ret)
      #    {
      #        ret = salesTableForm.canClose(salesTable);
      #    }
      #
      #    return ret;
      #}
    ENDSOURCE
    SOURCE #gotoLines
      #void gotoLines()
      #{
      #    salesLineGrid.setFocus();
      #}
    ENDSOURCE
    SOURCE #Run
      #void  run()
      #{
      #    int designatedTabNo = 1;
      #    ;
      #
      #    if (!advanced)
      #    {
      #        designatedTabNo = 2;
      #    }
      #    else if (this.isCalledFromListPage())
      #    {
      #        designatedTabNo = 3;
      #    }
      #
      #    SysListPageHelper::handleRunPreSuper(element, tabHeader, designatedTabNo, designatedTabNo);
      #    super();
      #    SysListPageHelper::handleRunPostSuper(element, tabHeader);
      #
      #    allowSetFocusOnItemId = true;
      #}
    ENDSOURCE
    SOURCE #PrevGroup
      #void  prevGroup()
      #{
      #    if (advanced)
      #        salesTable_SalesIdAdvanced.setFocus();
      #    else
      #        salesTable_SalesIdSimple.setFocus();
      #}
    ENDSOURCE
    SOURCE #NextGroup
      #void  nextGroup()
      #{;
      #    if (!SalesLine::exist(salesTable.SalesId))
      #        salesLine_ds.create();
      #
      #    salesLine_ItemId.setFocus();
      #}
    ENDSOURCE
    SOURCE #init
      #// *** ECHINA - Anthony Christiaens ***
      #// *** Customization Code: ECH_I_OR02_1
      #// *** Customization Date: 28 Mar 2012
      #// *** Customization Type: created
      #// *** Description: set form controls
      #
      #public void  init()
      #{
      #    boolean wasCalledFromSalesLineBackOrderListPage = this.isCalledFromSalesLineBackOrderListPage();
      #    // <GTH>
      #    boolean showThailand = LedgerParameters::find().TaxWithholdCalculateItem_TH;
      #    // </GTH>
      #    ;
      #
      #    // <GCN>
      #    taxIntegrationSystem_CN = CustParameters::find().TaxIntegrationSystem_CN;
      #    // </GCN>
      #
      #    if (element.args() && element.args().dataset() == tablenum(ProjTable))
      #        showChild   = element.args().caller().showChild();
      #
      #    // To avoid issues with not alligned data source structures of this form and BackOrderLine list page
      #    // do not call to the SysListPageHelper::handleInitPreSuper when this form is opened from BackOrderLine list page!
      #    if (!wasCalledFromSalesLineBackOrderListPage)
      #    {
      #        SysListPageHelper::handleInitPreSuper(element);
      #    }
      #
      #    isReturnFieldsEnabled       = false;
      #
      #    super();
      #
      #    advanced = true;
      #
      #    // Initialization specifically for projects
      #    // Only show sales orders associated to projects if form is called from the project main menu
      #    if (element.args().parmEnumType() == enumnum(SalesTableFormId) && element.args().parmEnum() == SalesTableFormId::Project)
      #    {
      #        if (! element.args().record()) // called from menu
      #            salesTable_ds.query().dataSourceTable(tablenum(SalesTable)).addRange(fieldnum(SalesTable, ProjId)).value(SysQuery::valueNotEmptyString());
      #    }
      #
      #    // Initialization specifically for Journals and Blanket orders
      #    // Do not allow order type change if form was called from Sales journal or Blanket order menu items
      #    if (element.args().parmEnumType() == enumnum(SalesTableFormId) && (element.args().parmEnum() == SalesTableFormId::Blanket || element.args().parmEnum() == SalesTableFormId::Journal))
      #    {
      #        salesTable_ds.object(fieldnum(SalesTable, SalesType)).allowEdit(false);
      #        salesTable_SalesType.allowEdit(false);
      #    }
      #
      #    // Initialization specifically for BackOrderLines list page...
      #    if (wasCalledFromSalesLineBackOrderListPage)
      #        this.applyBackOrderLinesSelection();
      #
      #    salesTableForm = SalesTableForm::construct((element.args().parmEnumType() ? element.args().parmEnum() : maxint()),
      #                                                element.args().record());
      #
      #    salesLineFieldList = salesTableForm.createSalesLineFieldList();
      #    salesLineFieldListIterator = new ListIterator(salesLineFieldList);
      #    salesTableForm.setCreditInvoicingButton(buttonCustVendCreditInvoicingHeader,
      #                                            buttonCustVendCreditInvoicingLines);
      #
      #
      #    TaxVATNumTable::enableLookupVATNum(vatNum);
      #
      #    element.updateDesign(InventDimFormDesignUpdate::Init);
      #    element.updateRFIDTagging();
      #
      #    salesLineGrid.visibleColsValue(8+conlen(inventDimFormSetup.dimFieldsActive(inventDimFormSetup.parmDimParmVisibleGrid())));
      #
      #    [advanced] = salesTableForm.isAdvanced();
      #
      #    element.toggelSimpleAdvanced();
      #    salesTable_ds.object(fieldnum(SalesTable, SalesType)).allowEdit(salesTableForm.editSalesType());
      #
      #    // <GJP>
      #    element.updateDesignConsInvoice_JP();
      #    // </GJP>
      #
      #    salesTable_ds.query(salesTableForm.querySalesTable(salesTable_ds.query()));
      #    salesLine_ds.query(salesTableForm.querySalesLine(salesLine_ds.query()));
      #
      #    _formSplitterVertical   = new SysFormSplitter_Y(ctrlSplitVertical, table, this);
      #    groupNotificationToTheCentralBank.visible(CustParameters::find().CustPaym_NO);
      #
      #    if (!TaxParameters::find().CashDiscOnInvoice)
      #        salesTable_ds.object(fieldnum(SalesTable, CashDiscPercent)).allowEdit(false);
      #
      #    allowSetFocusOnItemId = false;
      #
      #    if (!InventParameters::find().UseQualityManagement)
      #    {
      #        element.hideQualityManagement();
      #    }
      #
      #    if (!wasCalledFromSalesLineBackOrderListPage)
      #    {
      #        SysListPageHelper::handleInitPostSuper(element);
      #    }
      #
      #    this.enableCreditCardMenuItems();
      #
      #    // <GBR>
      #    this.init_BR();
      #    // </GBR>
      #
      #    shipCarrierAddress_ds.query(Address::queryThirdPartyAddr(shipCarrierAddress_ds.query()));
      #    shipCarrierAddressInLine_ds.query(Address::queryThirdPartyAddr(shipCarrierAddressInLine_ds.query()));
      #
      #    // <GMX>
      #    this.enabledDisabledEinvoiceFields_MX();
      #    // </GMX>
      #    // <GIN>
      #    element.setVisible_IN();
      #    element.setTaxWithholdVisible_IN();
      #    // </GIN>
      #
      #    // <GTH>
      #    element.control(control::LineWithholdingTax).visible(showThailand);
      #    // </GTH>
      #
      #    // <GCN>
      #    salesTax_M_getVATRegistrationNum_CN.visible(taxIntegrationSystem_CN);
      #    // </GCN>
      #
      #// CS - ECH_I_OR02_1 - Anthony Christiaens - 28 Mar 2012
      #    this.echSetControls();
      #// CE - ECH_I_OR02_1 - Anthony Christiaens - 28 Mar 2012
      #}
      #
    ENDSOURCE
    SOURCE #Close
      #void  close()
      #{;
      #    salesTableForm.isAdvanced(advanced);
      #    xSysLastValue::saveLast(salesTableForm);
      #
      #    if (salesTableType)
      #    {
      #        salesTableType.formMethodClose();
      #    }
      #
      #    super();
      #}
    ENDSOURCE
    SOURCE #salesTable
      #SalesTable salesTable()
      #{
      #    return salesTable;
      #}
    ENDSOURCE
    SOURCE #inventDimSetupObject
      #Object inventDimSetupObject()
      #{
      #    return inventDimFormSetup;
      #}
    ENDSOURCE
    SOURCE #updateDesign
      #void updateDesign(InventDimFormDesignUpdate mode)
      #{
      #    InventMovement movement = InventMovement::construct(salesLine);
      #
      #    switch (mode)
      #    {
      #        case InventDimFormDesignUpdate::Init        :
      #            if (!inventDimFormSetup)
      #                inventDimFormSetup = InventDimCtrl_Frm_Mov_Sales::newFromFormMovement(element, movement);
      #
      #        case InventDimFormDesignUpdate::Active      :
      #            inventDimFormSetup.formActiveSetup(movement.inventTable().DimGroupId,movement);
      #            inventDimFormSetup.formSetControls(true);
      #            break;
      #
      #        case InventDimFormDesignUpdate::FieldChange :
      #            inventDimFormSetup.formActiveSetup(movement.inventTable().DimGroupId,movement);
      #            inventDimFormSetup.formSetControls(false);
      #            break;
      #
      #        default : throw error(strfmt("@SYS54195",funcname()));
      #    }
      #}
      #
    ENDSOURCE
    SOURCE #checkCreditNoteLine
      #void  checkCreditNoteLine()
      #{
      #    // Additional check of returned item disables all these fields, if the -ve qty salesline is of type returned item.
      #    boolean creditNote = salesLine.creditNoteLine() && !salesTable.returnItem();
      #    boolean editCostPrice   = !salesLine.InventTransIdReturn || !InventTable::find(salesLine.ItemId).inventModelGroup().inventModelType().stdCostBased();
      #    boolean editInventTransIdReturn = creditNote && !salesLine.BlanketRefTransId;
      #    ;
      #
      #    salesLine_ds.object(fieldnum(SalesLine, Scrap)).allowEdit(creditNote && salesLine.deliveredInTotal() == 0);
      #    salesLine_ds.object(fieldnum(SalesLine, Scrap)).skip(!creditNote);
      #
      #    salesLine_ds.object(fieldnum(SalesLine, InventTransIdReturn)).allowEdit(editInventTransIdReturn);
      #    salesLine_ds.object(fieldnum(SalesLine, InventTransIdReturn)).skip(!editInventTransIdReturn);
      #
      #    salesLine_ds.object(fieldnum(SalesLine, CostPrice)).allowEdit((creditNote && editCostPrice));
      #    salesLine_ds.object(fieldnum(SalesLine, CostPrice)).skip(!(creditNote && editCostPrice));
      #
      #    if (salesLine.Scrap && salesLine.SalesQty >= 0)
      #        salesLine.Scrap = NoYes::No;
      #}
      #
    ENDSOURCE
    SOURCE #createLineAllowed
      #boolean createLineAllowed()
      #{
      #    boolean  createLine;
      #    ;
      #    if (salesTable.returnItem())
      #        createLine = false;
      #    else
      #        createLine = salesTableForm.createLineAllowed();
      #
      #    return createLine;
      #}
      #
    ENDSOURCE
    SOURCE #setEditItemAllowed
      #void  setEditItemAllowed(boolean  allowEdit)
      #{;
      #    salesLine_ds.object(fieldnum(SalesLine, ItemId)).allowEdit  (allowEdit);
      #}
      #
    ENDSOURCE
    SOURCE #SetCaptionText
      #void  setCaptionText()
      #{;
      #    element.design().caption(strfmt('%1 %2 %3 %4 %5 %6 %7 %8',"@SYS9694",salesTable.SalesId,',',"@SYS7399", salesTableForm.captionName(),',',"@SYS5398",salesLine.itemName()));
      #}
    ENDSOURCE
    SOURCE #EditSales
      #void  editSales(boolean  allowEdit, boolean allowDelete = allowEdit)
      #{;
      #    salesTable_ds.allowEdit    (allowEdit);
      #    salesTable_ds.allowDelete  (allowEdit && allowDelete);
      #    salesLine_ds.allowEdit     (allowEdit);
      #    salesLine_ds.allowCreate   (allowEdit);
      #    salesLine_ds.allowDelete   (allowEdit && allowDelete);
      #}
    ENDSOURCE
    SOURCE #enableCFPS_BR
      #// <GBR>
      #public void enableCFPS_BR(boolean _show = true)
      #{
      #    ;
      #
      #    fiscalInformation1_CFPSId.enabled(_show);
      #}
      #// </GBR>
      #
    ENDSOURCE
    SOURCE #enableGroupTaxationCode_BR
      #// <GBR>
      #public void enableGroupTaxationCode_BR(boolean _show = true)
      #{
      #    ;
      #
      #    taxationCode.enabled(_show);
      #    taxationCode.enableChilds(_show);
      #}
      #// </GBR>
    ENDSOURCE
    SOURCE #enableTaxationOrigin_BR
      #// <GBR>
      #public void enableTaxationOrigin_BR(boolean _show = true)
      #{
      #    ;
      #
      #    fiscalInformation_TaxationOrigin.enabled(_show);
      #}
      #// </GBR>
    ENDSOURCE
    SOURCE #ToggelSimpleAdvanced
      #void  toggelSimpleAdvanced(boolean _advanced = advanced)
      #{
      #    element.lock();
      #
      #    advanced = _advanced;
      #
      #    if (!advanced)
      #    {
      #        tabHeader.showTabs (false);
      #        tabLine.showTabs   (false);
      #
      #        tabHeaderSimple.visible     (true);
      #        tabHeaderOverview.visible   (false);
      #        tabHeaderGeneral.visible    (false);
      #        tabHeaderSetUp.visible      (false);
      #        tabHeaderAddress.visible    (false);
      #        tabHeaderDelivery.visible   (false);
      #        tabHeaderPriceCalc.visible  (false);
      #        tabHeaderPostings.visible   (false);
      #        tabHeaderOther.visible      (false);
      #        tabHeaderDimension.visible  (false);
      #
      #        tabLineOverview.visible     (true);
      #        tabLineGeneral.visible      (false);
      #        tabLineSetUp.visible        (false);
      #        tabLineQty.visible          (false);
      #        tabLineOther.visible        (false);
      #        tabLinePriceDisc.visible    (false);
      #        tabLineDimension.visible    (false);
      #
      #        buttonToggelSimple.visible          (true);
      #        buttonToggelAdvanced.visible        (false);
      #        buttonHeaderSetup.visible           (false);
      #        buttonHeaderFunction.visible        (false);
      #        buttonHeaderTradeAgreements.visible (false);
      #        buttonHeaderQuickQuote.visible      (true);
      #
      #        buttonLine.visible                  (false);
      #
      #        tabHeader.tab(2);
      #        tabLine.tab(1);
      #    }
      #    else
      #    {
      #        tabHeader.showTabs (true);
      #        tabLine.showTabs   (true);
      #
      #        tabHeaderOverview.visible   (true);
      #        tabHeaderGeneral.visible    (true);
      #        tabHeaderSetUp.visible      (true);
      #        tabHeaderAddress.visible    (true);
      #        tabHeaderDelivery.visible   (true);
      #        tabHeaderPriceCalc.visible  (true);
      #        tabHeaderPostings.visible   (true);
      #        tabHeaderOther.visible      (true);
      #        tabHeaderDimension.visible  (true);
      #
      #        tabLineOverview.visible     (true);
      #        tabLineGeneral.visible      (true);
      #        tabLineSetUp.visible        (true);
      #        tabLineQty.visible          (true);
      #        tabLineOther.visible        (true);
      #        tabLinePriceDisc.visible    (true);
      #        tabLineDimension.visible    (true);
      #
      #        tabHeaderSimple.visible     (false);
      #
      #        buttonToggelSimple.visible          (false);
      #        buttonToggelAdvanced.visible        (true);
      #        buttonHeaderSetup.visible           (true);
      #        buttonHeaderFunction.visible        (true);
      #        buttonHeaderTradeAgreements.visible (true);
      #        buttonHeaderQuickQuote.visible      (false);
      #
      #        buttonLine.visible                  (true);
      #
      #        tabHeader.tab(1);
      #    }
      #
      #    element.resetSize();
      #
      #    element.unLock();
      #
      #    if (advanced)
      #        salesTable_SalesIdAdvanced.setFocus();
      #    else
      #        salesTable_SalesIdSimple.setFocus();
      #}
    ENDSOURCE
    SOURCE #NewSalesId
      #SalesId  newSalesId(SalesId  _newSalesId = newSalesId)
      #{
      #    newSalesId = _newSalesId;
      #    return _newSalesId;
      #}
    ENDSOURCE
    SOURCE #validateOperationTypeToPost_BR
      #// <GBR>
      #public void validateOperationTypeToPost_BR()
      #{
      #    CustInvoiceJour     custInvoiceJourCopy;
      #    ;
      #
      #    if (BrazilParameters::isEnabled()
      #        && salesTable.ReturnItemNum && salesTable.CustRefusedNote)
      #    {
      #        select InventControl from custInvoiceJourCopy
      #            where custInvoiceJourCopy.InvoiceId         == salesTable.ReturnItemNum
      #               && custInvoiceJourCopy.InvoiceAccount    == salesTable.InvoiceAccount;
      #
      #        if ((salesTable.OperationId
      #            && (SalesOperationType_BR::find(salesTable.OperationId).InventControl != custInvoiceJourCopy.InventControl))
      #                || (!salesTable.OperationId && !custInvoiceJourCopy.InventControl))
      #        {
      #                throw error("@GLS493");
      #        }
      #    }
      #}
      #// </GBR>
    ENDSOURCE
    SOURCE #changeType
      #void  changeType()
      #{
      #    ;
      #    if (salesTableType)
      #        salesTableType.formMethodSalesTypeModifiedPreChange(element, salesTable_ds, true);
      #
      #    salesTableType = salesTable.type();
      #
      #    salesTableType.formMethodSalesTypeModifiedPostChange(element, salesTable_ds, true);
      #
      #    salesTableForm.enableAvailableDlvDatesButtons(salesTable,
      #                                                  salesAvailableDlvDatesHeader,
      #                                                  salesAvailableDlvDatesLine);
      #}
      #
    ENDSOURCE
    SOURCE #doRefresh
      #void doRefresh(boolean _lineRefreshNeeded = false)
      #{
      #    salesTable_ds.reread();
      #    salesTable_ds.refresh();
      #
      #    if (_lineRefreshNeeded)
      #    {
      #        salesLine_ds.reread();
      #        salesLine_ds.refresh();
      #    }
      #    else
      #    {
      #        salesLine_ds.research();
      #    }
      #
      #    interCompanyPurchSalesReference_ds.executeQuery();
      #}
    ENDSOURCE
    SOURCE #PBAsetEnabled
      #void pbAsetEnabled()
      #{
      #    InventTable inventTable = InventTable::find(salesline.ItemId);
      #    ;
      #    pbaExecute.enabled(inventTable.pbaItemConfigurable &&
      #                      (!inventDim.mustCheckItemDimCombination(inventTable.DimGroupId) ||
      #                        InventDimCombination::exist(inventTable.ItemId,inventDim)) && !salesTable.returnItem());
      #
      #}
      #
    ENDSOURCE
    SOURCE #interCompanyIsPriceDiscSearchNeeded
      #RecId interCompanyIsPriceDiscSearchNeeded()
      #{;
      #    return interCompanyIsPriceDiscSearchNeeded;
      #}
      #
    ENDSOURCE
    SOURCE #isCalledFromListPage
      #private boolean isCalledFromListPage()
      #{
      #    Object      myCaller;
      #    FormRun     callerForm;
      #    boolean     calledFromListPage = false;
      #    ;
      #
      #    if (element.args())
      #    {
      #        myCaller = element.args().caller();
      #        if (myCaller && SysDictClass::is(myCaller, classnum(SysSetupFormRun)))
      #        {
      #            callerForm = myCaller;
      #            if (callerForm.design().windowType() == 2) //ListPage
      #            {
      #                calledFromListPage = true;
      #            }
      #        }
      #    }
      #    return calledFromListPage;
      #}
      #
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable
          Table               #SalesTable
          Index               #SalesIdx
          StartPosition       #Last
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD PaymentSched
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #Modified
                #void modified()
                #{
                #    super();
                #
                #    if (salesTable.PaymentSched)
                #    {
                #        buttonPaymentSchedule.enabled(true);
                #    }
                #    else
                #    {
                #        buttonPaymentSchedule.enabled(false);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #Modified
                #void  modified()
                #{
                #    super();
                #
                #    element.changeType();
                #
                #    // <GBR>
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesTable_DS.refresh();
                #    }
                #    // </GBR>
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ContactPersonId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #Modified
                #void modified()
                #{;
                #    super();
                #    salesTable_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesId
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
          ENDDATAFIELD
          
          DATAFIELD VATNum
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    if (TaxVATNumTable::taxVATNumTableEnabled())
                #        TaxVATNumTable::jumpRefVATNum(salesTable, element);
                #    else
                #        super();
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{;
                #    if (TaxVATNumTable::taxVATNumTableEnabled())
                #        TaxVATNumTable::lookupVATNum(vatNum,salesTable);
                #    else
                #        super(_formControl, _filterStr);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Payment
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    salesTable_ds.object(fieldnum(SalesTable, DlvMode)).mandatory(salesTable.dlvModeMandatory());
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InterCompanyAutoCreateOrders
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (salesTable.InterCompanyAutoCreateOrders)
                #    {
                #        salesTableForm.interCompanyAutoCreateOrdersNow(true);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InterCompanyOrder
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
          ENDDATAFIELD
          
          DATAFIELD CashDisc
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    CashDisc            cashDisc;
                #    ;
                #
                #    super();
                #
                #    cashDisc = CashDisc::find(salesTable.CashDisc);
                #    salesTable.CashDiscPercent = cashDisc.Percent;
                #
                #    salesTable.dataSource().refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD EInvoiceLineSpec
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.showDimAccount();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ReturnItemNum
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    ;
                #    salesTable.jumpRefReturnItemNum(element);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (salesTable.InventSiteId)
                #    {
                #        InventLocation::lookupBySiteIdAllTypes(_formControl, salesTable.InventSiteId);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustAccount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    ;
                #
                #    super();
                #
                #    if ((select firstonly salesLine where salesLine.SalesId == salesTable.SalesId).RecId)
                #    {
                #        salesLine_ds.executeQuery();
                #    }
                #    shipCarrierAddress_ds.executeQuery();
                #
                #// <GBR>
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesTable.setCFOPDefaults_BR(false);
                #    }
                #// </GBR>
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CurrencyCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #
                #    if (TaxParameters::find().Customs_IN)
                #    {
                #        if (SalesTable::find(salesLine.SalesId).CustomsExportOrder_IN == NoYes::Yes)
                #        {
                #            salesLine.MaximumRetailPrice_IN = Currency::customsCurAmount_IN(salesLine.CustomsMaxRetailPrice_IN, salesTable.CurrencyCode, Direction_IN::Export);
                #        }
                #    }
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TDSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TDS);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TCSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TCS);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DeliveryZipCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #jumpRef
                #// Create ECH_WI_01981 by mengqi.cen on 20130227
                #public void jumpRef()
                #{
                #;
                #    echAddressJumpRef::jumpRefZipCodes(element);
                #}
              ENDSOURCE
              SOURCE #validate
                #// <GBR>
                #public boolean validate()
                #{
                #    boolean ret;
                #    CustVendCFOPId_BR custVendCFOPId;
                #
                #    ret = super();
                #    if (BrazilParameters::isEnabled()
                #        && ret)
                #    {
                #        if (dlvCity == ''
                #            && dlvCounty == ''
                #            && dlvState == ''
                #            && dlvCountry == ''
                #            && dlvDistrictName == '')
                #        {
                #            dlvZipCode      = '';
                #            dlvCity         = salesTable.DeliveryCity;
                #            dlvCounty       = salesTable.DeliveryCounty;
                #            dlvState        = salesTable.DeliveryState;
                #            dlvCountry      = salesTable.DeliveryCountryRegionId;
                #            dlvDistrictName = salesTable.DeliveryDistrictName;
                #        }
                #
                #        salesTable.AddressMap::modifiedFieldZipCode();
                #
                #        if(salesTable.DeliveryZipCode)
                #        {
                #            custVendCFOPId = CFOPMatrix_BR::cfopValueToBeDefaulted(salesTable);
                #
                #            if(salesTable.CustCFOPId != custVendCFOPId)
                #            {
                #                if(salesTable.CustCFOPId == ""
                #                   || Box::yesNo(strfmt("@GLS1009", "@SYS7924", "@GLS200"), DialogButton::No)== DialogButton::Yes)
                #                {
                #                    salesTable.CustCFOPId = custVendCFOPId;
                #                    salesTable.SalesPurch     = CFOPMatrix_BR::findCFOPRecord(salesTable.CustCFOPId, salesTable.OperationId, SalesPurchTrntype_BR::Sales).SalesPurch;
                #                    salesTable.populateSalesLegalTexts_BR(salesTable, salesTable.orig().CustCFOPId);
                #                }
                #                else
                #                {
                #                    if (dlvZipCode)
                #                    {
                #                        salesTable.DeliveryZipCode      = dlvZipCode;
                #                    }
                #                    else
                #                    {
                #                        ret = false;
                #                    }
                #
                #                        salesTable.DeliveryCity             = dlvCity;
                #                        salesTable.DeliveryCounty           = dlvCounty;
                #                        salesTable.DeliveryState            = dlvState;
                #                        salesTable.DeliveryCountryRegionId  = dlvCountry;
                #                        salesTable.DeliveryDistrictName     = dlvDistrictName;
                #
                #                        salesTable.AddressMap::formatAddress();
                #
                #                        salesTable_ds.refresh();
                #                }
                #            }
                #        }
                #        else
                #        {
                #            salesTable.CustCFOPId = '';
                #            salesTable.populateSalesLegalTexts_BR(salesTable,salesTable.orig().CustCFOPId);
                #        }
                #
                #        dlvZipCode      = '';
                #        dlvCity         = '';
                #        dlvCounty       = '';
                #        dlvState        = '';
                #        dlvCountry      = '';
                #        dlvDistrictName = '';
                #
                #        salesTable.clearAddressReference();
                #    }
                #    return ret;
                #}
                #// </GBR>
              ENDSOURCE
              SOURCE #lookup
                #// Update ECH_WI_01981 by mengqi.cen on 20130227
                #// <GBR>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #;
                #    if (BrazilParameters::isEnabled())
                #    {
                #        dlvZipCode      = salesTable.DeliveryZipCode;
                #        dlvCity         = salesTable.DeliveryCity;
                #        dlvCounty       = salesTable.DeliveryCounty;
                #        dlvState        = salesTable.DeliveryState;
                #        dlvCountry      = salesTable.DeliveryCountryRegionId;
                #        dlvDistrictName = salesTable.DeliveryDistrictName;
                #    }
                #
                #    echAddressLookup::lookupZipCodeByCountry(_formControl, SalesTable.DeliveryCountryRegionId);
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DeliveryCity
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #// <GBR>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #    if (BrazilParameters::isEnabled())
                #    {
                #        AddressCityTable_BR::cityLookup(_formControl, salesTable);
                #    }
                #}
                #// </GBR>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustFinalUser
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #// <GBR>
                #public void modified()
                #{
                #    super();
                #
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesLine_ds.research();
                #    }
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustInvoiceType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #// <GBR>
                #public void modified()
                #{
                #    super();
                #
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesTable.initFromTaxFiscalDocuTable_BR();
                #    }
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustCFOPId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #validate
                #// <GBR>
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (BrazilParameters::isEnabled()
                #        && ret)
                #    {
                #        if(salesTable.CustCFOPId)
                #        {
                #            if(!CFOPMatrix_BR::validateCFOP(salesTable, salesTable.CustCFOPId))
                #            {
                #                ret = checkFailed(strfmt("@SYS55265",
                #                                         salesTable.CustCFOPId,
                #                                         fieldpname(SalesTable, CustCFOPId),
                #                                         tablepname(CFOPMatrix_BR)));
                #            }
                #        }
                #    }
                #    return ret;
                #}
                #// </GBR>
              ENDSOURCE
              SOURCE #lookup
                #// <GBR>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    if (BrazilParameters::isEnabled())
                #    {
                #        CFOPMatrix_BR::cfopMatrixLookup(_formControl, salesTable);
                #    }
                #}
                #// </GBR>
              ENDSOURCE
              SOURCE #modified
                #// <GBR>
                #public void modified()
                #{
                #    CFOPTable_BR            cfopTable_BR;
                #    CustSalesLegalTxt_BR    custSalesLegalTxt;
                #    SalesLegalTxtSetup_BR   salesLegalTxtSetup_BR;
                #    CFOPMatrix_BR           cfopMatrix;
                #    ;
                #
                #    if (!BrazilParameters::isEnabled())
                #    {
                #        super();
                #        return;
                #    }
                #
                #    cfopTable_BR = CFOPTable_BR::findCfopId_SalesPurch(headerCustCFOP, headerSalesPurch);
                #
                #    if(cfopTable_BR.InvoiceTxtId)
                #    {
                #        if(!CustVendLegalTxt_BR::find(salesTable.CustAccount, cfopTable_BR.InvoiceTxtId, CustVendType_BR::Customer))
                #        {
                #            delete_from custSalesLegalTxt
                #                where   custSalesLegalTxt.SalesId           == salesTable.SalesId &&
                #                        custSalesLegalTxt.SalesLegalTxtId   == headerTxtId;
                #        }
                #    }
                #
                #    if (!headerCustCFOP)
                #    {
                #        headerCustCFOP = '' ;
                #    }
                #
                #    if (headerCustCFOP != salesTable.CustCFOPId)
                #    {
                #        cfopMatrix = CFOPMatrix_BR::findCFOPRecord(salesTable.CustCFOPId, salesTable.OperationId, SalesPurchTrntype_BR::Sales);
                #
                #        if(salesTable.CustCFOPId)
                #        {
                #            if(!CFOPMatrix_BR::validateCFOP(salesTable))
                #            {
                #                throw error(strfmt("@SYS55265", salesTable.CustCFOPId, fieldpname(CFOPMatrix_BR, cfopId), tablepname(CFOPMatrix_BR)));
                #            }
                #
                #            if(salesTable.CustCFOPId)
                #            {
                #                salesLegalTxtSetup_BR = SalesLegalTxtSetup_BR::find(CFOPTable_BR::findCfopId_SalesPurch(salesTable.CustCFOPId,cfopMatrix.SalesPurch).InvoiceTxtId);
                #
                #                if(salesLegalTxtSetup_BR)
                #                {
                #                    custSalesLegalTxt = CustSalesLegalTxt_BR::find(salesTable.SalesId,salesLegalTxtSetup_BR.SalesLegalTxtId);
                #
                #                    if(!custSalesLegalTxt &&
                #                        salesLegalTxtSetup_BR.SalesLegalTxtSection == LegalTxtSection_BR::Memo)
                #                    {
                #                        custSalesLegalTxt.SalesId                   = salesTable.SalesId;
                #                        custSalesLegalTxt.initFromCustSalesText(salesLegalTxtSetup_BR);
                #
                #                        custSalesLegalTxt.insert();
                #                    }
                #                }
                #            }
                #        }
                #
                #        headerCustCFOP      = salesTable.CustCFOPId;
                #        headerSalesPurch    = cfopMatrix.SalesPurch;
                #    }
                #    super();
                #
                #    CustSalesLegalTxt_BR::createFromCFOPTable(salesTable.SalesId, CFOPTable_BR::findCfopId_SalesPurch(salesTable.CustCFOPId, SalesPurch_BR::Sales));
                #
                #    headerTxtId         = CFOPTable_BR::findCfopId_SalesPurch(headerCustCFOP, headerSalesPurch).InvoiceTxtId;
                #}
                #// <GBR>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD OperationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #// <GBR>
                #public void modified()
                #{
                #    super();
                #
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesTable.createDeleteInventory_BR(salesTable);
                #        element.redraw();
                #        element.reload();
                #        salesTable_ds.refresh();
                #    }
                #}
                #// </GBR>
              ENDSOURCE
              SOURCE #validate
                #// <GBR>
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    if (BrazilParameters::isEnabled()
                #        && salesTable.OperationId
                #        && salesTable.InventControl
                #        && !SalesOperationType_BR::find(salesTable.OperationId).InventControl)
                #    {
                #        if (Box::yesNo("@GLS104", DialogButton::No) == DialogButton::No)
                #        {
                #            return false;
                #        }
                #    }
                #
                #    ret = super();
                #
                #    return ret;
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Suframa
            PROPERTIES
              AllowEdit           #No
              Skip                #Yes
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #// <GBR>
                #public void modified()
                #{
                #    ;
                #
                #    super();
                #
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesLine_ds.research();
                #    }
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SuframaPISCOFINS
            PROPERTIES
              AllowEdit           #No
              Skip                #Yes
            ENDPROPERTIES
            
          ENDDATAFIELD
          
          DATAFIELD ECHAggStatus
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
          ENDDATAFIELD
          
          DATAFIELD echInvoiceId
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
          ENDDATAFIELD
          
          DATAFIELD DeliveryCounty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #jumpRef
                #// Create ECH_WI_01981 by mengqi.cen on 20130227
                #public void jumpRef()
                #{
                #;
                #    echAddressJumpRef::jumpRefCountyByRecord(element, SalesTable);
                #}
              ENDSOURCE
              SOURCE #lookup
                #// Create ECH_WI_01981 by mengqi.cen on 20130227
                #public void lookup(FormControl _formCtrl, str _filterStr)
                #{
                #;
                #    echAddressLookup::lookupCountyByCountryState(
                #                            _formCtrl,
                #                            SalesTable.DeliveryCountryRegionId,
                #                            SalesTable.DeliveryState);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DeliveryState
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #jumpRef
                #// Create ECH_WI_01981 by mengqi.cen on 20130227
                #public void jumpRef()
                #{
                #;
                #    echAddressJumpRef::jumpRefStateByRecord(element, SalesTable);
                #}
              ENDSOURCE
              SOURCE #lookup
                #// Create ECH_WI_01981 by mengqi.cen on 20130227
                #public void lookup(FormControl _formCtrl, str _filterStr)
                #{
                #;
                #    echAddressLookup::lookupStateByCountry(_formCtrl, SalesTable.DeliveryCountryRegionId);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD echInvoiceType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #// Modified by Steven ECH_WI_02201 20130524
                #
                #public void modified()
                #{
                #    if(element.salesTable().echInvoiceType == echInvoiceType::Normal)
                #    {
                #        ttsBegin;
                #        SalesTable_ds.echVATFieldEmpty(element.salesTable().SalesId);
                #        salesTable.update();
                #        ttsCommit;
                #        SalesTable_ds.refresh();
                #        SalesTable_ds.reRead();
                #    }
                #    super();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PurchOrderFormNum
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
          ENDDATAFIELD
          
          DATAFIELD echDiscRoundOff
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #echVATFieldEmpty
          #// Add by steven ECH_WI_02201 20130524
          #void echVATFieldEmpty(SalesId _salesId)
          #{
          #    salesTable m_SalesTable;
          #    ;
          #    ttsbegin;
          #    select forupdate m_SalesTable
          #        where m_SalesTable.SalesId ==_salesId;
          #        if(m_SalesTable.echInvoiceType == echInvoiceType::Normal)
          #        {
          #        m_SalesTable.echInvoiceTaxPayerIdNumber = "";
          #        m_SalesTable.echInvoiceBankAccountNumber = "";
          #        m_SalesTable.echInvoiceDepositBank = "";
          #        m_SalesTable.echInvoiceRegisteredAddress = "";
          #        m_SalesTable.echInvoiceRegisteredPhoneNumber = "";
          #        }
          #    m_SalesTable.update();
          #    ttscommit;
          #}
        ENDSOURCE
        SOURCE #validateDelete
          #boolean validateDelete()
          #{
          #    boolean ret;
          #    ;
          #
          #    // Are you sure you want to delete replacement order? A return order is attached.
          #    if (salesTable.ReturnItemNum && SalesTable::findReturnItemNum(salesTable.ReturnItemNum).ReturnReplacementId == salesTable.SalesId
          #        && Box::yesNo("@SYS106592", DialogButton::No) == DialogButton::No)
          #    {
          #        ret = false;
          #    }
          #    else
          #    {
          #        ret = super();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    ;
          #    buttonHeaderFunction.enabled    (false);
          #    buttonLineFunction.enabled      (false);
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #setTouched
          #void setTouched()
          #{
          #    // required by form MarkupTrans to communicate changes to the caller
          #    ;
          #    salesTableForm.setTouched(salesTable);
          #}
        ENDSOURCE
        SOURCE #lastJournals
          #void  lastJournals()
          #{
          #    container  lastJournals;
          #    ;
          #
          #    if (salesTable.DocumentStatus || salesTable.QuotationId)
          #    {
          #        lastJournals = salesTable.lastJournals();
          #
          #        [lastQuotation,     lastQuotationDate]      = conpeek(lastJournals, SalesTableType::posQuotation());
          #        [lastConfirm,       lastConfirmDate]        = conpeek(lastJournals, SalesTableType::posConfirmation());
          #        [lastPickingList,   lastPickingListDate]    = conpeek(lastJournals, SalesTableType::posPickingList());
          #        [lastPackingSlip,   lastPackingSlipDate]    = conpeek(lastJournals, SalesTableType::posPackingSlip());
          #        // <GBR>
          #        if (BrazilParameters::isEnabled())
          #        {
          #            [lastDeliverySlip,   lastDeliverySlipDate]  = conpeek(lastJournals, SalesTableType::posDeliverySlip_BR()>
          #            conlen(lastJournals)? conlen(lastJournals):SalesTableType::posDeliverySlip_BR());
          #        }
          #        // </GBR>
          #        [lastInvoice,       lastInvoiceDate]        = conpeek(lastJournals, SalesTableType::posInvoice());
          #    }
          #    else
          #    {
          #        lastQuotation = '';
          #        lastQuotationDate = dateNull();
          #        lastConfirm = '';
          #        lastConfirmDate = dateNull();
          #        lastPickingList = '';
          #        lastPickingListDate = dateNull();
          #        lastPackingSlip = '';
          #        lastPackingSlipDate = dateNull();
          #        // <GBR>
          #        lastDeliverySlip = '';
          #        lastDeliverySlipDate = dateNull();
          #        // </GBR>
          #        lastInvoice = '';
          #        lastInvoiceDate = dateNull();
          #    }
          #}
        ENDSOURCE
        SOURCE #reread
          #public void reRead()
          #{
          #    if (salesTableType)
          #    {
          #        salesTableType.formMethodDataSourceDelete(element, salesTable_ds, true);
          #    }
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #boolean validateWrite()
          #{
          #    CustParameters  custParameters = CustParameters::find();
          #    boolean         ret;
          #    ;
          #    if (salesTable.RecId != 0
          #    &&  salesTable.InterCompanyOrder)
          #    {
          #        salesTable.DeliveryDateControlType  = SalesDeliveryDateControlType::None;
          #    }
          #
          #    ret = super();
          #
          #    if (!askingModifyInvoiced && ret && !salesTable.Touched)
          #    {
          #        askingModifyInvoiced = true;
          #        ret = salesTable.checkUpdate();
          #        askingModifyInvoiced = false;
          #    }
          #
          #    if (ret && salesTableType && !salesTableType.formMethodDataSourceValidateWrite(element, salesTable_ds))
          #    {
          #        ret = false;
          #    }
          #
          #    if (ret && salesTable.DeliveryDateControlType)
          #    {
          #        ret = SalesCalcAvailableDlvDates::validateWritePrompt(salesTable);
          #    }
          #
          #    if (ret)
          #    {
          #        salesTable2LineUpdatePrompt = SalesTable2LineUpdatePrompt::construct(salesTable);
          #        if (!salesTable2LineUpdatePrompt.prompt())
          #            ret = false;
          #    }
          #
          #    return ret;
          #}
          #
        ENDSOURCE
        SOURCE #WRITE
          #void  write()
          #{
          #    DialogButton            copyAddress;
          #    boolean                 convertCurrency = false;
          #    TradeCurencyConversion  tradeCurencyConversion = TradeCurencyConversion::ExchRate;
          #    boolean                 salesLineExists;
          #    boolean                 markupTransExists;
          #    ;
          #
          #    if (!askingModifyInvoiced)
          #    {
          #        salesLineExists = SalesLine::exist(salesTable.SalesId);
          #        markupTransExists = MarkupTrans::exist(salesTable.TableId, salesTable.RecId);
          #        if (salesLineExists || markupTransExists)
          #        {
          #            if (salesTable.CurrencyCode != salesTable.orig().CurrencyCode)
          #            {
          #                [convertCurrency, tradeCurencyConversion] = SalesTable::promptConvertCurrencyCode();
          #            }
          #        }
          #
          #        if (salesLineExists)
          #        {
          #            if (salesTable.DeliveryAddress != salesTable.orig().DeliveryAddress)
          #            {
          #                copyAddress = SalesTable::promptCopyDeliveryAddress();
          #            }
          #        }
          #
          #        ttsbegin;
          #
          #        if (copyAddress != DialogButton::Cancel  &&  copyAddress != DialogButton::No)
          #        {
          #            salesTable.copyAddressToLine(copyAddress, salesTable);
          #        }
          #
          #        if (salesLineExists || markupTransExists)
          #        {
          #            if (convertCurrency)
          #            {
          #                salesTable.convertCurrencyCode(salesTable.CurrencyCode, tradeCurencyConversion);
          #            }
          #            else
          #            {
          #                // Cancel has been choosen in the Convert Currency Code dialogue:
          #                //      No attempts to recalc currency code should be made;
          #                //      All changes made to the currency code have to be rolled back;
          #                //      No additional warnings should be issued concerning currency code change operation.
          #                if (salesTable.CurrencyCode != salesTable.orig().CurrencyCode)
          #                {
          #                    salesTable.CurrencyCode = salesTable.orig().CurrencyCode;
          #                }
          #            }
          #        }
          #
          #        salesTable.Touched = NoYes::No;
          #
          #        if (salesTableType)
          #        {
          #            salesTableType.formMethodDataSourceWrite(element, salesTable_ds);
          #        }
          #
          #        super();
          #
          #        salesTableForm.salesTable(salesTable);
          #
          #        if (salesTable2LineUpdatePrompt)
          #        {
          #            salesTable2LineUpdatePrompt.run();
          #            salesTable2LineUpdatePrompt = null;
          #        }
          #
          #        // <GBR>
          #        if (BrazilParameters::isEnabled())
          #        {
          #            salesTable.suframaDiscounts_BR();
          #            salesline_ds.refresh();
          #        }
          #        // </GBR>
          #
          #        ttscommit;
          #
          #        salesTableType = null;
          #    }
          #
          #    if (headerError)
          #    {
          #        element.gotoLines();
          #    }
          #
          #}
        ENDSOURCE
        SOURCE #linkActive
          #void linkActive()
          #{
          #    ProjTable                       projTableLink;
          #    ProjInvoiceTable                projInvoiceTableLink;
          #    ProjWIPTable                    projWIPTable;
          #    CostControlTransCommittedCost   costControlTransCommittedCost;
          #    QueryBuildRange                 projIdSalesTable;
          #    ;
          #
          #    switch(element.args().dataset())
          #    {
          #        case tablenum(CostControlTransCommittedCost):
          #            costControlTransCommittedCost =  element.args().record();
          #            queryBuildRangeSalesId.value(queryValue(costControlTransCommittedCost.RefId));
          #            break;
          #
          #        case tablenum(ProjTable)        :
          #            projTableLink = element.args().record();
          #            if (showChild)
          #                queryBuildRangeProjId.value(projTableLink.ProjId+'*');
          #            else
          #                queryBuildRangeProjId.value(queryValue(projTableLink.ProjId));
          #            break;
          #        case tablenum(ProjInvoiceTable):
          #            projIdSalesTable    = salesTable_ds.query().dataSourceTable(tablenum(SalesTable)).findRange(fieldnum(SalesTable,ProjId));
          #
          #            while (projIdSalesTable)
          #            {
          #                salesTable_ds.query().dataSourceTable(tablenum(SalesTable)).clearRange(fieldnum(SalesTable,ProjId));
          #                projIdSalesTable  = salesTable_ds.query().dataSourceTable(tablenum(SalesTable)).findRange(fieldnum(SalesTable,ProjId));
          #            }
          #
          #            projInvoiceTableLink   = element.args().record();
          #
          #            while select ProjId from projTableLink
          #                where projTableLink.ProjInvoiceProjId   == projInvoiceTableLink.ProjInvoiceProjId
          #            {
          #                salesTable_ds.query().dataSourceTable(tablenum(SalesTable)).addRange(fieldnum(SalesTable,ProjId)).value(projTableLink.ProjId);
          #            }
          #            break;
          #
          #        case tablenum(ProjWIPTable)     :
          #            projIdSalesTable    = salesTable_ds.query().dataSourceTable(tablenum(SalesTable)).findRange(fieldnum(SalesTable,ProjId));
          #
          #            while (projIdSalesTable)
          #            {
          #                salesTable_ds.query().dataSourceTable(tablenum(SalesTable)).clearRange(fieldnum(SalesTable,ProjId));
          #                projIdSalesTable  = salesTable_ds.query().dataSourceTable(tablenum(SalesTable)).findRange(fieldnum(SalesTable,ProjId));
          #            }
          #
          #            projWIPTable   =   element.args().record();
          #
          #            while select ProjId from projTableLink
          #                where projTableLink.wipProject  == projWIPTable.ProjId
          #            {
          #                salesTable_ds.query().dataSourceTable(tablenum(SalesTable)).addRange(fieldnum(SalesTable,ProjId)).value(projTableLink.ProjId);
          #            }
          #
          #            break;
          #
          #            case tablenum(smmActivities) :
          #            smmActivityParentLink::updateQuery(this.query().dataSourceTable(tablenum(SalesTable)), element.args().record());
          #            break;
          #    }
          #
          #    if (salesTableForm.linkActive())
          #    {
          #         salesTableForm.salesTable(element.args().record());
          #         salesTable_ds.query(salesTableForm.querySalesTable(salesTable_ds.query()));
          #    }
          #
          #    if (salesTableType)
          #    {
          #        salesTableType.formMethodDataSourceLinkActive(element, salesTable_ds);
          #    }
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #Init
          #void  init()
          #{
          #    Query           query;
          #    QueryBuildRange queryBuildRange;
          #    ProdTable       prodTable;
          #    ;
          #
          #    switch(element.args().dataset())
          #    {
          #        case tablenum(ProjTable) :
          #            salesTable_ds.autoQuery(false);
          #            query   = new Query();
          #            queryBuildRangeProjId = query.addDataSource(tablenum(SalesTable)).addRange(fieldnum(SalesTable, ProjId));
          #            salesTable_ds.query(query);
          #            break;
          #
          #        case tablenum(CostControlTransCommittedCost) :
          #            salesTable_ds.autoQuery(false);
          #            query   = new Query();
          #            queryBuildRangeSalesId = query.addDataSource(tablenum(SalesTable)).addRange(fieldnum(SalesTable, SalesId));
          #            salesTable_ds.query(query);
          #            break;
          #
          #    }
          #
          #    super();
          #
          #    switch(element.args().dataset())
          #    {
          #        case tablenum(ProdTable) :
          #            prodTable = element.args().record();
          #            if (prodTable.InventRefType == InventRefType::Sales && prodTable.InventRefId)
          #            {
          #                salesTable_ds.query().dataSourceTable(tablenum(SalesTable)).clearDynalinks();
          #                salesTable_ds.query().dataSourceTable(tablenum(SalesTable)).addDynalink(fieldnum(SalesTable, SalesId),element.args().record(),fieldnum(ProdTable, InventRefId));
          #                queryBuildRange = salesTable_ds.query().dataSourceTable(tablenum(SalesTable)).findRange(fieldnum(SalesTable, SalesStatus));
          #                if (queryBuildRange)
          #                {
          #                    queryBuildRange.value(SysQuery::valueUnlimited());
          #                }
          #            }
          #            break;
          #    }
          #
          #    salesTable_ds.cacheAddMethod(tablemethodstr(SalesTable, qualityOrderStatusDisplay));
          #    salesTable_ds.cacheAddMethod(tablemethodstr(SalesTable, salesIdBlanket));
          #    // <GCN>
          #    if (taxIntegrationSystem_CN)
          #    {
          #        salesTable_ds.cacheAddMethod(tablemethodstr(SalesTable, getVATRegistrationNum_CN));
          #    }
          #    // </GCN>
          #}
          #
        ENDSOURCE
        SOURCE #Delete
          #void  delete()
          #{;
          #    if (salesTable.checkDelete())
          #    {
          #        if (salesTableType)
          #        {
          #            salesTableType.formMethodDataSourceDelete(element, salesTable_ds);
          #        }
          #
          #        super();
          #        buttonHeaderFunction.enabled    (salesTable.RecId);
          #    }
          #}
        ENDSOURCE
        SOURCE #Create
          #void  create(boolean  append = true)
          #{
          #    SalesTable   newSalesTable;
          #    ;
          #    salesTableForm.interCompanyAutoCreateOrders();
          #
          #    element.editSales(true);
          #
          #    if (salesTableForm.create())
          #    {
          #        newSalesTable = SalesTable::find(salesTableForm.newSalesId());
          #
          #        if (newSalesTable)
          #        {
          #            super(append);
          #
          #            salesTable.data(newSalesTable);
          #
          #            // <GBR>
          #            if (BrazilParameters::isEnabled())
          #            {
          #                salesTable.setCFOPDefaults_BR(false);
          #
          #                CustSalesLegalTxt_BR::initCustSalesTxt(salesTable);
          #
          #                salesTable_ds.write();
          #            }
          #            // </GBR>
          #
          #            salesTable_ds.reread();
          #
          #            tabLineOverview.setFocus();
          #        }
          #    }
          #    else
          #    {
          #        element.editSales(salesTableForm.editHeaderAllowed(), salesTableForm.deleteHeaderAllowed());
          #    }
          #}
        ENDSOURCE
        SOURCE #Active
          #// *** ECHINA - Anthony Christiaens ***
          #// *** Customization Code: ECH_I_OR02_1
          #// *** Customization Date: 28 Mar 2012
          #// *** Customization Type: created
          #// *** Description: set form controls
          #
          #int  active()
          #{
          #    int                     ret;
          #    SalesTableType          editSalesTableType;
          #    SalesTotals             salesTotals;
          #    boolean                 editDisc;
          #    ;
          #    ret = super();
          #
          #    editSalesTableType = salesTable.type();
          #    salesTableForm.salesTable(salesTable);
          #    salesTableForm.enableAvailableDlvDatesButtons(salesTable, salesAvailableDlvDatesHeader, salesAvailableDlvDatesLine);
          #
          #    // Enables or disables the sales order fields.
          #    if ((salesTable.SalesType == SalesType::ReturnItem && !isReturnFieldsEnabled)
          #        || (salesTable.SalesType != SalesType::ReturnItem && isReturnFieldsEnabled))
          #    {
          #        element.setReturnFields();
          #        isReturnFieldsEnabled = !isReturnFieldsEnabled;
          #    }
          #
          #    buttonHeaderQuickQuote.enabled(salesTableForm.editHeaderAllowed());
          #    buttonLineQuickQuote.  enabled(salesTableForm.editHeaderAllowed());
          #    buttonHeaderFunction.  enabled(salesTable.RecId);
          #    buttonLineFunction.    enabled(salesTable.RecId);
          #    salesUpdateRemain.     enabled(editSalesTableType.canUpdateRemainingQty());
          #
          #    salesTableForm.enableAvailableDlvDatesButtons(salesTable, salesAvailableDlvDatesHeader, salesAvailableDlvDatesLine);
          #    element.editSales(salesTableForm.editHeaderAllowed());
          #
          #    salesTable_ds.object(fieldnum(SalesTable, CustAccount)   ).allowEdit(editSalesTableType.editCustAccount());
          #    salesTable_ds.object(fieldnum(SalesTable, InvoiceAccount)).allowEdit(editSalesTableType.editInvoiceAccount());
          #    salesTable_ds.object(fieldnum(SalesTable, vatNum)        ).allowEdit(editSalesTableType.editVATNum());
          #    salesTable_ds.object(fieldnum(SalesTable, InclTax)       ).allowEdit(editSalesTableType.editInclTax());
          #
          #    salesTable_ds.object(fieldnum(SalesTable, DlvMode)       ).mandatory(salesTable.dlvModeMandatory());
          #
          #    if (tabHeaderPostings.isActivePage())
          #    {
          #        this.lastJournals();
          #    }
          #
          #    if (tmpSalesTableTaxTransForm && !tmpSalesTableTaxTransForm.closed())
          #    {
          #        salesTotals = SalesTotals::construct(salesTable);
          #        salesTotals.calc();
          #        tmpSalesTableTaxTransForm.pushTaxObject(salesTotals.tax());
          #    }
          #    // <GIN>
          #    if (TaxWithholdParameters_IN::checkTaxParameters() && tmpSalesTableTaxWithholdTransForm && !tmpSalesTableTaxWithholdTransForm.closed())
          #    {
          #        salesTotals = SalesTotals::construct(salesTable);
          #        salesTotals.calcWithholdTax_IN(salesTable,salesLine);
          #        tmpSalesTableTaxWithholdTransForm.pushTaxObject(salesTotals.taxWithhold_IN());
          #    }
          #    // </GIN>
          #
          #    editDisc = editSalesTableType.editDisc();
          #    salesTable_ds.object(fieldnum(SalesTable,PriceGroupId)  ).enabled(editDisc);
          #    salesTable_ds.object(fieldnum(SalesTable,MultiLineDisc) ).enabled(editDisc);
          #    salesTable_ds.object(fieldnum(SalesTable,EndDisc)       ).enabled(editDisc);
          #    salesTable_ds.object(fieldnum(SalesTable,DiscPercent)   ).enabled(editDisc);
          #    salesTable_ds.object(fieldnum(SalesTable,LineDisc)      ).enabled(editDisc);
          #    salesTable_ds.object(fieldnum(SalesTable,MarkupGroup)   ).enabled(editDisc);
          #    salesLine_ds.object (fieldnum(SalesLine, LinePercent)   ).enabled(editDisc);
          #    salesLine_ds.object (fieldnum(SalesLine, LineDisc)      ).enabled(editDisc);
          #    salesLine_ds.object (fieldnum(SalesLine, MultiLnDisc)   ).enabled(editDisc);
          #    salesLine_ds.object (fieldnum(SalesLine, MultiLnPercent)).enabled(editDisc);
          #
          #    salesTableForm.interCompanySetHeaderAccess(interCompanyAllowIndirectCreationOrig,groupIntercompanyPurchTable);
          #
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        this.setFieldAccess_BR();
          #
          #        if (salesTable.CustCFOPId)
          #        {
          #            salesTable.SalesPurch = CFOPMatrix_BR::findCFOPRecord(salesTable.CustCFOPId,
          #                                                                  salesTable.OperationId, SalesPurchTrntype_BR::Sales).SalesPurch;
          #        }
          #
          #        AddressCityTable_BR::activeFormDataSource(element.design().controlName('HeaderDeliveryAddress_DeliveryCity'));
          #
          #        if (salesTable.CustCFOPId)
          #        {
          #            headerCustCFOP      = salesTable.CustCFOPId;
          #            headerSalesPurch    = CFOPMatrix_BR::findCFOPRecord(salesTable.CustCFOPId,
          #                                                                salesTable.OperationId,
          #                                                                SalesPurchTrntype_BR::Sales).SalesPurch;
          #            headerTxtId         = CFOPTable_BR::findCfopId_SalesPurch(headerCustCFOP,  headerSalesPurch).InvoiceTxtId;
          #        }
          #        else
          #        {
          #            headerCustCFOP      = "";
          #            headerTxtId         = "";
          #        }
          #    }
          #    // </GBR>
          #
          #    salesTable_Reference_ds.executeQuery();
          #
          #    buttonHeaderInterCompany.enabled(salesTableForm.interCompanyShowButtonHeader());
          #
          #    eInvoice.    visible(CustTable::isCustDKPublic(salesTable.InvoiceAccount));
          #    eInvoiceLine.visible(CustTable::isCustDKPublic(salesTable.InvoiceAccount));
          #
          #    this.showDimAccount();
          #
          #    headerInquiry_CostControlCommittedCost.enabled(salesTable.ProjId ? true : false);
          #
          #    allowSetFocusOnItemId = false;
          #
          #    element.enableCreditCardMenuItems();
          #    // <GIN>
          #    if (TaxParameters::checkTaxParameters_IN())
          #    {
          #        customsExportAssessableValue_IN.enabled(salesTable.CustomsExportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);
          #        salesLine_CustomsMaxRetailPrice_IN.visible(SalesTable::find(salesTable.SalesId).CustomsExportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);//51568
          #        salesLine_MaximumRetailPrice_IN.enabled(SalesTable::find(salesLine.SalesId).CustomsExportOrder_IN == NoYes::No);
          #        element.updateDesignExcise_IN();
          #        element.setTaxWithholdEnabled_IN();
          #        element.setReturnFields_IN();
          #    }
          #    // </GIN>
          #
          #// CS - ECH_I_OR02_1 - Anthony Christiaens - 28 Mar 2012
          #    element.echSetControls();
          #// CE - ECH_I_OR02_1 - Anthony Christiaens - 28 Mar 2012
          #    // <RETAIL>
          #    element.updateHHTButton();
          #
          #    if (SalesTable.SalesStatus == SalesStatus::Invoiced)
          #    {
          #        RBOPrePaymentTable_ds.object(fieldnum(RBOPrePaymentTable, prePaymentToPay)).enabled(false);
          #    }
          #    else
          #    {
          #        RBOPrePaymentTable_ds.object(fieldnum(RBOPrePaymentTable, prePaymentToPay)).enabled(true);
          #    }
          #    // </RETAIL>
          #    return ret;
          #}
          #
        ENDSOURCE
        SOURCE #editHeader
          #void editHeader()
          #{
          #    this.editSales();
          #}
        ENDSOURCE
        SOURCE #editSales
          #void editSales()
          #{;
          #    element.editSales(salesTableForm.editHeaderAllowed(), salesTableForm.deleteHeaderAllowed());
          #}
        ENDSOURCE
        SOURCE #reReadLines
          #void  reReadLines()
          #{
          #    salesLine_ds.executeQuery();
          #}
        ENDSOURCE
        SOURCE #lastConfirm
          #//BP Deviation Documented
          #display ConfirmId  lastConfirm()
          #{
          #    return lastConfirm;
          #}
        ENDSOURCE
        SOURCE #lastConfirmDate
          #//BP Deviation Documented
          #display TransDate lastConfirmDate()
          #{
          #    return lastConfirmDate;
          #}
        ENDSOURCE
        SOURCE #lastInvoice
          #//BP Deviation Documented
          #display InvoiceId lastInvoice()
          #{
          #    return lastInvoice;
          #}
        ENDSOURCE
        SOURCE #lastInvoiceDate
          #//BP Deviation Documented
          #display TransDate lastInvoiceDate()
          #{
          #    return lastInvoiceDate;
          #}
        ENDSOURCE
        SOURCE #lastPackingSlip
          #//BP Deviation Documented
          #display PackingSlipId lastPackingSlip()
          #{
          #    return lastPackingSlip;
          #}
        ENDSOURCE
        SOURCE #lastPackingSlipDate
          #//BP Deviation Documented
          #display TransDate  lastPackingSlipDate()
          #{
          #    return lastPackingSlipDate;
          #}
        ENDSOURCE
        SOURCE #lastPickingList
          #//BP Deviation Documented
          #display PickingListId  lastPickingList()
          #{
          #    return lastPickingList;
          #}
        ENDSOURCE
        SOURCE #lastPickingListDate
          #//BP Deviation Documented
          #display TransDate  lastPickingListDate()
          #{
          #    return lastPickingListDate;
          #}
        ENDSOURCE
        SOURCE #lastQuotation
          #//BP Deviation Documented
          #display QuotationId lastQuotation()
          #{
          #    return lastQuotation;
          #}
        ENDSOURCE
        SOURCE #lastQuotationDate
          #//BP Deviation Documented
          #display TransDate lastQuotationDate()
          #{
          #    return lastQuotationDate;
          #}
        ENDSOURCE
        SOURCE #leave
          #public boolean leave()
          #{
          #    boolean ret;
          #    ;
          #
          #    ret = super();
          #
          #    salesTableForm.interCompanyAutoCreateOrders();
          #
          #    // PBA begin
          #    if (!salesLine.PBAItemLine::checkMandatory() )
          #    {
          #        return false;
          #    }
          #    // PBA end
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #showDimAccount
          #void showDimAccount()
          #{
          #    if (salesTable.eInvoiceLineSpec == NoYes::No)
          #    {
          #        eInvoice_EInvoiceLineSpec.enabled(true);
          #        eInvoice_EInvoiceAccountCode.enabled(true);
          #        eInvoiceLine_EInvoiceAccountCode.enabled(false);
          #    }
          #    else
          #    {
          #        eInvoice_EInvoiceAccountCode.enabled(false);
          #        eInvoiceLine_EInvoiceAccountCode.enabled(true);
          #    }
          #}
          #
          #
        ENDSOURCE
        SOURCE #checkCreditLimit
          #void checkCreditLimit()
          #{
          #    TypeOfCreditmaxCheck    typeOfCreditmaxCheck    = CustParameters::find().CreditMaxCheck;
          #    SalesUpdate qtySpec = (typeOfCreditmaxCheck == TypeOfCreditmaxCheck::BalanceDelivered ? SalesUpdate::PackingSlip :
          #                           typeOfCreditmaxCheck == TypeOfCreditmaxCheck::BalanceAll       ? SalesUpdate::All         : 0);
          #    SalesTotals salesTotals = SalesTotals::construct(salesTable, qtySpec);
          #    ;
          #    salesTable.checkCreditLimit(salesTotals);
          #}
          #
        ENDSOURCE
        SOURCE #refresh
          #// <GBR>
          #public void refresh()
          #{
          #    super();
          #
          #    if (BrazilParameters::isEnabled())
          #        this.setFieldAccess_BR();
          #}
          #// </GBR>
        ENDSOURCE
        SOURCE #setFieldAccess_BR
          #// <GBR>
          #private void setFieldAccess_BR()
          #{
          #    boolean     allowEditOrCreateForNoReference;
          #    boolean     allowEditOrCreate = !salesTable.returnItem()
          #    ;
          #    salesTable_ds.object(fieldnum(SalesTable,CustFinalUser)).enabled(!salesTable.Suframa);
          #    salesTable_ds.object(fieldnum(SalesTable, ReturnItemNum)).enabled(true);
          #
          #    if (salesTable.CustRefusedNote && salesTable.SalesType != SalesType::ReturnItem)
          #    {
          #        salesTable_ds.object(fieldnum(SalesTable, ReturnItemNum)).enabled(false);
          #    }
          #
          #    // For returned orders that did not originated from an original order,
          #    // the fiscal fields will be enabled as these fields are not available
          #    // on Return Order Details form.
          #    if (salesTable.returnItem()
          #        && salesTable.InvoiceRefRecID == 0
          #        && salesTable.SalesStatus != SalesStatus::Invoiced)
          #    {
          #        allowEditOrCreateForNoReference = true;
          #    }
          #    else
          #    {
          #         allowEditOrCreateForNoReference = allowEditOrCreate;
          #    }
          #    salesTable_ds.object(fieldnum(SalesTable, CustInvoiceType)).allowEdit(allowEditOrCreateForNoReference);
          #    salesTable_ds.object(fieldnum(SalesTable, OperationId)).allowEdit(salesTable.type().canEditOperationId() && allowEditOrCreateForNoReference);
          #    salesTable_ds.object(fieldnum(SalesTable, cfpsId)).allowEdit(allowEditOrCreateForNoReference);
          #
          #    salesLine_ds.object(fieldnum(SalesLine, CustReceiptIssueCode)).allowEdit(allowEditOrCreateForNoReference);
          #    salesLine_ds.object(fieldnum(SalesLine, TaxItemGroup)).allowEdit(true);
          #    salesLine_ds.object(fieldnum(SalesLine, TaxGroup)).allowEdit(true);
          #}
          #// </GBR>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLine
          Table               #SalesLine
          Index               #SalesLineIdx
          CounterField        #LineNum
          JoinSource          #SalesTable
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD ItemId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    Args    args;
                #    FormRun formRun;
                #
                #    ;
                #    // PBa
                #    if (PBAParameters::find().LookupMethod == PBALookupMethod::Configurable)
                #    {
                #        args = new Args(formstr(PBAItemIdLookup));
                #        args.caller(element);
                #        args.record(salesLine);
                #        formRun = classfactory.formRunClass(args);
                #        formRun.init();
                #        this.performFormLookup(formRun, _formControl);
                #    }
                #    else
                #        super(_formControl, _filterStr);
                #
                #}
              ENDSOURCE
              SOURCE #Modified
                #void  modified()
                #{
                #    ItemId  itemId;
                #    InventDim localInventDim;
                #    // <GIN>
                #    InventTable     inventTableLoc;
                #    // </GIN>
                #    ;
                #
                #    super();
                #
                #    itemId = salesLine.ItemId;
                #
                #    salesTableForm.resetSalesLine(salesLine);
                #
                #    salesLine.ItemId = itemId;
                #
                #    localInventDim = salesLine.inventDim();
                #    localInventDim.initFromInventTable(salesLine.inventTable(), InventItemOrderSetupType::Sales, localInventDim);
                #
                #    salesLine.setDeliveryDateControlType(InventDim::findOrCreate(localInventDim).InventDimId);
                #
                #    // <RETAIL>
                #    if (itemBarcode)
                #    {
                #        salesLine.InventDimId = itemBarcode.inventDimId;
                #
                #        salesLine_ds.itemIdModified();
                #
                #        salesLine.SalesQty = itemBarcode.qty;
                #        salesLine.SalesUnit = itemBarcode.UnitID;
                #    }
                #    else
                #    {
                #        salesLine_ds.itemIdModified();
                #    }
                #
                #    // </RETAIL>
                #    /* <RETREM>
                #    salesLine_ds.itemIdModified();
                #    </RETREM> */
                #    SalesLine::modifySalesQty(salesLine,inventDim);
                #
                #    // PBA begin
                #    element.pbAsetEnabled();
                #    // PBA end
                #
                #    element.updateRFIDTagging();
                #    // <GIN>
                #    if (TaxParameters::checkTaxParameters_IN())
                #    {
                #        element.updateDesignExcise_IN();
                #
                #        inventTableLoc = InventTable::find(salesLine.ItemId);
                #        salesLine.ExciseTariffCode_IN   = inventTableLoc.ExciseTariffCode_IN;
                #        salesLine.CustomsTariffCode_IN  = inventTableLoc.ExportTariffCode_IN;
                #        salesLine.ServiceCode_IN        = inventTableLoc.ServiceCode_IN;
                #        if (SalesTable::find(salesLine.SalesId).CustomsExportOrder_IN == NoYes::Yes)
                #        {
                #            //MRP defaulted from item is converted using Customs exchange rate for Export orders.
                #            salesLine.MaximumRetailPrice_IN = Currency::customsCurAmount_IN(salesLine.CustomsMaxRetailPrice_IN, salesTable.CurrencyCode, Direction_IN::Export);
                #        }
                #    }
                #    // </GIN>
                #}
                #
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #    ;
                #
                #    itemBarcode.clear();
                #
                #    if (!InventTable::exist(SalesLine_ItemId.text()))
                #    {
                #        itemBarcode = InventItemBarcode::findRetailBarcode(SalesLine_ItemId.text());
                #
                #        if(itemBarcode.itemId)
                #        {
                #            SalesLine_ItemId.text(itemBarcode.itemId);
                #            salesLine.ItemId = itemBarcode.itemId;
                #        }
                #    }
                #
                #    ret = super();
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesQty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #Modified
                #void  modified()
                #{
                #    ;
                #    if (salesLine.SalesQty > 0 && salesLine.type().mustSalesQtyBeNegative())
                #        error("@SYS98119");
                #
                #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #
                #    salesLine.modifyWMSLocation(inventDim, fieldnum(InventDim,InventLocationId), InventTable::find(salesLine.ItemId).DimGroupId);
                #    super();
                #
                #    element.checkCreditNoteLine();
                #
                #    interCompanyIsPriceDiscSearchNeeded = salesLine.RecId;
                #    // <GIN>
                #    if (TaxParameters::checkTaxParameters_IN())
                #    {
                #        element.updateDesignExcise_IN();
                #    }
                #    // </GIN>
                #
                #    salesLine_ds.refresh();
                #
                #    // PBA begin
                #    if (PBATableInstance::existsPost(salesLine.InventTransId))
                #    {
                #        if (salesLine.orig().SalesPrice &&
                #            salesLine.orig().SalesPrice != salesLine.SalesPrice)
                #        {
                #            if (PBAParameters::find().PriceCalc == NoYes::Yes)
                #            {
                #                //salesLine.SalesPrice = salesLine.orig().SalesPrice;
                #                salesLine.calcLineAmount();
                #            }
                #            else
                #            {
                #                if (Box::yesNo("@SYS97951", DialogButton::Yes, "@SYS97952") == DialogButton::Yes)
                #                {
                #                    pbaExecute.BMSimulateClick();
                #                    return;
                #                }
                #            }
                #        }
                #        if (salesLine.orig().SalesQty != salesLine.SalesQty)
                #        {
                #            if (Box::yesNo("@SYS97953", DialogButton::Yes, "@SYS97952") == DialogButton::Yes)
                #            {
                #                pbaExecute.BMSimulateClick();
                #            }
                #            else
                #            {
                #                //clean up BOM, Route and PBA id fields
                #                salesLine.ItemBOMId = '';
                #                salesLine.ItemRouteId = '';
                #                salesLine.ItemPBAId = '';
                #            }
                #        }
                #    }
                #    // PBA end
                #
                #    // <GIN>
                #    if (TaxParameters::find().EximIncentiveSchemes_IN && salesLine.SalesQty < 0)
                #    {
                #        eximSalesLine_IN.ApplyDEPB            = NoYes::No;
                #        eximSalesLine_IN.MarketValue          = 0.00;
                #        eximSalesLine_IN.dbkCenvatStatus      = EximDBKCenvatStatus_IN::None;
                #        eximSalesLine_IN.dbkRateType          = EximDBKRateType_IN::AllIndustryRate;
                #        eximSalesLine_IN.dbkPercent           = 100;
                #        eximSalesLine_IN.IncentiveSchemeGroup = '';
                #        eximSalesLine_IN.PortId               = '';
                #        eximSalesLine_IN.ProductGroup         = '';
                #    }
                #
                #    element.setEximFieldsAccess_IN();
                #    // </GIN>
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesUnit
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #Modified
                #void  modified()
                #{;
                #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #
                #    super();
                #
                #    salesLine.setPriceDisc(inventDim);
                #    interCompanyIsPriceDiscSearchNeeded = salesLine.RecId;
                #    salesLine.calcPackingUnitQty(inventDim);
                #    salesLine_ds.refresh();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesPrice
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #Modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD LineAmount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #Modified
                #void modified()
                #{
                #    super();
                #
                #    salesLine_ds.active();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PriceUnit
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #Modified
                #void modified()
                #{
                #    super();
                #
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventTransIdReturn
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{;
                #    InventTrans::lookupTransIdReturn(_formControl, salesLine.ItemId, inventDim);
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.checkCreditNoteLine();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ProjId
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
          ENDDATAFIELD
          
          DATAFIELD LedgerAccount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{;
                #    LedgerTable::lookupAccountNum(_formControl, LedgerPostingType::InventReceipt);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustAccount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{;
                #    SalesTable::lookupDeliveryAccount(_formControl, salesLine.invoiceAccount());
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemBOMId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{;
                #    InventTable::lookupBOMId(_formControl, salesLine.ItemId, inventDim);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemRouteId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{;
                #    InventTable::lookupRouteId(_formControl, salesLine.ItemId, inventDim);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DeliveryZipCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #jumpRef
                #// Update ECH_WI_01981 by mengqi.cen on 20130227
                #public void jumpRef()
                #{
                #    ;
                #    echAddressJumpRef::jumpRefZipCodes(element);
                #//    ZipCode::formJumpRef(salesTable);
                #}
              ENDSOURCE
              SOURCE #lookup
                #// Update ECH_WI_01981 by mengqi.cen on 20130227
                #// <GBR>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #;
                #    if (BrazilParameters::isEnabled())
                #    {
                #        dlvZipCode      = salesLine.DeliveryZipCode;
                #        dlvCity         = salesLine.DeliveryCity;
                #        dlvCounty       = salesLine.DeliveryCounty;
                #        dlvState        = salesLine.DeliveryState;
                #        dlvCountry      = salesLine.DeliveryCountryRegionId;
                #        dlvDistrictName = salesLine.DeliveryDistrictName;
                #    }
                #
                #    echAddressLookup::lookupZipCodeByCountry(_formControl, salesLine.DeliveryCountryRegionId);
                #}
                #// <GBR>
              ENDSOURCE
              SOURCE #validate
                #// <GBR>
                #public boolean validate()
                #{
                #    boolean ret;
                #    CustVendCFOPId_BR custVendCFOPId;
                #    TaxesMatrix_BR      taxesMatrixLoc;
                #
                #    ret = super();
                #
                #    if (BrazilParameters::isEnabled()
                #        && ret)
                #    {
                #        if (dlvCity == '' && dlvCounty == '' && dlvState == '' && dlvCountry == '' && dlvDistrictName == '')
                #        {
                #            dlvZipCode      = '';
                #            dlvCity         = salesLine.DeliveryCity;
                #            dlvCounty       = salesLine.DeliveryCounty;
                #            dlvState        = salesLine.DeliveryState;
                #            dlvCountry      = salesLine.DeliveryCountryRegionId;
                #            dlvDistrictName = salesLine.DeliveryDistrictName;
                #        }
                #        salesLine.AddressMap::modifiedFieldZipCode();
                #
                #        if(salesLine.DeliveryZipCode)
                #        {
                #            custVendCFOPId = CFOPMatrix_BR::cfopValueToBeDefaulted(salesLine);
                #
                #            if(salesLine.CustCFOPId != custVendCFOPId)
                #            {
                #                if(salesLine.CustCFOPId == ""
                #                   || Box::yesNo(strfmt("@GLS1009", "@SYS7924", "@GLS200"), DialogButton::No)== DialogButton::Yes)
                #                {
                #                    salesLine.CustCFOPId = custVendCFOPId;
                #                    salesLine.SalesPurch = CFOPMatrix_BR::findCFOPRecord(salesLine.CustCFOPId, salesLine.salesTable().OperationId, SalesPurchTrntype_BR::Sales).SalesPurch;
                #                    taxesMatrixLoc.setItemAndSalesTaxes(salesLine, salesLine.salesTable().OperationId);
                #                    salesLine.initFromTaxIntersection_BR();
                #                    salesLine.populateSalesLineLegalTexts_BR(salesLine, salesLine.salesTable().CustCFOPId);
                #                }
                #                else
                #                {
                #                    if (dlvZipCode)
                #                    {
                #                        salesLine.DeliveryZipCode = dlvZipCode;
                #                    }
                #                    else
                #                    {
                #                        ret = false;
                #                    }
                #
                #                    salesLine.DeliveryCity              = dlvCity;
                #                    salesLine.DeliveryCounty            = dlvCounty;
                #                    salesLine.DeliveryState             = dlvState;
                #                    salesLine.DeliveryCountryRegionId   = dlvCountry;
                #                    salesLine.DeliveryDistrictName      = dlvDistrictName;
                #
                #                    salesLine.AddressMap::formatAddress();
                #
                #                    salesLine_ds.refresh();
                #                }
                #            }
                #        }
                #        else
                #        {
                #            salesLine.CustCFOPId = '';
                #            taxesMatrixLoc.setItemAndSalesTaxes(salesLine, salesLine.salesTable().OperationId);
                #            salesLine.initFromTaxIntersection_BR();
                #            salesLine.populateSalesLineLegalTexts_BR(salesLine, salesLine.salesTable().CustCFOPId);
                #        }
                #
                #        dlvZipCode              = '';
                #        dlvCity                 = '';
                #        dlvCounty               = '';
                #        dlvState                = '';
                #        dlvCountry              = '';
                #        dlvDistrictName         = '';
                #        dlvAddressNumber        = '';
                #        dlvAddressComplement    = '';
                #        dlvDistrictName         = '';
                #
                #        salesLine.clearAddressReference();
                #    }
                #    return ret;
                #}
                #// </GBR>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemTagging
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.updateRFIDTagging();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CaseTagging
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.updateRFIDTagging();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemPBAId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    //PBA begin
                #    ;
                #    PBAVersion::lookupPBAId(_formControl, salesLine.ItemId);
                #    //PBA end
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ActivityNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #;
                #    HierarchyTreeTable::lookupHierarchyTree(_formControl, ProjTable::find(salesLine.ProjId));
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ProjTransId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    ;
                #    ProjItemTrans::jumpRefTransId(salesLine, element);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ExpectedRetQty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{;
                #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #    super();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustomsTariffCode_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    CustomsTariffCodeTable_IN::lookupDirectionImportExport(_formControl, enum2str(Direction_IN::Export));
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesTaxFormType_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    if (salesLine.DeliveryState == salesLine.State_IN)
                #    {
                #        SalesTaxFormTypes_IN::lookupFormTypesState(_formControl, salesLine.State_IN);
                #    }
                #    else
                #    {
                #        SalesTaxFormTypes_IN::lookupFormTypesState(_formControl, '');
                #    }
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Name_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    CompanyInfo::lookupCompanyName_IN(_formControl, salesLine);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #modified
                #    // <GIN>
                #public void modified()
                #{
                #    ;
                #
                #    super();
                #
                #    salesLine.DirectSettlement_IN   = DirectSettlement_IN::None;
                #    salesLine.ExciseRecordType_IN       = ExciseRecordType_IN::None;
                #    element.enableDisableExciseRecordType_IN();
                #    element.updateDesignExcise_IN();
                #    element.enableFieldsActive_IN();
                #    salesLine_ds.refresh();
                #}
                #// </GIN>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ECCNumber_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    ;
                #
                #    TaxRegistrationNumberTable_IN::jumpRef(salesLine.eccNumber_IN, TaxType_IN::Excise, salesLine);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    TaxRegistrationNumberTable_IN::lookupRegistrationNumber(_formControl, TaxType_IN::Excise, TaxRegistrationType_IN::Company);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesTaxRegistrationNumber_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    TaxRegistrationNumberTable_IN::lookupRegistrationNumber(_formControl, TaxType_IN::SalesTax, TaxRegistrationType_IN::Company);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    ;
                #
                #    TaxRegistrationNumberTable_IN::jumpRef(salesLine.SalesTaxRegistrationNumber_IN, TaxType_IN::SalesTax, salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TIN_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    TaxRegistrationNumberTable_IN::lookupRegistrationNumber(_formControl, TaxType_IN::VAT, TaxRegistrationType_IN::Company);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    ;
                #
                #    TaxRegistrationNumberTable_IN::jumpRef(salesLine.tin_in, TaxType_IN::VAT, salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD STCNumber_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    TaxRegistrationNumberTable_IN::lookupRegistrationNumber(_formControl, TaxType_IN::ServiceTax, TaxRegistrationType_IN::Company);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    ;
                #
                #    TaxRegistrationNumberTable_IN::jumpRef(salesLine.stcNumber_IN, TaxType_IN::ServiceTax, salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD IECNumber_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    TaxRegistrationNumberTable_IN::lookupRegistrationNumber(_formControl, TaxType_IN::Customs, TaxRegistrationType_IN::Company);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    ;
                #
                #    TaxRegistrationNumberTable_IN::jumpRef(salesLine.iecNumber_IN, TaxType_IN::Customs, salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ExciseRecordType_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #
                #    element.updateDesignExcise_IN();
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ServiceCode_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    ServiceCodeTable_IN::lookupServiceCode(_formControl);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TDSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TDS);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TCSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TCS);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TAN_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #
                #    TaxWithholdRegNumberTable_IN::lookupRegistrationNumber(_formControl, TaxRegistrationType_IN::Company);
                #}
                #// </GIN>
                #
                #
                #
              ENDSOURCE
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    ;
                #
                #    TaxWithholdRegNumberTable_IN::jumpRef(salesLine.tan_in, salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TaxItemGroup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #// <GBR>
                #public void modified()
                #{
                #    super();
                #
                #    if (BrazilParameters::isEnabled())
                #    {
                #        taxFiscalInfo_BR_ds.executeQuery();
                #
                #        salesLine_ds.refresh();
                #    }
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TaxGroup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #// <GBR>
                #public void modified()
                #{
                #    super();
                #
                #    if (BrazilParameters::isEnabled())
                #    {
                #        taxFiscalInfo_BR_ds.executeQuery();
                #
                #        salesLine_ds.refresh();
                #    }
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DeliveryCity
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #// <GBR>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #    if (BrazilParameters::isEnabled())
                #    {
                #        AddressCityTable_BR::cityLookup(_formControl, salesLine);
                #    }
                #}
                #// </GBR>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustCFOPId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #validate
                #// <GBR>
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (BrazilParameters::isEnabled()
                #        && ret)
                #    {
                #        if(salesLine.CustCFOPId)
                #        {
                #            if(!CFOPMatrix_BR::validateCFOP(salesLine, salesLine.CustCFOPId))
                #            {
                #                salesLine.CustCFOPId="";
                #                ret = checkFailed(strfmt("@SYS55265", salesLine.CustCFOPId, fieldpname(SalesLine, CustCFOPId), tablepname(CFOPMatrix_BR)));
                #            }
                #        }
                #    }
                #    return ret;
                #}
                #// </GBR>
                #
              ENDSOURCE
              SOURCE #lookup
                #// <GBR>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #    if (BrazilParameters::isEnabled())
                #    {
                #        CFOPMatrix_BR::cfopMatrixLookup(_formControl, salesLine);
                #    }
                #}
                #// </GBR>
              ENDSOURCE
              SOURCE #modified
                #// <GBR>
                #public void modified()
                #{
                #    CustSalesLineLegalTxt_BR    custSalesLineLegalTxt;
                #    SalesLegalTxtSetup_BR       salesLegalTxtSetup_BR;
                #    CFOPMatrix_BR               cfopMatrix;
                #    ;
                #
                #    if (!BrazilParameters::isEnabled())
                #    {
                #        super();
                #        return;
                #    }
                #
                #    if (!InventLegalTxt_BR::existsRec(salesLine.ItemId, CFOPTable_BR::findCfopId_SalesPurch(lineCustCFOP, lineSalesPurch).InvoiceTxtId, SalesPurch::Sales))
                #    {
                #        delete_from custSalesLineLegalTxt
                #            where   custSalesLineLegalTxt.SalesId           == salesLine.SalesId &&
                #                    custSalesLineLegalTxt.SalesLegalTxtId   == lineTxtId &&
                #                    custSalesLineLegalTxt.LineNum           == salesLine.LineNum;
                #    }
                #
                #    if (!lineCustCFOP || num != salesLine.LineNum || salesLine.LineNum == 1 ||
                #        CFOPTable_BR::findCfopId_SalesPurch(salesTable.CustCFOPId,salesTable.SalesPurch).InvoiceTxtId != lineTxtId)
                #    {
                #        lineCustCFOP = '';
                #    }
                #
                #    if (lineCustCFOP != salesLine.CustCFOPId)
                #    {
                #        cfopMatrix = CFOPMatrix_BR::findCFOPRecord(salesLine.CustCFOPId, salesTable.OperationId, SalesPurchTrntype_BR::Sales);
                #
                #        if(salesTable.CustCFOPId != salesLine.CustCFOPId ||
                #            SalesLegalTxtSetup_BR::find(CFOPTable_BR::findCfopId_SalesPurch(salesTable.CustCFOPId,salesTable.SalesPurch).InvoiceTxtId).SalesLegalTxtSection == LegalTxtSection_BR::Lines)
                #        {
                #            if(salesLine.CustCFOPId)
                #            {
                #                salesLegalTxtSetup_BR = SalesLegalTxtSetup_BR::find(CFOPTable_BR::findCfopId_SalesPurch(salesLine.CustCFOPId,cfopMatrix.SalesPurch).InvoiceTxtId);
                #                if(salesLegalTxtSetup_BR.SalesLegalTxtId)
                #                {
                #                    select custSalesLineLegalTxt
                #                        where   custSalesLineLegalTxt.SalesId           == salesLine.SalesId &&
                #                                custSalesLineLegalTxt.ItemId            == salesLine.ItemId &&
                #                                custSalesLineLegalTxt.SalesLegalTxtId   == salesLegalTxtSetup_BR.SalesLegalTxtId &&
                #                                custSalesLineLegalTxt.LineNum           == salesLine.LineNum;
                #
                #                    if(!custSalesLineLegalTxt && InventTable::find(salesLine.ItemId).ItemType != ItemType::Service)
                #                    {
                #                        custSalesLineLegalTxt.SalesId                   = salesLine.SalesId;
                #                        custSalesLineLegalTxt.LineNum                   = salesLine.LineNum;
                #                        custSalesLineLegalTxt.ItemId                    = salesLine.ItemId;
                #                        custSalesLineLegalTxt.SalesLegalTxtId           = salesLegalTxtSetup_BR.SalesLegalTxtId;
                #                        custSalesLineLegalTxt.SalesLegalTxtInvoiceOnly  = salesLegalTxtSetup_BR.SalesLegalTxtInvoiceOnly;
                #                        custSalesLineLegalTxt.SalesLegalTxt             = salesLegalTxtSetup_BR.SalesLegalTxt;
                #
                #                        custSalesLineLegalTxt.insert();
                #                    }
                #                }
                #            }
                #        }
                #
                #        lineCustCFOP    = salesLine.CustCFOPId;
                #        lineSalesPurch  = cfopMatrix.SalesPurch;
                #        num             = salesLine.LineNum;
                #    }
                #
                #    super();
                #
                #    lineTxtId       = CFOPTable_BR::findCfopId_SalesPurch(lineCustCFOP,lineSalesPurch).InvoiceTxtId;
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TaxServiceCodeId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    NoYes serviceCodeOnDlvAddress;
                #    ProjInvoiceTable projInvoiceTable;
                #    ;
                #    projInvoiceTable = salesTable.projTable().projInvoice();
                #
                #    serviceCodeOnDlvAddress = projInvoiceTable.TaxServiceCodeOnDlvAddress_BR;
                #
                #    TaxServiceCode_BR::lookup(_formControl, serviceCodeOnDlvAddress, projInvoiceTable.CountryRegionId , projInvoiceTable.State, projInvoiceTable.City);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TaxInventVATCommodityCodeId_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    Query                   query = new Query();
                #    SysTableLookup          sysTableLookup;
                #    QueryBuildDataSource    queryBuildDataSource;
                #    ;
                #
                #
                #    sysTableLookup = SysTableLookup::newParameters(tablenum(TaxInventVATCommodityCode_IN), _formControl);
                #    sysTableLookup.addLookupfield(fieldnum(TaxInventVATCommodityCode_IN, CommodityCode), true);
                #    sysTableLookup.addLookupfield(fieldnum(TaxInventVATCommodityCode_IN, Description));
                #    sysTableLookup.addLookupfield(fieldnum(TaxInventVATCommodityCode_IN, StateId));
                #
                #    queryBuildDataSource = query.addDataSource(tablenum(TaxInventVATCommodityCode_IN));
                #
                #    queryBuildDataSource.addRange(fieldnum(TaxInventVATCommodityCode_IN, ItemId)).value(queryValue(salesLine.ItemId));
                #    sysTableLookup.parmQuery(query);
                #
                #    sysTableLookup.performFormLookup();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD RBOVariantId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #public void lookup(FormStringControl _formControl, str _filterStr)
                #{
                #//    super(_formControl, _filterStr);
                #
                #    FormRun formRun = new FormRun(new Args(formstr(RBOVariantLookup)));
                #    ;
                #
                #    formRun.args().parm(SalesLine.itemId);
                #    formRun.args().caller(_formControl);
                #    formRun.init();
                #    _formControl.performFormLookup(formRun);
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    InventDimCombination    comb;
                #
                #    super();
                #
                #    comb = InventDimCombination::findVariantId(SalesLine.RBOVariantId);
                #    if (comb)
                #    {
                #        InventDim.InventSizeId = comb.InventSizeId;
                #        InventDim.InventColorId = comb.InventColorId;
                #        InventDim.InventStyleId = comb.InventStyleId;
                #        InventDim.configId = comb.ConfigId;
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD echReservationStatus
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
          ENDDATAFIELD
          
          DATAFIELD DeliveryCounty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #jumpRef
                #// Create ECH_WI_01981 by mengqi.cen on 20130227
                #public void jumpRef()
                #{
                #;
                #    echAddressJumpRef::jumpRefCountyByRecord(element, SalesLine);
                #}
                #
              ENDSOURCE
              SOURCE #lookup
                #// Create ECH_WI_01981 by mengqi.cen on 20130227
                #public void lookup(FormControl _formCtrl, str _filterStr)
                #{
                #;
                #    echAddressLookup::lookupCountyByCountryState(
                #                            _formCtrl,
                #                            SalesLine.DeliveryCountryRegionId,
                #                            SalesLine.DeliveryState);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DeliveryState
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #jumpRef
                #// Create ECH_WI_01981 by mengqi.cen on 20130227
                #public void jumpRef()
                #{
                #;
                #    echAddressJumpRef::jumpRefStateByRecord(element, SalesLine);
                #}
                #
              ENDSOURCE
              SOURCE #lookup
                #// Create ECH_WI_01981 by mengqi.cen on 20130227
                #public void lookup(FormControl _formCtrl, str _filterStr)
                #{
                #;
                #    echAddressLookup::lookupStateByCountry(
                #                            _formCtrl,
                #                            SalesLine.DeliveryCountryRegionId);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #inventDim
          #InventDim inventDim()
          #{
          #    return inventDim;
          #}
        ENDSOURCE
        SOURCE #itemIdModified
          #void itemIdModified()
          #{
          #    ;
          #    salesLine.itemIdChanged();
          #    inventDim.data(InventDim::find(salesLine.InventDimId));
          #    salesLine.modifyItemDim(inventDim, fieldnum(InventDim,InventLocationId), InventTable::find(salesLine.ItemId).DimGroupId);
          #
          #    InventMovement::bufferSetTransQtyUnit(salesLine);
          #
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        CustSalesLineLegalTxt_BR::initCustSalesLineTxt(salesTable, salesLine);
          #    }
          #    // </GBR>
          #
          #    element.updateDesign(InventDimFormDesignUpdate::FieldChange);
          #}
        ENDSOURCE
        SOURCE #setTouched
          #void setTouched()
          #{
          #    // required by form MarkupTrans to communicate changes to the caller
          #    ;
          #    salesTableForm.setTouched(salesTable);
          #}
        ENDSOURCE
        SOURCE #initValue
          #void  initValue()
          #{;
          #    salesLine.initFromSalesTable(salesTable);
          #    super();
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    salesLine_ds.cacheAddMethod(tablemethodstr(SalesLine, invoicedInTotal));
          #    salesLine_ds.cacheAddMethod(tablemethodstr(SalesLine, deliveredInTotal));
          #    salesLine_ds.cacheAddMethod(tablemethodstr(SalesLine, reservedPhysicalInSalesUnit));
          #    salesLine_ds.cacheAddMethod(tablemethodstr(SalesLine, reservedOnOrderInSalesUnit));
          #    salesLine_ds.cacheAddMethod(tablemethodstr(SalesLine, onOrderInSalesUnit));
          #    salesLine_ds.cacheAddMethod(tablemethodstr(SalesLine, qualityOrderStatusDisplay));
          #}
        ENDSOURCE
        SOURCE #salesTable_ds
          #FormDataSource salesTable_ds()
          #{
          #    return salesTable_ds;
          #}
        ENDSOURCE
        SOURCE #WRITE
          #void  write()
          #{
          #    SalesLine   _salesLine;
          #    // <GBR>
          #    SalesOperationType_BR   operationType;
          #    // </GBR>
          #    SalesLine   salesLineFind;
          #    ;
          #
          #    if (!salesTable.checkCreditCard())
          #    {
          #        salesTable_ds.setTouched();
          #    }
          #
          #    // PBA begin
          #    autoConfig = salesLine.PBAItemLine::doConfigureOnWrite();
          #    // PBA end
          #
          #    if (!askingModifyInvoiced)
          #    {
          #        salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
          #
          #        // <GBR>
          #        if (BrazilParameters::isEnabled())
          #        {
          #            operationType = SalesOperationType_BR::find(salesTable.OperationId);
          #
          #            if(operationType)
          #            {
          #                if(operationType.InventControl)
          #                {
          #                    if (salesLine.SalesStatus != SalesStatus::Invoiced)
          #                    {
          #                        salesLine.WithoutInventory = NoYes::No;
          #                    }
          #                }
          #                else
          #                {
          #                    if (salesLine.SalesStatus != SalesStatus::Invoiced)
          #                    {
          #                        salesLine.WithoutInventory = NoYes::Yes;
          #                    }
          #
          #                    if (!salesLine.RemainSalesPhysical)
          #                    {
          #                        if (salesLine.SalesStatus != SalesStatus::Invoiced)
          #                        {
          #                            salesLine.RemainSalesPhysical = salesLine.QtyOrdered;
          #                        }
          #                    }
          #                }
          #            }
          #            else
          #            {
          #                if (salesLine.SalesStatus != SalesStatus::Invoiced)
          #                {
          #                    salesLine.WithoutInventory = NoYes::No;
          #                }
          #            }
          #
          #            salesLine.initFromTaxIntersection_BR();
          #        }
          #        // </GBR>
          #
          #        salesTableForm.salesLine_Write(salesLine);
          #
          #        super();
          #
          #        if (salesLine.InventDimId != inventDim.InventDimId)
          #        {
          #            inventDim.data(InventDim::find(salesLine.InventDimId));
          #            inventDim_ds.setCurrent();
          #        }
          #
          #        // <GBR>
          #        if (BrazilParameters::isEnabled())
          #        {
          #            salesLine.createDeleteInventory_BR();
          #        }
          #        // </GBR>
          #
          #        // <GIN>
          #        if (salesTable.CustomsExportOrder_IN
          #            && TaxParameters::find().EximIncentiveSchemes_IN
          #            && eximSalesLine_IN)
          #        {
          #            eximSalesLine_IN.write();
          #        }
          #        // </GIN>
          #
          #        salesLine_ds.reread();
          #
          #        if (PurchTable::find(salesLine.InventRefId).InterCompanyOrder
          #        ||  salesTable.InterCompanyOrder)
          #        {
          #            _salesLine.data(salesLine.data());
          #            salesLine_ds.executeQuery();
          #            salesLine_ds.findRecord(_salesLine);
          #            interCompanyPurchSalesReference_ds.executeQuery();
          #        }
          #        salesTable_ds.reread();
          #        salesTable_ds.refresh();
          #        //lines have changed so salesTable.estimated migth need to be re-calculated
          #        salesTable_ds.setTouched();
          #    }
          #    // PBA begin
          #    if ( autoConfig )
          #    {
          #        // start the configuration process
          #        salesLine.PBAItemLine::autoConfig();
          #
          #        // finds the current selected sales line
          #        salesLineFind = SalesLine::find(salesLine.SalesId, salesLine.LineNum);
          #
          #        // syncs sales table with db
          #        salesLine_ds.research();
          #
          #        // updates table ui
          #        salesLine_DS.reread();
          #
          #        // finds the current selected sales line
          #        salesLine_ds.findRecord(salesLineFind);
          #    }
          #    // PBA end
          #
          #    interCompanyIsPriceDiscSearchNeeded = 0;
          #
          #    if(salesTable.CashDiscPercent && salesLine.SalesQty < 0)
          #    {
          #        if(salesLine.creditNoteLine())
          #        {
          #            info("@SYS99047");
          #        }
          #    }
          #
          #    if(CustParameters::find().AutomaticTotalDiscount)
          #    {
          #        salesLine.salesTable(true).updateFinalDisc();
          #    }
          #
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        TaxFiscalInfo_BR::updateFromTaxIntersection(salesLine);
          #    }
          #    // </GBR>
          #}
          #
        ENDSOURCE
        SOURCE #LinkActive
          #void  linkActive()
          #{
          #    super();
          #
          #    /* Set caption */
          #    if (!salesLine)
          #    {
          #        element.setCaptionText();
          #        salesLine_ds.create();
          #    }
          #
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        taxFiscalInfo_BR_ds.executeQuery();
          #        if (!salesLine.RecId)
          #        {
          #            fiscalInformation_TaxationOrigin.enabled(false);
          #        }
          #        else
          #        {
          #            fiscalInformation_TaxationOrigin.enabled(true);
          #        }
          #
          #        this.setFiscalFieldsForReturnedOrder_BR();
          #    }
          #    // </GBR>
          #
          #}
        ENDSOURCE
        SOURCE #Delete
          #void  delete()
          #{
          #    SalesId salesId;
          #    boolean interCompanySalesLineExist;
          #    ;
          #    if (salesLine.checkDelete())
          #    {
          #        salesId                    = salesLine.SalesId;
          #        interCompanySalesLineExist = salesLine.interCompanySalesLineExist();
          #
          #        //For PBA mandaroty configuration item deleting
          #        deleting = true;
          #        super();
          #        deleting = false;
          #
          #        if (SalesTable::exist(salesId))
          #        {
          #            if (SalesParameters::find().DeleteHeading == NoYes::Yes && SalesTable::find(salesId).SalesStatus == SalesStatus::Invoiced)
          #            {
          #                salesTable.delete();
          #                salesTable_ds.research();
          #            }
          #            else
          #            {
          #                salesTable_ds.reread();
          #                salesTable_ds.refresh();
          #
          #                if(salesLine.returnJournal())
          #                {
          #                    SalesTable::returnUpdatedHeaderStatus(salesTable.SalesId,
          #                                                          salesTable.SalesStatus == SalesStatus::Invoiced ? DocumentStatus::Invoice : DocumentStatus::None);
          #                }
          #
          #                if (interCompanySalesLineExist)
          #                {
          #                    interCompanyPurchSalesReference_ds.research();
          #                }
          #            }
          #        }
          #        else
          #        {
          #            salesTable_ds.research();
          #        }
          #
          #        salesTableForm.setTouched(salesTable);
          #    }
          #}
        ENDSOURCE
        SOURCE #Create
          #void  create(boolean  append = true)
          #{
          #    ;
          #    element.setEditItemAllowed(true);
          #
          #    // PBA begin
          #    if(!salesLine.PBAItemLine::checkMandatory())
          #    {
          #        return;
          #    }
          #    // PBA end
          #
          #    if (salesTable.checkUpdate() && salesTable.checkAccount())
          #    {
          #        super(append);
          #
          #        if (salesLine.ItemId)   // filter exist on itemId
          #            this.itemIdModified();
          #    }
          #
          #    salesLine_ds.refresh();
          #
          #    //Won't create new salesline if current one was not created correctly
          #    if (!salesLine.ItemId)
          #    {
          #        salesTableForm.salesLine_Create(salesLine);
          #    }
          #
          #    if (allowSetFocusOnItemId)
          #        salesLine_ItemId.setFocus();
          #
          #}
          #
        ENDSOURCE
        SOURCE #Active
          #// *** ECHINA - Anthony Christiaens ***
          #// *** Customization Code: ECH_I_OR02_1
          #// *** Customization Date: 28 Mar 2012
          #// *** Customization Type: created
          #// *** Description: set form controls
          #int  active()
          #{
          #    int         ret;
          #    boolean     returnItem = salesTable.returnItem();
          #    ;
          #    ret = super();
          #
          #    buttonLineSetup.                enabled(true);
          #    buttonHeaderFunction.           enabled(!returnItem);
          #    buttonHeaderTradeAgreements.    enabled(!returnItem);
          #    buttonLineFunction.             enabled(!returnItem && salesTable.RecId);
          #    buttonLineInquiry.              enabled(!returnItem);
          #    buttonLinePriceCalc.            enabled(!returnItem);
          #    configuration.                  enabled(!returnItem);
          #    buttonLineExplosion.            enabled(true);
          #    bomConsistOfTree.               enabled(true);
          #    buttonLineProduction.           enabled(true);
          #    buttonAttachedSalesLines.       enabled(salesTable.type().canHaveAttachedOrders());
          #    inventTransPick.                enabled(true);
          #    wmsOrderAllowCreate.            enabled(true);
          #
          #    salesLine_ds.object(fieldnum(SalesLine, SalesUnit)).allowEdit(salesLine.SalesQty == salesLine.RemainSalesPhysical);
          #    salesLine_ds.object(fieldnum(SalesLine, SalesDeliverNow)).allowEdit(salesLine.DeliveryType != TradeLineDlvType::DropShip);
          #
          #    element.setCaptionText();
          #
          #    if (salesLine.RecId)
          #    {
          #        element.setEditItemAllowed(false);
          #    }
          #    else
          #    {
          #        element.setEditItemAllowed(true);
          #    }
          #
          #    salesLine_ds.allowCreate(element.createLineAllowed());
          #    salesLine_ds.allowEdit  (salesTableForm.editLineAllowed());
          #    salesLine_ds.allowDelete(salesTableForm.deleteLineAllowed(salesLine));
          #
          #    element.checkCreditNoteLine();
          #
          #    element.updateDesign(InventDimFormDesignUpdate::Active);
          #    element.updateRFIDTagging();
          #
          #    if (headerError)
          #    {
          #        salesTable.Touched  = NoYes::Yes;
          #        headerError         = false;
          #    }
          #
          #    // PBA begin
          #    element.pbAsetEnabled();
          #    // PBA end
          #
          #    buttonLineInterCompany.enabled(salesTableForm.interCompanyShowButtonLine());
          #    salesTableForm.interCompanySetLineAccess(salesLine,address,lineAddress);
          #
          #    if (salesLine.ProjId)
          #    {
          #        lineInquiry_CostControlCommittedCost.enabled(true);
          #    }
          #    else
          #    {
          #        lineInquiry_CostControlCommittedCost.enabled(false);
          #    }
          #
          #    allowSetFocusOnItemId = true;
          #
          #    // <GIN>
          #    element.enableFieldsActive_IN();
          #    if (TaxParameters::checkTaxParameters_IN())
          #    {
          #        element.enableDisableExciseRecordType_IN();
          #        element.updateDesignExcise_IN();
          #        element.setTaxWithholdEnabled_IN();
          #        element.setReturnFields_IN();
          #    }
          #
          #    if (salesTable.CustomsExportOrder_IN
          #        && salesLine.RecId
          #        && salesLine.SalesQty > 0
          #        && TaxParameters::find().EximIncentiveSchemes_IN
          #        && !EximSalesLine_IN::exist(salesLine.RecId))
          #    {
          #        eximSalesLine_IN.SalesLineRecId = salesLine.RecId;
          #        eximSalesLine_IN.initValue();
          #        eximSalesLine_IN.write();
          #        eximSalesLine_IN_ds.executeQuery();
          #    }
          #
          #// </GIN>
          #
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        if (salesTable.CustRefusedNote == NoYes::Yes)
          #        {
          #            salesLine_ds.allowEdit(false);
          #            salesLine_ds.allowCreate(false);
          #            salesLine_ds.allowDelete(false);
          #        }
          #
          #        AddressCityTable_BR::activeFormDataSource(element.design().controlName('LineDeliveryAddress_DeliveryCity'));
          #
          #        if(!salesLine.TaxServiceCodeId)
          #        {
          #            salesLine_ds.object(fieldnum(SalesLine,TaxServiceCodeId)).allowEdit  (false);
          #        }
          #        else
          #        {
          #            salesLine_ds.object(fieldnum(SalesLine,TaxServiceCodeId)).allowEdit  (true);
          #        }
          #
          #        if(salesLine.ProjId)
          #        {
          #            if (salesLine.SalesType == SalesType::ItemReq)
          #            {
          #                salesLine_ds.object(fieldnum(SalesLine,TaxServiceCodeId)).allowEdit  (false);
          #            }
          #
          #            taxFiscalInfo_br_ds.allowEdit(salesLine.projProposalId() == '');
          #        }
          #        else
          #        {
          #            taxFiscalInfo_br_ds.allowEdit(true);
          #        }
          #    }
          #    // </GBR>
          #// CS - ECH_I_OR02_1 - Anthony Christiaens - 28 Mar 2012
          #    element.echSetControls();
          #// CE - ECH_I_OR02_1 - Anthony Christiaens - 28 Mar 2012
          #    return ret;
          #}
          #
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean                 ret;
          #    ;
          #
          #    salesTableForm.setTouched(salesTable);
          #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
          #
          #    if (salesLine.RecId != 0
          #    &&  salesLine.InterCompanyInventTransId
          #    &&  salesTable.InterCompanyOrder)
          #    {
          #        salesLine.DeliveryDateControlType = SalesDeliveryDateControlType::None;
          #    }
          #
          #    ret = super();
          #
          #    if (!askingModifyInvoiced && ret)
          #    {
          #        askingModifyInvoiced = true;
          #        ret = salesTable.checkUpdate();
          #        if (!ret)
          #        {
          #            salesLine_ds.reread();
          #            salesTable_ds.reread();
          #        }
          #        askingModifyInvoiced = false;
          #    }
          #
          #    if (ret)
          #    {
          #       ret = salesTableForm.salesLine_validateWrite(salesLine, inventDim);
          #    }
          #
          #    if (ret && salesLine.DeliveryDateControlType)
          #    {
          #        ret = SalesCalcAvailableDlvDates::validateWritePrompt(salesLine,false,true,true,false);
          #    }
          #
          #    return ret;
          #}
          #
        ENDSOURCE
        SOURCE #leave
          #public boolean leave()
          #{
          #    boolean ret;
          #    ;
          #    ret = super();
          #
          #    // PBA begin
          #    if (!deleting)
          #    {
          #        if( ! salesLine.PBAItemLine::checkMandatory() )
          #        {
          #            return false;
          #        }
          #    }
          #    // PBA end
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #checkCreditLimit
          #void checkCreditLimit()
          #{
          #    ;
          #    salesLine.checkCreditLimit();
          #}
        ENDSOURCE
        SOURCE #setFiscalFieldsForReturnedOrder_BR
          #// <GBR>
          #/// <summary>
          #/// For Returned Order sales order disable TaxationOrigin and CustReceiptIssuesCode fields.
          #/// For other document types enable the field if the Brazilian parameter is enabled.
          #/// </summary>
          #private void setFiscalFieldsForReturnedOrder_BR()
          #{
          #    boolean enableField = false;
          #    ;
          #
          #    if (!(salesTable.InvoiceRefRecID
          #        && salesTable.SalesType == SalesType::ReturnItem)
          #        && BrazilParameters::isEnabled())
          #    {
          #        enableField = true;
          #    }
          #
          #    fiscalInformation_CustReceiptIssueCode.enabled(enableField);
          #    element.enableTaxationOrigin_BR(enableField);
          #    element.enableGroupTaxationCode_BR(enableField);
          #}
          #// </GBR>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #InventDim
          Table               #InventDim
          JoinSource          #SalesLine
          LinkType            #InnerJoin
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD inventBatchId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyItemDim(inventDim,fieldnum(InventDim,InventBatchId),InventTable::find(salesLine.ItemId).DimGroupId);
                #
                #    if (salesLine.DeliveryDateControlType)
                #        SalesCalcAvailableDlvDates::modifiedField(salesLine,0,false,false,inventDim);
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyItemDim(inventDim,fieldnum(InventDim,InventBatchId),InventTable::find(salesLine.ItemId).DimGroupId);
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD wMSLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyItemDim(inventDim,fieldnum(InventDim,wmsLocationId),InventTable::find(salesLine.ItemId).DimGroupId);
                #
                #    if (salesLine.DeliveryDateControlType)
                #        SalesCalcAvailableDlvDates::modifiedField(salesLine,0,false,false,inventDim);
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyItemDim(inventDim,fieldnum(InventDim,wmsLocationId),InventTable::find(salesLine.ItemId).DimGroupId);
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD wMSPalletId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyItemDim(inventDim,fieldnum(InventDim,wmsPalletId),InventTable::find(salesLine.ItemId).DimGroupId);
                #
                #    if (salesLine.DeliveryDateControlType)
                #        SalesCalcAvailableDlvDates::modifiedField(salesLine,0,false,false,inventDim);
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyItemDim(inventDim,fieldnum(InventDim,wmsPalletId),InventTable::find(salesLine.ItemId).DimGroupId);
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD inventSerialId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyItemDim(inventDim,fieldnum(InventDim,InventSerialId),InventTable::find(salesLine.ItemId).DimGroupId);
                #
                #    if (salesLine.DeliveryDateControlType)
                #        SalesCalcAvailableDlvDates::modifiedField(salesLine,0,false,false,inventDim);
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyItemDim(inventDim,fieldnum(InventDim,InventSerialId),InventTable::find(salesLine.ItemId).DimGroupId);
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{;
                #    super();
                #
                #    salesLine.modifyItemDim(inventDim,fieldnum(InventDim,InventLocationId),InventTable::find(salesLine.ItemId).DimGroupId);
                #
                #    if (!salesLine.RecId && salesLine.DeliveryDateControlType != SalesDeliveryDateControlType::None)
                #    {
                #        SalesCalcAvailableDlvDates::modifiedField(salesLine,0,false,false,inventDim);
                #        salesLine.ConfirmedDlv = salesLine.ShippingDateConfirmed ? salesLine.ShippingDateConfirmed : salesLine.ShippingDateRequested;
                #    }
                #
                #    if(salesLine_ds && salesLine)
                #        salesLine_ds.refresh();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyItemDim(inventDim,fieldnum(InventDim,InventLocationId),InventTable::find(salesLine.ItemId).DimGroupId);
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD configId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyItemDim(inventDim,fieldnum(InventDim,ConfigId),InventTable::find(salesLine.ItemId).DimGroupId);
                #
                #    if (salesLine.DeliveryDateControlType)
                #        SalesCalcAvailableDlvDates::modifiedField(salesLine,0,false,false,inventDim);
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #    if(!ConfigTable::configure(_formControl,
                #                               salesLine.ItemId,
                #                               InventDim::findOrCreate(inventDim).InventDimId,
                #                               salesLine.deliveryDate(),
                #                               salesLine.ItemBOMId,
                #                               salesLine.QtyOrdered))
                #    {
                #        super(_formControl,_filterStr);
                #    }
                #}
                #
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyItemDim(inventDim,fieldnum(InventDim,ConfigId),InventTable::find(salesLine.ItemId).DimGroupId);
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventSizeId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyItemDim(inventDim,fieldnum(InventDim,InventSizeId),InventTable::find(salesLine.ItemId).DimGroupId);
                #
                #    if (salesLine.DeliveryDateControlType)
                #        SalesCalcAvailableDlvDates::modifiedField(salesLine,0,false,false,inventDim);
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyItemDim(inventDim,fieldnum(InventDim,InventSizeId),InventTable::find(salesLine.ItemId).DimGroupId);
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventColorId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyItemDim(inventDim,fieldnum(InventDim,InventColorId),InventTable::find(salesLine.ItemId).DimGroupId);
                #
                #    if (salesLine.DeliveryDateControlType)
                #        SalesCalcAvailableDlvDates::modifiedField(salesLine,0,false,false,inventDim);
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyItemDim(inventDim,fieldnum(InventDim,InventColorId),InventTable::find(salesLine.ItemId).DimGroupId);
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventSiteId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    salesLine.modifyItemDim(inventDim,fieldnum(InventDim,InventSiteId),InventTable::find(salesLine.ItemId).DimGroupId);
                #
                #    if (!salesLine.RecId)
                #    {
                #        if (salesLine.DeliveryDateControlType != SalesDeliveryDateControlType::None)
                #        {
                #            SalesCalcAvailableDlvDates::modifiedField(salesLine,0,false,false,inventDim);
                #            salesLine.ConfirmedDlv = salesLine.ShippingDateConfirmed ? salesLine.ShippingDateConfirmed : salesLine.ShippingDateRequested;
                #        }
                #    }
                #
                #    if(salesLine_ds && salesLine)
                #        salesLine_ds.refresh();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyItemDim(inventDim,fieldnum(InventDim,InventSiteId),InventTable::find(salesLine.ItemId).DimGroupId);
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventStyleId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyItemDim(inventDim,fieldnum(InventDim,InventStyleId),InventTable::find(salesLine.ItemId).DimGroupId);
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyItemDim(inventDim,fieldNum(InventDim,inventStyleId),inventTable::find(salesLine.ItemId).DimGroupId);
                #
                #    if (salesLine.DeliveryDateControlType)
                #        SalesCalcAvailableDlvDates::modifiedField(salesLine,0,false,false,inventDim);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #write
          #public void write()
          #{
          #//  super();
          #}
        ENDSOURCE
        SOURCE #initValue
          #void initValue()
          #{;
          #    inventDim.data(InventDim::find(salesLine.InventDimId));
          #
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #InterCompanyPurchSalesReference
          Table               #InterCompanyPurchSalesReference
          AllowCheck          #No
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesTable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #PurchTable_Reference
          Table               #PurchTable
          AllowCheck          #No
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #InterCompanyPurchSalesReference
          LinkType            #InnerJoin
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #interCompanySalesType
          #//BP Deviation Documented
          #display InterCompanySalesType interCompanySalesType(PurchTable _purchTable)
          #{
          #    InterCompanySalesType   salesType;
          #    SalesStatus             salesStatus;
          #    DocumentStatus          documentStatus;
          #    date                    documentDate;
          #    Num                     documentNum;
          #    ;
          #    [salesType,salesStatus,documentStatus,documentDate,documentNum] = salesTableForm.interCompanySalesCache(_purchTable);
          #    return salesType;
          #}
          #
        ENDSOURCE
        SOURCE #interCompanySalesStatus
          #//BP Deviation Documented
          #display SalesStatus interCompanySalesStatus(PurchTable _purchTable)
          #{
          #    InterCompanySalesType   salesType;
          #    SalesStatus             salesStatus;
          #    DocumentStatus          documentStatus;
          #    date                    documentDate;
          #    Num                     documentNum;
          #    ;
          #    [salesType,salesStatus,documentStatus,documentDate,documentNum] = salesTableForm.interCompanySalesCache(_purchTable);
          #    return salesStatus;
          #}
          #
        ENDSOURCE
        SOURCE #interCompanyDocumentStatus
          #//BP Deviation Documented
          #display DocumentStatus interCompanyDocumentStatus(PurchTable _purchTable)
          #{
          #    InterCompanySalesType   salesType;
          #    SalesStatus             salesStatus;
          #    DocumentStatus          documentStatus;
          #    date                    documentDate;
          #    Num                     documentNum;
          #    ;
          #    [salesType,salesStatus,documentStatus,documentDate,documentNum] = salesTableForm.interCompanySalesCache(_purchTable);
          #    return documentStatus;
          #}
          #
        ENDSOURCE
        SOURCE #interCompanyDocumentNum
          #//BP Deviation Documented
          #display DocumentNum interCompanyDocumentNum(PurchTable _purchTable)
          #{
          #    InterCompanySalesType   salesType;
          #    SalesStatus             salesStatus;
          #    DocumentStatus          documentStatus;
          #    date                    documentDate;
          #    Num                     documentNum;
          #    ;
          #    [salesType,salesStatus,documentStatus,documentDate,documentNum] = salesTableForm.interCompanySalesCache(_purchTable);
          #    return documentNum;
          #}
          #
        ENDSOURCE
        SOURCE #interCompanyDocumentDate
          #//BP Deviation Documented
          #display DocumentDate interCompanyDocumentDate(PurchTable _purchTable)
          #{
          #    InterCompanySalesType   salesType;
          #    SalesStatus             salesStatus;
          #    DocumentStatus          documentStatus;
          #    date                    documentDate;
          #    Num                     documentNum;
          #    ;
          #    [salesType,salesStatus,documentStatus,documentDate,documentNum] = salesTableForm.interCompanySalesCache(_purchTable);
          #    return documentDate;
          #}
          #
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable_Reference
          Table               #SalesTable
          AllowCheck          #No
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    this.query().dataSourceTable(tablenum(SalesTable)).clearLinks();
          #    this.query().dataSourceTable(tablenum(SalesTable)).clearDynalinks();
          #    this.query().dataSourceTable(tablenum(SalesTable)).clearRanges();
          #    this.query().dataSourceTable(tablenum(SalesTable)).addRange(fieldnum(SalesTable,SalesId));
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    if (salesTable.InterCompanyPurchId)
          #    {
          #        this.query().dataSourceTable(tablenum(SalesTable)).findRange(fieldnum(SalesTable,SalesId)).value(salesTable.SalesId);
          #        super();
          #    }
          #    else
          #    {
          #        salesTable_Reference.clear();
          #    }
          #}
        ENDSOURCE
        SOURCE #interCompanyPurchStatus
          #//BP Deviation Documented
          #display PurchStatus interCompanyPurchStatus()
          #{
          #    PurchStatus             purchStatus;
          #    InterCompanySalesType   salesType;
          #    SalesStatus             salesStatus;
          #    ;
          #    [purchStatus,salesType,salesStatus] = salesTableForm.interCompanyOriginalSalesCache(salesTable_Reference);
          #    return purchStatus;
          #}
          #
        ENDSOURCE
        SOURCE #interCompanyOriginalSalesType
          #//BP Deviation Documented
          #display InterCompanySalesType interCompanyOriginalSalesType()
          #{
          #    PurchStatus             purchStatus;
          #    InterCompanySalesType   salesType;
          #    SalesStatus             salesStatus;
          #    ;
          #    [purchStatus,salesType,salesStatus] = salesTableForm.interCompanyOriginalSalesCache(salesTable_Reference);
          #    return salesType;
          #}
          #
        ENDSOURCE
        SOURCE #interCompanyOriginalSalesStatus
          #//BP Deviation Documented
          #display SalesStatus interCompanyOriginalSalesStatus()
          #{
          #    PurchStatus             purchStatus;
          #    InterCompanySalesType   salesType;
          #    SalesStatus             salesStatus;
          #    ;
          #    [purchStatus,salesType,salesStatus] = salesTableForm.interCompanyOriginalSalesCache(salesTable_Reference);
          #    return salesStatus;
          #}
          #
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ShipCarrierAddress
          Table               #Address
          Index               #TypeIdx
          AllowCreate         #No
          JoinSource          #SalesTable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #next
          #// Sales order will never have more than one record of third party shipping address
          #public int next()
          #{
          #    ;
          #
          #    return true;
          #}
          #
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    ;
          #
          #    super();
          #
          #    salesTable_ds.reread();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ShipCarrierAddressInLine
          Table               #Address
          Index               #TypeIdx
          AllowCreate         #No
          JoinSource          #SalesLine
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #write
          #public void write()
          #{
          #    ;
          #
          #    super();
          #
          #    salesLine_ds.reread();
          #}
        ENDSOURCE
        SOURCE #next
          #// Per sales order will never have more than one record of third party shipping address
          #public int next()
          #{
          #    ;
          #
          #    return true;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #TaxFiscalInfo_BR
          Table               #TaxFiscalInfo_BR
          AllowCheck          #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesLine
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD SPEDTaxCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #lookup
                #// <GBR>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    ;
                #    if (BrazilParameters::isEnabled())
                #    {
                #        TaxationCodeTable_BR::SPEDTaxCodeLookupByTaxType(_formControl, TaxTable::find(taxFiscalInfo_BR.TaxCode).TaxType);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
                #// </GBR>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #EximSalesLine_IN
          Table               #EximSalesLine_IN
          Index               #SalesLineRecIdx
          AllowCheck          #No
          AllowDelete         #No
          JoinSource          #SalesLine
          LinkType            #Active
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD ApplyDEPB
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #
                #    eximSalesLine_IN_MarketValue.allowEdit(eximSalesLine_IN.ApplyDEPB);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DBKCenvatStatus
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              Version: 3
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    boolean isDBKEnabled;
                #    ;
                #
                #    super();
                #
                #    isDBKEnabled = eximSalesLine_IN.dbkCenvatStatus != EximDBKCenvatStatus_IN::None;
                #    eximSalesLine_IN_DBKRateType.allowEdit(isDBKEnabled);
                #    eximSalesLine_IN_DBKPercent.allowEdit(isDBKEnabled);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #create
          #// <GIN>
          #public void create(boolean _append = false)
          #{
          #    // super(_append);
          #
          #    salesLine_ds.create();
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #active
          #// <GIN>
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    if (ret)
          #    {
          #        element.enableFieldsActive_IN();
          #    }
          #
          #    return ret;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #write
          #// <GIN>
          #public void write()
          #{
          #    //super();
          #
          #    salesLine_ds.write();
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #first
          #// <GIN>
          #int first()
          #{
          #    int ret;
          #
          #    ret = salesLine_ds.first();
          #
          #    return ret;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #last
          #// <GIN>
          #int last()
          #{
          #    int ret;
          #
          #    ret = salesLine_ds.last();
          #
          #    return ret;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #next
          #// <GIN>
          #int next()
          #{
          #    int ret;
          #
          #    ret = salesLine_ds.next();
          #
          #    return ret;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #prev
          #// <GIN>
          #int prev()
          #{
          #    int ret;
          #
          #    ret = salesLine_ds.prev();
          #
          #    return ret;
          #}
          #// </GIN>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #echSalesOrderCheckResultTable
          Table               #echSalesOrderCheckResultTable
          Index               #primaryIdx
          JoinSource          #SalesTable
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        Version: 3
        SOURCE #write
          #// *** ECHINA - Anthony Christiaens ***
          #// *** Customization Code: ECH_WI_00765
          #// *** Customization Date: 19 Jun 2012
          #// *** Customization Type: created
          #// *** Description:
          #
          #public void write()
          #{
          #    super();
          #
          #    salesTable_DS.reRead();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #RBOPrePaymentTable
          Table               #RBOPrePaymentTable
          JoinSource          #SalesTable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
    ENDDATASOURCE
  ENDOBJECTBANK
  
  JOINS
    SalesLine SalesTable
    InventDim SalesLine
    InterCompanyPurchSalesReference SalesTable
    PurchTable_Reference InterCompanyPurchSalesReference
    ShipCarrierAddress SalesTable
    ShipCarrierAddressInLine SalesLine
    TaxFiscalInfo_BR SalesLine
    EximSalesLine_IN SalesLine
    echSalesOrderCheckResultTable SalesTable
    RBOPrePaymentTable SalesTable
  ENDJOINS
  
  DESIGN
    PROPERTIES
      Caption             #@SYS25193
      SaveSize            #Yes
      HTMLHelpFile        #HTMLHelpFileIWorker
      HTMLHelpTopic       #AxShared.chm::/html/69F3A3E6-9BE6-46E2-ACEB-A05E3BCC8F47.htm
      DataSource          #SalesTable
      ArrangeWhen         #Auto
      HideIfEmpty         #No
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GROUP
        PROPERTIES
          Name                #Table
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #300
          HTMLHelpFile        #HTMLHelpFileAxShared
          HTMLHelpTopic       #html/DC87F0AD-43DD-4F36-955E-E6FF82C5C8F8.htm
          FrameType           #None
          DataSource          #SalesTable
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
          CONTAINER
            CONTROL TAB
              PROPERTIES
                Name                #TabHeader
                AutoDeclaration     #Yes
                Width               #Column width
                Height              #Column height
                Tabs                #10
                DataSource          #SalesTable
              ENDPROPERTIES
              
              CONTAINER
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabHeaderOverview
                    AutoDeclaration     #Yes
                    Caption             #@SYS9039
                    DataSource          #SalesTable
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GRID
                      PROPERTIES
                        Name                #GridHeader
                        Width               #Column width
                        Height              #Column height
                        VisibleCols         #7
                        VisibleRows         #9
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_SalesIdAdvanced
                              AutoDeclaration     #Yes
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/20acb92c-851a-4c47-acc2-b742e33b10e1.htm
                              DataSource          #SalesTable
                              DataField           #SalesId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_CustAccountAdv
                              AutoDeclaration     #Yes
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/996ce646-1849-4a1b-8ef5-23e87aa5b44d.htm
                              DataSource          #SalesTable
                              DataField           #CustAccount
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_CustomerNameAdv
                              DataSource          #SalesTable
                              DataField           #SalesName
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_InvoiceAccountAdv
                              AutoDeclaration     #Yes
                              Visible             #No
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/d9c3be94-9c71-4067-ad43-7a725c2ed6d6.htm
                              DataSource          #SalesTable
                              DataField           #InvoiceAccount
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #SalesTable_SalesType
                              AutoDeclaration     #Yes
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/5219F2D1-95B5-40CA-A623-7C070790E8CA.htm
                              DataSource          #SalesTable
                              DataField           #SalesType
                            ENDPROPERTIES
                            
                            METHODS
                              Version: 3
                              SOURCE #modified
                                #public boolean modified()
                                #{
                                #    boolean ret;
                                #
                                #    ret = super();
                                #    element.changeType();
                                #    return ret;
                                #}
                              ENDSOURCE
                              SOURCE #selectionChange
                                #// <GIN>
                                #public int selectionChange()
                                #{
                                #    int ret;
                                #
                                #    ret = super();
                                #
                                #    element.updateDesignExcise_IN();
                                #
                                #    return ret;
                                #}
                                #// </GIN>
                              ENDSOURCE
                            ENDMETHODS
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #SalesTable_ECHAggStatus
                              DataSource          #SalesTable
                              DataField           #ECHAggStatus
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL UTCDATETIMEEDIT
                            PROPERTIES
                              Name                #SalesTable_echFrontEndCreationDate
                              AllowEdit           #No
                              DataSource          #SalesTable
                              DataField           #echFrontEndCreationDate
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesTable_echPaymentAmount
                              AllowEdit           #No
                              DataSource          #SalesTable
                              DataField           #echPaymentAmount
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_echCancelExceptionId
                              DataSource          #SalesTable
                              DataField           #echCancelExceptionId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_echSalesReasonId
                              DataSource          #SalesTable
                              DataField           #echSalesReasonId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_CurrencyCodeGrid
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/f6bd3bb6-63ac-4d25-a8f3-b57bccb5402c.htm
                              DataSource          #SalesTable
                              DataField           #CurrencyCode
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_ProjId
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/cf69dd3f-b40b-4dda-8947-b4ef3d21f131.htm
                              ConfigurationKey    #ProjBasic
                              DataSource          #SalesTable
                              DataField           #ProjId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesIdBlanket
                              AllowEdit           #No
                              HelpText            #@SYS101269
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/BB00BEF4-7BEE-40DC-91AE-68BAA531AC41.htm
                              DataSource          #SalesTable
                              DataMethod          #SalesIdBlanket
                            ENDPROPERTIES
                            
                            METHODS
                              Version: 3
                              SOURCE #jumpRef
                                #void jumpRef()
                                #{
                                #    SalesIdBlanket  salesIdBlanket = salesTable.salesIdBlanket();
                                #
                                #    if (salesIdBlanket)
                                #        SalesTable::jumpRefSalesIdBlanket(salesIdBlanket);
                                #    else
                                #        super();
                                #}
                                #
                              ENDSOURCE
                            ENDMETHODS
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_PurchOrderFormNum
                              DataSource          #SalesTable
                              DataField           #PurchOrderFormNum
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #qualityOrderStatusDisplayTable
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              DataSource          #SalesTable
                              DataMethod          #qualityOrderStatusDisplay
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #SalesTable_SalesStatusGrid
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/52dbd3ce-dabc-4aa7-9f2a-7ac3ffd6f3d0.htm
                              DataSource          #SalesTable
                              DataField           #SalesStatus
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabHeaderSimple
                    AutoDeclaration     #Yes
                    Caption             #@SYS4925
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #GroupHeader
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/9FB8D97A-C373-4227-B283-04390015CAD9.htm
                        FrameType           #None
                        Caption             #@SYS4925
                        DataSource          #SalesTable
                        Columns             #2
                        ArrangeGuide        
                          ARRAY INDEX Columns 
                            #0
                            #0
                          ENDARRAY
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_SalesIdSimple
                              AutoDeclaration     #Yes
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/20acb92c-851a-4c47-acc2-b742e33b10e1.htm
                              DataSource          #SalesTable
                              DataField           #SalesId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Salestable_CustAccountSim
                              AutoDeclaration     #Yes
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/996ce646-1849-4a1b-8ef5-23e87aa5b44d.htm
                              DataSource          #SalesTable
                              DataField           #CustAccount
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_CustomerNameSim
                              DataSource          #SalesTable
                              DataField           #SalesName
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_InvoiceAccountSim
                              AutoDeclaration     #Yes
                              Visible             #No
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/d9c3be94-9c71-4067-ad43-7a725c2ed6d6.htm
                              DataSource          #SalesTable
                              DataField           #InvoiceAccount
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #editContactPersonName
                              LookupButton        #Always
                              DataSource          #SalesTable
                              DataMethod          #editContactPersonName
                              PresenceDataSource  #SalesTable
                              PresenceDataField   #ContactPersonId
                            ENDPROPERTIES
                            
                            METHODS
                              Version: 3
                              SOURCE #lookup
                                #void lookup()
                                #{;
                                #    ContactPerson::lookupCustContactPerson(salesTable_ContactPersonIdSimple,
                                #                                           salesTable.CustAccount,
                                #                                           this,
                                #                                           salesTable.ContactPersonId);
                                #}
                                #
                              ENDSOURCE
                            ENDMETHODS
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_ContactPersonIdSimple
                              AutoDeclaration     #Yes
                              Visible             #No
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/e8a9f5f5-8d64-49d7-ab26-2ce496ffc637.htm
                              DataSource          #SalesTable
                              DataField           #ContactPersonId
                              PresenceIndicatorAllowed    #No
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_DeliveryName
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/59246cb6-ce2f-4f11-8d84-ec888c8b8cae.htm
                              DataSource          #SalesTable
                              DataField           #DeliveryName
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_DeliveryAddress
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/4fc61233-5215-4325-a6c5-072384ba41a6.htm
                              MultiLine           #Yes
                              DataSource          #SalesTable
                              DataField           #DeliveryAddress
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_SalesTaker
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/3cf70249-929b-4708-a340-fc881b90d190.htm
                              DataSource          #SalesTable
                              DataField           #SalesTaker
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_SalesPoolId
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/6eac880e-dba7-4dab-99a7-38d065063fa4.htm
                              DataSource          #SalesTable
                              DataField           #SalesPoolId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_CurrencyCode
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/f6bd3bb6-63ac-4d25-a8f3-b57bccb5402c.htm
                              DataSource          #SalesTable
                              DataField           #CurrencyCode
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_LanguageId
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/22fa42ae-2603-4645-98e6-cf71c3c61aef.htm
                              DataSource          #SalesTable
                              DataField           #LanguageId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #SalesTable_OneTimeCustomer
                              AllowEdit           #No
                              Skip                #Yes
                              DataSource          #SalesTable
                              DataField           #OneTimeCustomer
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #SalesTable_SalesStatus
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/52dbd3ce-dabc-4aa7-9f2a-7ac3ffd6f3d0.htm
                              DataSource          #SalesTable
                              DataField           #SalesStatus
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #SalesTable_DocumentStatus
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/b89ca086-87c7-4b72-bd71-584012afe0a3.htm
                              DataSource          #SalesTable
                              DataField           #DocumentStatus
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabHeaderGeneral
                    AutoDeclaration     #Yes
                    Caption             #@SYS2952
                    DataSource          #SalesTable
                    Columns             #3
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Baseinfo
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/A2EEFAB4-50AC-4B37-BB04-CB8808512FA2.htm
                        Caption             #@SYS19627
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_SalesName
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/10baaa07-d06c-4eaa-91cb-8ce198b9b04e.htm
                              DataSource          #SalesTable
                              DataField           #SalesName
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #editContactPersonName1
                              AutoDeclaration     #Yes
                              LookupButton        #Always
                              DataSource          #SalesTable
                              DataMethod          #editContactPersonName
                              PresenceDataSource  #SalesTable
                              PresenceDataField   #ContactPersonId
                            ENDPROPERTIES
                            
                            METHODS
                              Version: 3
                              SOURCE #jumpRef
                                #public void jumpRef()
                                #{
                                #    salesTable_ContactPersonId.jumpRef();
                                #}
                              ENDSOURCE
                              SOURCE #lookup
                                #void lookup()
                                #{;
                                #    ContactPerson::lookupCustContactPerson(salesTable_ContactPersonId,
                                #                                           salesTable.CustAccount,
                                #                                           editContactPersonName1,
                                #                                           salesTable.ContactPersonId);
                                #}
                                #
                              ENDSOURCE
                            ENDMETHODS
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_ContactPersonId
                              AutoDeclaration     #Yes
                              Visible             #No
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/e8a9f5f5-8d64-49d7-ab26-2ce496ffc637.htm
                              DataSource          #SalesTable
                              DataField           #ContactPersonId
                              PresenceIndicatorAllowed    #No
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL GROUP
                            PROPERTIES
                              Name                #Customer
                              VerticalSpacing     #5
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/089322D0-9FA0-433C-A79F-8AD41789A6F0.htm
                              FrameType           #None
                              Columns             #2
                              ArrangeGuide        
                                ARRAY INDEX Columns 
                                  #0
                                  #0
                                ENDARRAY
                            ENDPROPERTIES
                            
                              CONTAINER
                                CONTROL STRINGEDIT
                                  PROPERTIES
                                    Name                #CustAccount
                                    HTMLHelpFile        #HTMLHelpFileAxShared
                                    HTMLHelpTopic       #html/996ce646-1849-4a1b-8ef5-23e87aa5b44d.htm
                                    DataSource          #SalesTable
                                    DataField           #CustAccount
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL CHECKBOX
                                  PROPERTIES
                                    Name                #OneTimeCustomer
                                    AllowEdit           #No
                                    Skip                #Yes
                                    DataSource          #SalesTable
                                    DataField           #OneTimeCustomer
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL GROUP
                                  PROPERTIES
                                    Name                #Group
                                    FrameType           #None
                                  ENDPROPERTIES
                                  
                                    CONTAINER
                                      CONTROL CHECKBOX
                                        PROPERTIES
                                          Name                #SalesTable_CustomsExportOrder_IN
                                          AllowEdit           #No
                                          Skip                #Yes
                                          DataSource          #SalesTable
                                          DataField           #CustomsExportOrder_IN
                                        ENDPROPERTIES
                                        
                                      ENDCONTROL 
                                      
                                    ENDCONTAINER
                                    
                                ENDCONTROL 
                                
                              ENDCONTAINER
                              
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #InvoiceAccount
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/d9c3be94-9c71-4067-ad43-7a725c2ed6d6.htm
                              DataSource          #SalesTable
                              DataField           #InvoiceAccount
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #ContactInfo
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/FBD23665-1E47-4F18-B75D-7BBE2C30C9B8.htm
                        DataSource          #SalesTable
                        DataGroup           #ContactInfo
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Campaign
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/3E40658E-4CA0-45FD-AC96-68725E7CB783.htm
                        DataSource          #SalesTable
                        DataGroup           #Campaign
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Consolidation_JP
                        AutoDeclaration     #Yes
                        DataSource          #SalesTable
                        DataGroup           #Consolidation_JP
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #status
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/9491EAF7-A25A-4FC1-BE75-882C77AD9994.htm
                        DataSource          #SalesTable
                        DataGroup           #Status
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #echExceptionCancelId
                        FrameType           #None
                        DataSource          #SalesTable
                        DataGroup           #echCancelExceptionId
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #echExceptionCancelReason_echCancelExceptionId
                              DataSource          #SalesTable
                              DataField           #echCancelExceptionId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #EInvoice
                        AutoDeclaration     #Yes
                        DataSource          #SalesTable
                        DataGroup           #EInvoice
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #EInvoice_EInvoiceLineSpec
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #EInvoiceLineSpec
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #EInvoice_EInvoiceAccountCode
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #EInvoiceAccountCode
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #echTabHeaderFrontEnd
                    AutoDeclaration     #Yes
                    ConfigurationKey    #echProcesses
                    Caption             #@ECH69
                    DataSource          #SalesTable
                    Columns             #2
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #echFrontEndDates
                        DataSource          #SalesTable
                        DataGroup           #echFrontEndDates
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #echInvoice
                        AutoDeclaration     #Yes
                        Caption             #@SYS14204
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_echInvoiceId
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #echInvoiceId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #SalesTable_echInvoiceType
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #echInvoiceType
                            ENDPROPERTIES
                            
                            METHODS
                              Version: 3
                              SOURCE #selectionChange
                                #// modified by steven ECH_WI_02201 20130523
                                #
                                #public int selectionChange()
                                #{
                                #    int ret;
                                #    ret = super();
                                #    element.setInvoiceVisible();
                                #    return ret;
                                #}
                              ENDSOURCE
                            ENDMETHODS
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_echInvoiceTitle
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #echInvoiceTitle
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_echInvoiceName
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #echInvoiceName
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_echInvoiceContent
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #echInvoiceContent
                            ENDPROPERTIES
                            
                            METHODS
                              Version: 3
                              SOURCE #lookup
                                #//Modified by steven ECH_WI_02201 20130523
                                #
                                #public void lookup()
                                #{
                                #    Query                   query = new Query();
                                #    QueryBuildDataSource    queryBuildDataSource;
                                #    QueryBuildRange         queryBuildRange;
                                #    SysTableLookup          sysTableLookup;
                                #    ;
                                #    sysTableLookup = SysTableLookup::newParameters(tableNum(echInvoiceContentTable),this);
                                #    sysTableLookup.addLookupField(fieldNum(echInvoiceContentTable,echInvoiceContent));
                                #    queryBuildDataSource = query.addDataSource(tableNum(echInvoiceContentTable));
                                #    queryBuildRange = queryBuildDataSource.addRange(fieldNum(echInvoiceContentTable,echMsgPartnerId));
                                #    queryBuildRange.value(element.salesTable().echMsgPartnerId);
                                #    sysTableLookup.parmQuery(query);
                                #    sysTableLookup.performFormLookup();
                                #}
                              ENDSOURCE
                            ENDMETHODS
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_echInvoiceCompanyName
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #echInvoiceCompanyName
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_echInvoiceTaxPayerIdNumber
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #echInvoiceTaxPayerIdNumber
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_echInvoiceRegisteredAddress
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #echInvoiceRegisteredAddress
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_echInvoiceRegisteredPhoneNumber
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #echInvoiceRegisteredPhoneNumber
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_echInvoiceDepositBank
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #echInvoiceDepositBank
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTable_echInvoiceBankAccountNumber
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #echInvoiceBankAccountNumber
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #SalesTable_echInvoiceRequested
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #echInvoiceRequested
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #SalesTable_echInvoiceCreated
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #echInvoiceCreated
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #echMsgPartner
                        DataSource          #SalesTable
                        DataGroup           #echMsgPartner
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #echPayment
                        DataSource          #SalesTable
                        DataGroup           #echPayment
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #echPromotion
                        DataSource          #SalesTable
                        DataGroup           #echPromotion
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabHeaderSetup
                    AutoDeclaration     #Yes
                    Caption             #@SYS2186
                    DataSource          #SalesTable
                    Columns             #3
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Administration
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/61B76BC4-6BEC-4ED8-911E-5597755551A4.htm
                        DataSource          #SalesTable
                        DataGroup           #Administration
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Inventory
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/9B667B2A-611F-4051-9B13-551C41E58551.htm
                        DataSource          #SalesTable
                        DataGroup           #Inventory
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Posting
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/6C393CD6-3F02-43A8-840F-E7EAA0506037.htm
                        DataSource          #SalesTable
                        DataGroup           #Posting
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #SalesTax
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/0A177082-0E7E-4AD3-8C0C-240678F1E103.htm
                        Caption             #@SYS5878
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #TaxGroup
                              DataSource          #SalesTable
                              DataField           #TaxGroup
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #VATNum
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #VATNum
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #inclTax
                              AutoDeclaration     #Yes
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/cc3080d7-f758-41b9-8859-9d2b7b45d9f2.htm
                              DataSource          #SalesTable
                              DataField           #InclTax
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTax_EnterpriseNumber
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/c9cf02c9-e413-4f51-824f-670c179697e4.htm
                              DataSource          #SalesTable
                              DataField           #EnterpriseNumber
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesTax_M_getVATRegistrationNum_CN
                              AutoDeclaration     #Yes
                              ConfigurationKey    #CRSEChina
                              DataSource          #SalesTable
                              DataMethod          #getVATRegistrationNum_CN
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #WithholdTax
                        DataSource          #SalesTable
                        DataGroup           #WithholdTax
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #WithholdingTax_IN
                        AutoDeclaration     #Yes
                        ConfigurationKey    #CRSEIndia
                        DataSource          #SalesTable
                        DataGroup           #WithholdingTax_IN
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Reservation
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/7df9ed6c-db82-41cf-80dc-a4f22a39b898.htm
                        DataSource          #SalesTable
                        DataGroup           #Reservation
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Commission
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/44FF681B-8729-455B-B4E2-783328626793.htm
                        DataSource          #SalesTable
                        DataGroup           #Commission
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #GiroMoneyTransferSlip
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/D02B7A93-9619-425B-A234-E38362B5E999.htm
                        DataSource          #SalesTable
                        DataGroup           #GiroMoneyTransferSlip
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #GiroType
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/c8ac2628-bc3f-4416-a7db-42a2e3a67a22.htm
                              Label               #@SYS12128
                              DataSource          #SalesTable
                              DataField           #GiroType
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #RFIDTaggingLevel
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/DD928F01-DE21-405F-901E-84EB774E1CA5.htm
                        DataSource          #SalesTable
                        DataGroup           #RFIDTagging
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #RFIDTaggingLevel_ItemTagging
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/596ddd6c-ec6f-47cc-96c0-836d4ca2cd03.htm
                              DataSource          #SalesTable
                              DataField           #ItemTagging
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #RFIDTaggingLevel_CaseTagging
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/9391c367-f6a3-4a50-8ba9-a0dd8b65c567.htm
                              DataSource          #SalesTable
                              DataField           #CaseTagging
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #RFIDTaggingLevel_PalletTagging
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/f72355a0-776b-4b09-9277-7641ff25da49.htm
                              DataSource          #SalesTable
                              DataField           #PalletTagging
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabHeaderAddress
                    AutoDeclaration     #Yes
                    Caption             #@SYS9362
                    DataSource          #SalesTable
                    Columns             #3
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #HeaderDeliveryAddress
                        AutoDeclaration     #Yes
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/4fc61233-5215-4325-a6c5-072384ba41a6.htm
                        DataSource          #SalesTable
                        DataGroup           #DeliveryAddress
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #HeaderAddressDisplay
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/B91E5794-9953-480C-BFCB-69A356F79A06.htm
                        DataSource          #SalesTable
                        DataGroup           #AddressDisplay
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #ShipCarrierAddr
                        ConfigurationKey    #ShipCarrier
                        Caption             #@SYS116845
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL GROUP
                            PROPERTIES
                              Name                #CarrierInfo
                              Visible             #No
                              FrameType           #None
                              DataSource          #ShipCarrierAddress
                              DataGroup           #ShipCarrierInfo
                              AutoDataGroup       #Yes
                            ENDPROPERTIES
                            
                              CONTAINER
                              ENDCONTAINER
                              
                          ENDCONTROL 
                          
                          CONTROL GROUP
                            PROPERTIES
                              Name                #Description
                              FrameType           #None
                              DataSource          #ShipCarrierAddress
                              DataGroup           #Description
                              AutoDataGroup       #Yes
                            ENDPROPERTIES
                            
                              CONTAINER
                              ENDCONTAINER
                              
                          ENDCONTROL 
                          
                          CONTROL GROUP
                            PROPERTIES
                              Name                #Address1
                              FrameType           #None
                              DataSource          #ShipCarrierAddress
                              DataGroup           #Address
                              AutoDataGroup       #Yes
                            ENDPROPERTIES
                            
                              CONTAINER
                              ENDCONTAINER
                              
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #HeaderDeliveryFiscalInformation
                        AutoDeclaration     #Yes
                        DataSource          #SalesTable
                        DataGroup           #DeliveryFiscalInformation
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabHeaderDelivery
                    AutoDeclaration     #Yes
                    Caption             #@SYS4508
                    Columns             #3
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Delivery
                        AutoDeclaration     #Yes
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/ECB4C9E0-DB91-4B99-9FF7-BD55B33037F3.htm
                        Caption             #@SYS4508
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL MENUITEMBUTTON
                            PROPERTIES
                              Name                #SalesAvailableDlvDatesHeader
                              AutoDeclaration     #Yes
                              SaveRecord          #No
                              MenuItemType        #Action
                              MenuItemName        #SalesAvailableDlvDates
                              DataSource          #SalesTable
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #Delivery_ReceiptDateRequested
                              DataSource          #SalesTable
                              DataField           #ReceiptDateRequested
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #Delivery_ShippingDateRequested
                              DataSource          #SalesTable
                              DataField           #ShippingDateRequested
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #Delivery_ReceiptDateConfirmed
                              DataSource          #SalesTable
                              DataField           #ReceiptDateConfirmed
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #Delivery_ShippingDateConfirmed
                              Visible             #No
                              AllowEdit           #No
                              DataSource          #SalesTable
                              DataField           #ShippingDateConfirmed
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL UTCDATETIMEEDIT
                            PROPERTIES
                              Name                #SalesTable_echShippingDateTimeConfirmed
                              AllowEdit           #No
                              ConfigurationKey    #echProcesses
                              DataSource          #SalesTable
                              DataField           #echShippingDateTimeConfirmed
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #SalesTable_DeliveryDateControl
                              DataSource          #SalesTable
                              DataField           #DeliveryDateControlType
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #Delivery_ShipBlind
                              DataSource          #SalesTable
                              DataField           #ShipCarrierBlindShipment
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #MiscDelivery
                        AutoDeclaration     #Yes
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/ECB4C9E0-DB91-4B99-9FF7-BD55B33037F3.htm
                        Caption             #@SYS102988
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Delivery_DlvMode
                              DataSource          #SalesTable
                              DataField           #DlvMode
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Delivery_DlvTerm
                              DataSource          #SalesTable
                              DataField           #DlvTerm
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Delivery_DlvReason
                              DataSource          #SalesTable
                              DataField           #DlvReason
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Delivery_ExportReason
                              DataSource          #SalesTable
                              DataField           #ExportReason
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Transport
                        AutoDeclaration     #Yes
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/c07ad597-df2d-46e4-a2b4-002432addb24.htm
                        DataSource          #SalesTable
                        DataGroup           #Transport
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #SalesTableTimeZoneDelivery
                        Caption             #@SYS110097
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #Delivery_TimeZoneSite
                              AllowEdit           #No
                              HelpText            #@SYS110100
                              Label               #@SYS102501
                              DataSource          #SalesTable
                              DataMethod          #timeZoneSite
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #CarrierInfo1
                        DataSource          #SalesTable
                        DataGroup           #CarrierInfo
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #EchCarrierInfo
                        DataSource          #SalesTable
                        DataGroup           #EchCarrierInfo
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabHeaderPriceCalc
                    AutoDeclaration     #Yes
                    Caption             #@SYS19789
                    Columns             #3
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Currency
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/740487BB-F6D3-40F6-A7D6-2C90E5C4BE65.htm
                        DataSource          #SalesTable
                        DataGroup           #CurrencyShow
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Payment
                        AutoDeclaration     #Yes
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/d06b8442-d32b-419d-b142-1054d9d724d5.htm
                        DataSource          #SalesTable
                        DataGroup           #Payment
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Payment_Payment
                              DataSource          #SalesTable
                              DataField           #Payment
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #Payment_FixedDueDate
                              DataSource          #SalesTable
                              DataField           #FixedDueDate
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Payment_PaymMode
                              DataSource          #SalesTable
                              DataField           #PaymMode
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Payment_PaymSpec
                              DataSource          #SalesTable
                              DataField           #PaymSpec
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Payment_PaymentSched
                              DataSource          #SalesTable
                              DataField           #PaymentSched
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Payment_CashDisc
                              DataSource          #SalesTable
                              DataField           #CashDisc
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #Payment_CashDiscPercent
                              DataSource          #SalesTable
                              DataField           #CashDiscPercent
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Payment_FinInterestCode
                              DataSource          #SalesTable
                              DataField           #FinInterestCode
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Payment_FineCode
                              DataSource          #SalesTable
                              DataField           #FineCode
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Payment_M_editCreditCard
                              ConfigurationKey    #CreditCard
                              SecurityKey         #CreditCardInquiry
                              DataSource          #SalesTable
                              DataMethod          #editCreditCard
                            ENDPROPERTIES
                            
                            METHODS
                              Version: 3
                              SOURCE #modified
                                #public boolean modified()
                                #{
                                #    boolean ret;
                                #
                                #    ret = super();
                                #
                                #    element.enableCreditCardMenuItems();
                                #
                                #    return ret;
                                #}
                              ENDSOURCE
                              SOURCE #lookup
                                #public void lookup()
                                #{
                                #    ;
                                #
                                #    if (salesTable.payment().CreditCardPaymentType == CreditCardPaymentType::CreditCard)
                                #    {
                                #        CreditCardCust::lookupCreditCard(this, salesTable.InvoiceAccount, salesTable.RecId);
                                #    }
                                #}
                              ENDSOURCE
                            ENDMETHODS
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #DiscMarkup
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/0AB567D7-7756-40B9-9904-B30A67F9C571.htm
                        DataSource          #SalesTable
                        DataGroup           #DiscountMiscCharges
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #echDiscountGroup
                        DataSource          #SalesTable
                        DataGroup           #echDiscount
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabHeaderPostings
                    AutoDeclaration     #Yes
                    AllowEdit           #No
                    Caption             #@SYS25782
                    DataSource          #SalesTable
                    Columns             #3
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #pageActivated
                      #public void pageActivated()
                      #{
                      #    ;
                      #    salesTable_ds.lastJournals();
                      #    super();
                      #
                      #}
                    ENDSOURCE
                  ENDMETHODS
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Number
                        AllowEdit           #No
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/9654E5DE-D64F-4B64-9A98-C05AD5A586A0.htm
                        Caption             #@SYS13864
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #LastQuotation
                              AllowEdit           #No
                              Skip                #Yes
                              Label               #@SYS98918
                              DataSource          #SalesTable
                              DataMethod          #LastQuotation
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #LastConfirm
                              AllowEdit           #No
                              Skip                #Yes
                              DataSource          #SalesTable
                              DataMethod          #LastConfirm
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #lastPickingList
                              AllowEdit           #No
                              Skip                #Yes
                              DataSource          #SalesTable
                              DataMethod          #lastPickingList
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #LastPackingSlip
                              AllowEdit           #No
                              Skip                #Yes
                              DataSource          #SalesTable
                              DataMethod          #lastPackingSlip
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #LastDeliverySlip
                              Label               #@GLS50845
                              DataSource          #SalesTable
                              DataMethod          #lastDeliverySlip_BR
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #LastInvoice
                              AllowEdit           #No
                              Skip                #Yes
                              DataSource          #SalesTable
                              DataMethod          #lastInvoice
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #lastConsolidatedInvoice
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              Skip                #Yes
                              ConfigurationKey    #CRSEJapan
                              DataSource          #SalesTable
                              DataMethod          #lastConsolidatedInvoice_JP
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Date
                        AllowEdit           #No
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/03DBD85C-BB21-4222-9832-4ED786FE5B51.htm
                        Caption             #@SYS7402
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #LastQuotationDate
                              AllowEdit           #No
                              Skip                #Yes
                              ShowLabel           #No
                              DataSource          #SalesTable
                              DataMethod          #LastQuotationDate
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #LastConfirmDate
                              AllowEdit           #No
                              Skip                #Yes
                              ShowLabel           #No
                              DataSource          #SalesTable
                              DataMethod          #LastConfirmDate
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #lastPickingListDate
                              AllowEdit           #No
                              Skip                #Yes
                              ShowLabel           #No
                              DataSource          #SalesTable
                              DataMethod          #lastPickingListDate
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #LastPackingSlipDate
                              AllowEdit           #No
                              Skip                #Yes
                              ShowLabel           #No
                              DataSource          #SalesTable
                              DataMethod          #LastPackingSlipDate
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #LastDeliverySlipDate
                              AllowEdit           #No
                              Skip                #Yes
                              ShowLabel           #No
                              DataSource          #SalesTable
                              DataMethod          #lastDeliverySlipDate_BR
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #LastInvoiceDate
                              AllowEdit           #No
                              Skip                #Yes
                              ShowLabel           #No
                              DataSource          #SalesTable
                              DataMethod          #LastInvoiceDate
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #lastConsolidatedInvoiceDate
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              Skip                #Yes
                              ConfigurationKey    #CRSEJapan
                              ShowLabel           #No
                              DataSource          #SalesTable
                              DataMethod          #lastConsolidatedInvoiceDate_JP
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabHeaderOther
                    AutoDeclaration     #Yes
                    Caption             #@SYS1284
                    Columns             #2
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #HeaderForeignTrade
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/D77A6540-B921-4E07-8BDF-C4E751E0D23C.htm
                        DataSource          #SalesTable
                        DataGroup           #ForeignTrade
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #InterCompany
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/8543E75A-40AA-47B2-B411-E23ECBBBA2ED.htm
                        ConfigurationKey    #TradeInterCompany
                        FrameType           #None
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL GROUP
                            PROPERTIES
                              Name                #InterCompanyAdmin
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/121E20D1-5782-4469-B323-410DF450EF57.htm
                              DataSource          #SalesTable
                              DataGroup           #IntercompanyAdmin
                              AutoDataGroup       #Yes
                            ENDPROPERTIES
                            
                              CONTAINER
                              ENDCONTAINER
                              
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #interCompanyAllowIndirectCreationOrig
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              AlignControl        #No
                              MultiLine           #Yes
                              ShowLabel           #No
                              DataSource          #SalesTable
                              DataMethod          #interCompanyAllowIndirectCreationOrig
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #GroupNotificationToTheCentralBank
                        AutoDeclaration     #Yes
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/98AA26F2-71FC-419D-B1E7-36D56D52E1C6.htm
                        DataSource          #SalesTable
                        DataGroup           #NotificationToTheCentralBank
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #ProcessReference_BR
                        ConfigurationKey    #CRSEBrazil
                        DataSource          #SalesTable
                        DataGroup           #ProcessReference_BR
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabHeaderReferences
                    Caption             #@SYS14018
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #References
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/515862BC-4802-41AC-914F-40B5AD6F1DC8.htm
                        Caption             #@SYS14018
                        DataSource          #SalesTable
                        ArrangeMethod       #Horizontal, flush right
                        DataGroup           #ExternalReference
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #groupIntercompanyPurchTable
                        AutoDeclaration     #Yes
                        Width               #Column width
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/4CCAFD8D-7C25-447A-90C1-66D07E8DE6E0.htm
                        ConfigurationKey    #TradeInterCompany
                        Caption             #@SYS75319
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL GRID
                            PROPERTIES
                              Name                #Grid1
                              AllowEdit           #No
                              Width               #Column width
                              Height              #80
                              MultiSelect         #No
                              HighlightActive     #No
                              DataSource          #SalesTable_Reference
                            ENDPROPERTIES
                            
                              CONTAINER
                                CONTROL STRINGEDIT
                                  PROPERTIES
                                    Name                #SalesTable_InterCompanyPurchId
                                    Width               #75
                                    LabelAlignment      #Right
                                    DataSource          #SalesTable_Reference
                                    DataField           #InterCompanyPurchId
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL COMBOBOX
                                  PROPERTIES
                                    Name                #intercompanyPurchStatus
                                    AllowEdit           #No
                                    HTMLHelpFile        #HTMLHelpFileAxShared
                                    HTMLHelpTopic       #html/E0C3A467-B55C-4984-AE12-F006E2CC11B5.htm
                                    LabelAlignment      #Right
                                    DataSource          #SalesTable_Reference
                                    DataMethod          #intercompanyPurchStatus
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL CHECKBOX
                                  PROPERTIES
                                    Name                #SalesTable_InterCompanyOrder
                                    BackgroundColor     #Window background
                                    LabelAlignment      #Right
                                    DataSource          #SalesTable_Reference
                                    DataField           #InterCompanyOrder
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL STRINGEDIT
                                  PROPERTIES
                                    Name                #SalesTable_InterCompanyCompanyId
                                    LabelAlignment      #Right
                                    DataSource          #SalesTable_Reference
                                    DataField           #InterCompanyCompanyId
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL STRINGEDIT
                                  PROPERTIES
                                    Name                #SalesTable_IntercompanyPurch_InterCompanyOriginalSalesId
                                    Label               #@SYS93838
                                    LabelAlignment      #Right
                                    DataSource          #SalesTable_Reference
                                    DataField           #InterCompanyOriginalSalesId
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL STRINGEDIT
                                  PROPERTIES
                                    Name                #intercompanyOriginalSalesType
                                    AllowEdit           #No
                                    Width               #100
                                    Height              #15
                                    HTMLHelpFile        #HTMLHelpFileAxShared
                                    HTMLHelpTopic       #html/5DE8BD24-47F3-49C9-9EC8-9338A9FB1A14.htm
                                    LabelAlignment      #Right
                                    DataSource          #SalesTable_Reference
                                    DataMethod          #intercompanyOriginalSalesType
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL COMBOBOX
                                  PROPERTIES
                                    Name                #intercompanyOriginalSalesStatus
                                    AllowEdit           #No
                                    HTMLHelpFile        #HTMLHelpFileAxShared
                                    HTMLHelpTopic       #html/DA3F778A-7C14-49E5-9941-40B9EA228326.htm
                                    LabelAlignment      #Right
                                    DataSource          #SalesTable_Reference
                                    DataMethod          #intercompanyOriginalSalesStatus
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL STRINGEDIT
                                  PROPERTIES
                                    Name                #SalesTable_IntercompanyPurch_InterCompanyOriginalCustAccount
                                    Label               #@SYS302
                                    LabelAlignment      #Right
                                    DataSource          #SalesTable_Reference
                                    DataField           #InterCompanyOriginalCustAccount
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL CHECKBOX
                                  PROPERTIES
                                    Name                #SalesTable_InterCompanyDirectDeliveryOrig
                                    BackgroundColor     #Window background
                                    LabelAlignment      #Right
                                    DataSource          #SalesTable_Reference
                                    DataField           #InterCompanyDirectDeliveryOrig
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                              ENDCONTAINER
                              
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #groupPurchaseTable
                        Width               #Column width
                        Height              #Column height
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/9A04F97A-E8B4-4AE9-A46E-84BF83796C65.htm
                        Caption             #@SYS25204
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL GRID
                            PROPERTIES
                              Name                #Grid
                              Width               #Column width
                              Height              #Column height
                              DataSource          #InterCompanyPurchSalesReference
                            ENDPROPERTIES
                            
                              CONTAINER
                                CONTROL STRINGEDIT
                                  PROPERTIES
                                    Name                #PurchTable_PurchId
                                    Width               #75
                                    LabelAlignment      #Right
                                    DataSource          #PurchTable_Reference
                                    DataField           #PurchId
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL COMBOBOX
                                  PROPERTIES
                                    Name                #PurchTable_PurchStatus
                                    HTMLHelpFile        #HTMLHelpFileAxShared
                                    HTMLHelpTopic       #html/e67e719d-27f5-43d3-a180-4c68091c65b6.htm
                                    LabelAlignment      #Right
                                    DataSource          #PurchTable_Reference
                                    DataField           #PurchStatus
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL CHECKBOX
                                  PROPERTIES
                                    Name                #PurchTable_InterCompanyOrder
                                    BackgroundColor     #Window background
                                    LabelAlignment      #Right
                                    DataSource          #PurchTable_Reference
                                    DataField           #InterCompanyOrder
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL STRINGEDIT
                                  PROPERTIES
                                    Name                #PurchTable_InterCompanyCompanyId
                                    LabelAlignment      #Right
                                    DataSource          #PurchTable_Reference
                                    DataField           #InterCompanyCompanyId
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL STRINGEDIT
                                  PROPERTIES
                                    Name                #PurchTable_InterCompanySalesId
                                    HTMLHelpFile        #HTMLHelpFileAxShared
                                    HTMLHelpTopic       #html/69e402f4-304d-4eff-9463-59bbf1fa0fb4.htm
                                    LabelAlignment      #Right
                                    DataSource          #PurchTable_Reference
                                    DataField           #InterCompanySalesId
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL STRINGEDIT
                                  PROPERTIES
                                    Name                #interCompanySalesType
                                    AllowEdit           #No
                                    HTMLHelpFile        #HTMLHelpFileAxShared
                                    HTMLHelpTopic       #html/1DB119D7-47DC-4C66-9C86-D70672DFB71A.htm
                                    ConfigurationKey    #TradeInterCompany
                                    DataSource          #PurchTable_Reference
                                    DataMethod          #interCompanySalesType
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL COMBOBOX
                                  PROPERTIES
                                    Name                #interCompanySalesStatus
                                    HTMLHelpFile        #HTMLHelpFileAxShared
                                    HTMLHelpTopic       #html/040178E5-59A5-44E1-A96F-EBE6621E7958.htm
                                    ConfigurationKey    #TradeInterCompany
                                    LabelAlignment      #Right
                                    DataSource          #PurchTable_Reference
                                    DataMethod          #interCompanySalesStatus
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL COMBOBOX
                                  PROPERTIES
                                    Name                #interCompanyDocumentStatus
                                    HTMLHelpFile        #HTMLHelpFileAxShared
                                    HTMLHelpTopic       #html/844F6EAC-E88B-4371-9D4B-31C11ED98FAA.htm
                                    ConfigurationKey    #TradeInterCompany
                                    LabelAlignment      #Right
                                    DataSource          #PurchTable_Reference
                                    DataMethod          #interCompanyDocumentStatus
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL STRINGEDIT
                                  PROPERTIES
                                    Name                #interCompanyDocumentNum
                                    HTMLHelpFile        #HTMLHelpFileAxShared
                                    HTMLHelpTopic       #html/E4ECE14C-4117-474A-BF09-D3D79548F3B7.htm
                                    ConfigurationKey    #TradeInterCompany
                                    LabelAlignment      #Right
                                    DataSource          #PurchTable_Reference
                                    DataMethod          #interCompanyDocumentNum
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL DATEEDIT
                                  PROPERTIES
                                    Name                #interCompanyDocumentDate
                                    HTMLHelpFile        #HTMLHelpFileAxShared
                                    HTMLHelpTopic       #html/8E5B6961-FB24-4292-BD86-78F5DA0147D0.htm
                                    ConfigurationKey    #TradeInterCompany
                                    LabelAlignment      #Right
                                    DataSource          #PurchTable_Reference
                                    DataMethod          #interCompanyDocumentDate
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                              ENDCONTAINER
                              
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabHeaderDimension
                    AutoDeclaration     #Yes
                    Caption             #@SYS14926
                    DataSource          #SalesTable
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Dimension
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/a790834d-649a-459d-999c-dea491bad6c8.htm
                        DataSource          #SalesTable
                        DataGroup           #Dimension
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #National
                    ConfigurationKey    #CRSEBrazil
                    Caption             #@GLS56
                    Columns             #2
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #FiscalInformation1
                        DataSource          #SalesTable
                        Columns             #2
                        ArrangeGuide        
                          ARRAY INDEX Columns 
                            #0
                            #0
                          ENDARRAY
                        DataGroup           #FiscalInformation
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #FiscalInformation1_CustInvoiceType
                              DataSource          #SalesTable
                              DataField           #CustInvoiceType
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #FiscalInformation1_OperationId
                              DataSource          #SalesTable
                              DataField           #OperationId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #FiscalInformation1_CustCFOPId
                              DataSource          #SalesTable
                              DataField           #CustCFOPId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #FiscalInformation1_CFPSId
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #CFPSId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #FiscalInformation1_TaxRemittance
                              DataSource          #SalesTable
                              DataField           #TaxRemittance
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #FiscalInformation1_CustFinalUser
                              DataSource          #SalesTable
                              DataField           #CustFinalUser
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #FiscalInformation1_InvoiceSeries
                              DataSource          #SalesTable
                              DataField           #InvoiceSeries
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #FiscalInformation1_ServiceCodeOnDlvAddress
                              DataSource          #SalesTable
                              DataField           #ServiceCodeOnDlvAddress
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #FiscalInformation1_DeliveryCFOPId
                              AutoDeclaration     #Yes
                              DataSource          #SalesTable
                              DataField           #DeliveryCFOPId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #SuframaRegion
                        DataSource          #SalesTable
                        DataGroup           #SuframaRegion
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #InvoiceReference
                        AutoDeclaration     #Yes
                        DataSource          #SalesTable
                        DataGroup           #InvoiceReference
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #RBOPrePayment
                    AutoDeclaration     #Yes
                    Visible             #No
                    Caption             #@RBO1761
                    DataSource          #SalesTable
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #pageActivated
                      #public void pageActivated()
                      #{
                      #    element.getTotalBalance();
                      #    super();
                      #}
                    ENDSOURCE
                  ENDMETHODS
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Prepayment
                        Caption             #@RBO1761
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #RBOPrePaymentTable_PrePaymentToPay
                              DataSource          #RBOPrePaymentTable
                              DataField           #PrePaymentToPay
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #RBOPrePaymentTable_PrePaymentPaid
                              DataSource          #RBOPrePaymentTable
                              DataField           #PrePaymentPaid
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #TotalBalance
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              Width               #Column width
                              Skip                #Yes
                              Label               #@RBO1766
                              ExtendedDataType    
                                ARRAY 
                                  #AmountCur
                                  #
                                ENDARRAY
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #HHTHandheld
                    ConfigurationKey    #RetailStoreInventory
                    SecurityKey         #HHTJournals
                    Caption             #@HHT242
                    DataSource          #SalesTable
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Handheld
                        ConfigurationKey    #RetailStoreInventory
                        SecurityKey         #HHTJournals
                        DataSource          #SalesTable
                        DataGroup           #HHTHandheld
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #Handheld_HHTPRDocument
                              LabelAlignment      #Right
                              DataSource          #SalesTable
                              DataField           #HHTPRDocument
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #Handheld_HHTRetailStatusType
                              Visible             #No
                              LabelAlignment      #Right
                              DataSource          #SalesTable
                              DataField           #HHTRetailStatusType
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Handheld_HHTPostedPRId
                              Visible             #No
                              LabelAlignment      #Right
                              DataSource          #SalesTable
                              DataField           #HHTPostedPRId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #echCheckResults
                    ConfigurationKey    #echProcesses
                    Caption             #@ECH164
                    DataSource          #echSalesOrderCheckResultTable
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GRID
                      PROPERTIES
                        Name                #CheckResultsGrid
                        Width               #Column width
                        Height              #Column height
                        DataSource          #echSalesOrderCheckResultTable
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #CheckResultsGrid_Check
                              DataSource          #echSalesOrderCheckResultTable
                              DataField           #Check
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #CheckResultsGrid_Result
                              DataSource          #echSalesOrderCheckResultTable
                              DataField           #Result
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL UTCDATETIMEEDIT
                            PROPERTIES
                              Name                #echSalesOrderCheckResultTable_modifiedDateTime
                              DataSource          #echSalesOrderCheckResultTable
                              DataField           #modifiedDateTime
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
              ENDCONTAINER
              
            ENDCONTROL 
            
            CONTROL BUTTONGROUP
              PROPERTIES
                Name                #ButtonsHeader
              ENDPROPERTIES
              
              CONTAINER
                CONTROL BUTTON
                  PROPERTIES
                    Name                #ButtonToggelSimple
                    AutoDeclaration     #Yes
                    HelpText            #@SYS69463
                    Text                #@SYS23466
                    SaveRecord          #No
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #Clicked
                      #void clicked()
                      #{
                      #    super();
                      #
                      #    element.toggelSimpleAdvanced(!advanced);
                      #}
                    ENDSOURCE
                  ENDMETHODS
                ENDCONTROL 
                
                CONTROL BUTTON
                  PROPERTIES
                    Name                #ButtonToggelAdvanced
                    AutoDeclaration     #Yes
                    HelpText            #@SYS69464
                    Text                #@SYS24899
                    SaveRecord          #No
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #Clicked
                      #void clicked()
                      #{
                      #    super();
                      #
                      #    element.toggelSimpleAdvanced(!advanced);
                      #}
                    ENDSOURCE
                  ENDMETHODS
                ENDCONTROL 
                
                CONTROL MENUBUTTON
                  PROPERTIES
                    Name                #ButtonHeaderUpdate
                    AutoDeclaration     #Yes
                    HelpText            #@SYS69476
                    Text                #@SYS78937
                    MultiSelect         #Yes
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #Clicked
                      #public void clicked()
                      #{
                      #    ;
                      #
                      #    salesTableForm.enableUpdateJournalButtons(salesTable,
                      #                                              buttonUpdateConfirmation,
                      #                                              buttonUpdatePickingList,
                      #                                              buttonUpdatePickingListRegistrate,
                      #                                              buttonUpdatePackingSlip,
                      #                                              buttonUpdateInvoice,
                      #                                              null,
                      #                                              null,
                      #                                              null,
                      #                                              null,
                      #                                              null
                      #                                              // <GBR>
                      #                                              ,
                      #                                              buttonUpdateDeliverySlip
                      #                                              // </GBR>
                      #                                              );
                      #
                      #
                      #    super();
                      #}
                    ENDSOURCE
                  ENDMETHODS
                  CONTAINER
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonUpdateConfirmation
                        AutoDeclaration     #Yes
                        MenuItemType        #Action
                        MenuItemName        #SalesFormLetter_Confirmation
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #HeaderUpdate_Separator1
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonUpdatePickingList
                        AutoDeclaration     #Yes
                        MenuItemType        #Action
                        MenuItemName        #SalesFormLetter_PickingList
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #// <GBR>
                          #void clicked()
                          #{
                          #    ;
                          #
                          #    if (BrazilParameters::isEnabled())
                          #    {
                          #        element.validateOperationTypeToPost_BR();
                          #    }
                          #
                          #    super();
                          #}
                          #// </GBR>
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonUpdatePickingListRegistrate
                        AutoDeclaration     #Yes
                        MultiSelect         #Yes
                        MenuItemName        #wmsPickingregistration
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #// <GBR>
                          #void clicked()
                          #{;
                          #
                          #    if (BrazilParameters::isEnabled())
                          #    {
                          #        element.validateOperationTypeToPost_BR();
                          #    }
                          #
                          #    super();
                          #}
                          #// </GBR>
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #HeaderUpdate_Separator2
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonUpdatePackingSlip
                        AutoDeclaration     #Yes
                        MenuItemType        #Action
                        MenuItemName        #SalesFormLetter_PackingSlip
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #// <GBR>
                          #void clicked()
                          #{
                          #    ;
                          #
                          #    if (BrazilParameters::isEnabled())
                          #    {
                          #        element.validateOperationTypeToPost_BR();
                          #    }
                          #
                          #    super();
                          #}
                          #// </GBR>
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonUpdateDeliverySlip
                        AutoDeclaration     #Yes
                        ConfigurationKey    #CRSEBrazil
                        MenuItemType        #Action
                        MenuItemName        #SalesFormLetter_PackingSlip_BR
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonUpdateInvoice
                        AutoDeclaration     #Yes
                        MenuItemType        #Action
                        MenuItemName        #SalesFormLetter_Invoice
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void clicked()
                          #{;
                          #
                          #// <GBR>
                          #    if (BrazilParameters::isEnabled())
                          #    {
                          #        element.validateOperationTypeToPost_BR();
                          #    }
                          #// </GBR>
                          #
                          #    super();
                          #}
                          #
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL MENUBUTTON
                  PROPERTIES
                    Name                #ButtonHeaderProforma
                    AutoDeclaration     #Yes
                    HelpText            #@SYS109859
                    Text                #@SYS71007
                    MultiSelect         #Yes
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #clicked
                      #void clicked()
                      #{;
                      #    salesTableForm.enableUpdateJournalButtons(salesTable,
                      #                                              null,
                      #                                              null,
                      #                                              null,
                      #                                              null,
                      #                                              null,
                      #                                              null,
                      #                                              buttonProformaConfirmation,
                      #                                              buttonProformaPickingList,
                      #                                              buttonProformaPackingSlip,
                      #                                              buttonProformaInvoice
                      #                                              // <GBR>
                      #                                              ,
                      #                                              null,
                      #                                              buttonProformaDeliverySlip_BR
                      #                                              // </GBR>
                      #                                              );
                      #
                      #    super();
                      #
                      #}
                    ENDSOURCE
                  ENDMETHODS
                  CONTAINER
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonProformaConfirmation
                        AutoDeclaration     #Yes
                        MenuItemType        #Action
                        MenuItemName        #SalesFormLetter_Proforma_Confirmation
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #Header_Proforma_Separator1
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonProformaPickingList
                        AutoDeclaration     #Yes
                        MenuItemType        #Action
                        MenuItemName        #SalesFormLetter_Proforma_PickingList
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #Header_Proforma_Separator2
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonProformaPackingSlip
                        AutoDeclaration     #Yes
                        MenuItemType        #Action
                        MenuItemName        #SalesFormLetter_Proforma_PackingSlip
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #Header_Proforma_Separator3
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonProformaDeliverySlip_BR
                        AutoDeclaration     #Yes
                        MenuItemType        #Action
                        MenuItemName        #SalesFormLetter_Proforma_PackingSlip_BR
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #Header_Proforma_Separator4
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonProformaInvoice
                        AutoDeclaration     #Yes
                        MenuItemType        #Action
                        MenuItemName        #SalesFormLetter_Proforma_Invoice
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #Header_Proforma_Separator5
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #echRefundNoteButton
                        AutoDeclaration     #Yes
                        HelpText            #@ECH234
                        Text                #@ECH232
                        MenuItemType        #Output
                        MenuItemName        #echRefundNoteReport
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL MENUBUTTON
                  PROPERTIES
                    Name                #ButtonHeaderSetup
                    AutoDeclaration     #Yes
                    HelpText            #@SYS76660
                    Text                #@SYS2186
                    SaveRecord          #No
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #Clicked
                      #void clicked()
                      #{;
                      #    buttonPaymentSchedule.enabled(true);
                      #
                      #    // Disables the Payment schedule button under Setup menubutton for return orders
                      #    if (salesTable.returnItem())
                      #    {
                      #        buttonPaymentSchedule.enabled(false);
                      #    }
                      #    else
                      #    {
                      #        if (!salesTable.PaymentSched)
                      #        {
                      #            buttonPaymentSchedule.enabled(false);
                      #        }
                      #    }
                      #
                      #    buttonMarkupTransHeading.enabled(salesTable.markupAllowed());
                      #
                      #    element.enableCreditCardMenuItems();
                      #
                      #    // <GBR>
                      #    if (BrazilParameters::isEnabled())
                      #    {
                      #        custSalesLegalTxt_BR.enabled(salesTable.setCustSalesLegalTxtButton_BR());
                      #    }
                      #    // </GBR>
                      #
                      #    super();
                      #}
                      #
                    ENDSOURCE
                  ENDMETHODS
                  CONTAINER
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #ButtonMarkupTransHeading
                        AutoDeclaration     #Yes
                        MenuItemName        #MarkupTrans_HeadingSales
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #TaxTransSource
                        MenuItemName        #TaxTransSource
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #Clicked
                          #void clicked()
                          #{;
                          #    element.automaticTotalDiscount();
                          #
                          #    if (!tmpSalesTableTaxTransForm || (tmpSalesTableTaxTransForm && tmpSalesTableTaxTransForm.closed()))
                          #    {
                          #        tmpSalesTableTaxTransForm = SalesTotals::showTax(salesTable);
                          #    }
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #HeaderSetup_Separator1
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonPaymentSchedule
                        AutoDeclaration     #Yes
                        MenuItemName        #CustPaymSchedule
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void clicked()
                          #{
                          #    CustVendPaymSched   custVendPaymSched;
                          #    ;
                          #
                          #    element.automaticTotalDiscount();
                          #
                          #    if (salesTable.PaymentSched && !CustPaymSched::exist(salesTable.TableId,salesTable.RecId))
                          #    {
                          #        custVendPaymSched = CustVendPaymSched::construct(SysModule::Cust,salesTable);
                          #        custVendPaymSched.copyPaymSched(PaymSched::find(salesTable.PaymentSched));
                          #        salesTable.createPaymentSched();
                          #    }
                          #    super();
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #HeaderSetup_Separator2
                        Height              #100
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #CustSalesLegalTxt_BR
                        AutoDeclaration     #Yes
                        MenuItemName        #CustSalesLegalTxt_BR
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #Separator15
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #Address
                        AutoDeclaration     #Yes
                        Left                #Right edge
                        MenuItemName        #AddressSelect
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #public void clicked()
                          #{
                          #    ;
                          #
                          #    oldThirdPartyBillingAddr = salesTable.tpAddress();
                          #
                          #    super();
                          #
                          #    // Shipping module
                          #    shipCarrierAddress_ds.reread();
                          #    shipCarrierAddress_ds.refresh();
                          #    shipCarrierAddressInLine_ds.reread();
                          #    shipCarrierAddressInLine_ds.refresh();
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #ContactPerson
                        MenuItemName        #contactPerson
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #HeaderSetup_Separator3
                        Height              #100
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL BUTTON
                      PROPERTIES
                        Name                #PrintMgmt
                        AutoDeclaration     #Yes
                        HelpText            #@SYS68918
                        ConfigurationKey    #LogisticsBasic
                        SecurityKey         #CustMisc
                        Text                #@SYS54502
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void clicked()
                          #{
                          #    PrintMgmtSetupContext setupContext = new PrintMgmtSetupContext();
                          #    List inventDocs = new List(Types::Enum);
                          #    List salesDocs  = new List(Types::Enum);
                          #    ;
                          #
                          #    if (salesTable_ds.cursor() == null)
                          #        return;
                          #
                          #    super();
                          #
                          #    salesDocs.addEnd(PrintMgmtDocumentType::SalesOrderConfirmation);
                          #    salesDocs.addEnd(PrintMgmtDocumentType::SalesOrderInvoice);
                          #    salesDocs.addEnd(PrintMgmtDocumentType::SalesOrderPackingSlip);
                          #
                          #
                          #    inventDocs.addEnd(PrintMgmtDocumentType::InventPickList);
                          #
                          #
                          #    setupContext.addHierarchyContext(PrintMgmtHierarchyType::Sales, PrintMgmtNodeType::SalesTable,salesDocs);
                          #    setupContext.addHierarchyContext(PrintMgmtHierarchyType::Invent, PrintMgmtNodeType::SalesTable,inventDocs);
                          #
                          #    setupContext.parmCaller(element);
                          #    setupContext.parmReferencedTableBuffer(salesTable_ds.cursor());
                          #    PrintMgmt::launchSetup(setupContext);
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SalesJournalAutoSummary_Sales
                        MenuItemName        #SalesJournalAutoSummary_Sales
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #HeaderSetup_Separator4
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #CreditCardWizard
                        AutoDeclaration     #Yes
                        MenuItemName        #creditCardwizard
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #ShipCarrierEmailAddress
                        MenuItemName        #ShipCarrierEmailAddress
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #ReturnOrdercreate
                        HelpText            #@SYS98886
                        Text                #@SYS104102
                        MenuItemType        #Action
                        MenuItemName        #echCreateReturnOrderForm
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL MENUBUTTON
                  PROPERTIES
                    Name                #ButtonHeaderFunction
                    AutoDeclaration     #Yes
                    HelpText            #@SYS69469
                    Text                #@SYS10340
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #Clicked
                      #void clicked()
                      #{
                      #    SalesTableType  salesTableTypeLocal = salesTable.type();
                      #    boolean         canDropShip         = true;
                      #    boolean         canCreatePurchOrder = true;
                      #    boolean         creditInvoicing     = true;
                      #    boolean         returnItem          = salesTable.returnItem();
                      #    boolean         regularOrder        = (salesTable.SalesType == SalesType::Sales) ||
                      #                                          (salesTable.SalesType == SalesType::ItemReq);
                      #    ;
                      #
                      #    if (salesTable.SalesStatus == SalesStatus::Invoiced
                      #    ||  salesTable.SalesStatus == SalesStatus::Canceled
                      #    ||  salesTable.SalesStatus == SalesStatus::Delivered
                      #    || !salesTableTypeLocal.canCreatePurchOrder())
                      #    {
                      #        canCreatePurchOrder = false;
                      #        canDropShip = false;
                      #        if (CustParameters::find().CreditInvoicing
                      #        &&  salesTable.SalesStatus == SalesStatus::Invoiced && !returnItem)
                      #        {
                      #            creditInvoicing = false;
                      #        }
                      #    }
                      #
                      #    if (salesTable.ProjId)
                      #    {
                      #        creditInvoicing = false;
                      #    }
                      #
                      #    // Control Service buttons
                      #    smaAgreementWizard.enabled(regularOrder);
                      #    smaServiceOrderWizard.enabled(regularOrder);
                      #
                      #    // Disable buttons for return orders
                      #    salesCopyAllHeader.enabled(!returnItem);
                      #    salesCopyJournalHeader.enabled(!returnItem);
                      #    tradeBLWIChangeCode.enabled(!returnItem);
                      #    salesCreditNoteHeader.enabled(!returnItem && salesTable.canCreditNoteBeCreated());
                      #
                      #    buttonCreateReleaseOrder.enabled(salesTableTypeLocal.canReleaseOrderBeCreated());
                      #    buttonCreatePurchOrder.enabled(canCreatePurchOrder);
                      #    buttonCreateDropShipment.enabled(canDropShip && salesTableTypeLocal.canCreateDropShipment());
                      #
                      #    // <GBR>
                      #    if(BrazilParameters::isEnabled()
                      #       && salesTable.OperationId)
                      #    {
                      #        if((SalesOperationType_BR::find(salesTable.OperationId).InventControl) == NoYes::No ||
                      #           (SalesOperationType_BR::find(salesTable.OperationId).DlvTransitDeposit) != '')
                      #        {
                      #            buttonCreateDropShipment.enabled(false);
                      #        }
                      #        else
                      #        {
                      #            buttonCreateDropShipment.enabled(true && buttonCreateDropShipment.enabled());
                      #        }
                      #    }
                      #    // </GBR>
                      #
                      #    buttonCustVendCreditInvoicingHeader.enabled(creditInvoicing);
                      #    buttoncustVendCreditInvoicingLines.enabled(creditInvoicing);
                      #
                      #    // <GIN>
                      #    if (TaxParameters::find().Customs_IN)
                      #    {
                      #        element.design().control(control::CreateExportOrder_IN).enabled(salesTable.CustomsExportOrder_IN
                      #                                                                        && (salesTable.DocumentStatus == DocumentStatus::Invoice
                      #                                                                        || salesTable.DocumentStatus  == DocumentStatus::ShippingBill_IN));
                      #    }
                      #    // </GIN>
                      #
                      #    // <RETAIL>
                      #
                      #    if (salesTable.SalesStatus == SalesStatus::Invoiced)
                      #    {
                      #        CalcPrepayment.enabled(false);
                      #    }
                      #    else
                      #    {
                      #        CalcPrepayment.enabled(true);
                      #    }
                      #
                      #
                      #    // </RETAIL>
                      #    super();
                      #}
                      #
                    ENDSOURCE
                  ENDMETHODS
                  CONTAINER
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SalesCopyAllHeader
                        AutoDeclaration     #Yes
                        MenuItemName        #SalesCopyAllHeader
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SalesCopyJournalHeader
                        AutoDeclaration     #Yes
                        MenuItemName        #SalesCopyJournalHeader
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #HeaderFunction_Separator1
                        Height              #100
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SalesCreditNoteHeader
                        AutoDeclaration     #Yes
                        MenuItemName        #SalesCreditNoteHeader
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonCreatePurchOrder
                        AutoDeclaration     #Yes
                        MenuItemType        #Action
                        MenuItemName        #PurchCreateFromSalesorderSales
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonCreateReleaseOrder
                        AutoDeclaration     #Yes
                        MenuItemType        #Action
                        MenuItemName        #SalesCreateReleaseOrder
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonCreateDropShipment
                        AutoDeclaration     #Yes
                        MenuItemType        #Action
                        MenuItemName        #SalesCreateDropShipment
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #CreateExportOrder_IN
                        Enabled             #No
                        Text                #@GLS60788
                        MenuItemName        #CustomsExportOrderTable_IN
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #HeaderFunction_Separator2
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #OpenTrans
                        MenuItemName        #CustOpenTrans
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #Separator
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #TradeBLWIChangeCode
                        AutoDeclaration     #Yes
                        MenuItemType        #Action
                        MenuItemName        #TradeBLWIChangeCode
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void clicked()
                          #{
                          #    ;
                          #    if (! salesTable.RecId)
                          #    {
                          #        salesTable.write();
                          #    }
                          #
                          #    super();
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #HeaderFunction_Separator3
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonCustVendCreditInvoicingHeader
                        AutoDeclaration     #Yes
                        Visible             #No
                        MenuItemName        #CustVendCreditInvoicing
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #Separator1
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL BUTTON
                      PROPERTIES
                        Name                #CalcPrepayment
                        AutoDeclaration     #Yes
                        Visible             #No
                        Text                #@RBO2551
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void clicked()
                          #{
                          #    RBOCalcPrePayment calc = new RBOCalcPrePayment();
                          #    container         prePayment;
                          #    SalesTable        _salesTable;
                          #    ;
                          #
                          #    prepayment = calc.initPrePayment(calc.prePaymentSuggestion(salesTable), salesTable);
                          #    _salesTable  = SalesTable::find(salesTable.salesId);
                          #
                          #//    info(strfmt("Calculated prepayment amount %1 for sales order %2",num2str(conpeek(prepayment,2),2,2,0,0),salesTable.SalesId));
                          #
                          #    super();
                          #
                          #    SalesTable_ds.research();
                          #    SalesTable_ds.findRecord(_salesTable);
                          #    RBOPrePayment.setFocus();
                          #}
                          #
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SMAAgreementWizard
                        AutoDeclaration     #Yes
                        MenuItemName        #SMAAgreementWizard
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SMAServiceOrderWizard
                        AutoDeclaration     #Yes
                        MenuItemName        #SMAServiceOrderWizard
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #Separator2
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #CreditCardPreauthorize
                        AutoDeclaration     #Yes
                        MenuItemType        #Action
                        MenuItemName        #CreditCardPreauthorize
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #Separator4
                        ConfigurationKey    #RetailStoreInventory
                        SecurityKey         #HHTJournals
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #createNewPRDoc
                        AutoDeclaration     #Yes
                        Enabled             #No
                        ConfigurationKey    #RetailStoreInventory
                        SecurityKey         #HHTJournals
                        Text                #@HHT393
                        MenuItemType        #Action
                        MenuItemName        #HHTPRCreate_Sales
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void clicked()
                          #{
                          #    super();
                          #
                          #
                          #    element.updateHHTButton();
                          #
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #Separator16
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SalesCopying_RefusedNote_BR
                        MenuItemName        #SalesCopying_RefusedNote_BR
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #echHeaderSetup_Separator5
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #echSalesOrderCancelRemain
                        AutoDeclaration     #Yes
                        MenuItemType        #Action
                        MenuItemName        #echSalesOrderCancelRemain
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #// *** ECHINA - Marijn Catthoor ***
                          #// *** Customization Code: ECH_WI_00829
                          #// *** Customization Date: 04 Jul 2012
                          #// *** Customization Type: Created
                          #// *** Description:   Refresh the salesTable record
                          #
                          #void clicked()
                          #{
                          #    super();
                          #
                          #    // refresh the salesTable datasource
                          #    salesTable_ds.reRead();
                          #}
                          #
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL MENUBUTTON
                  PROPERTIES
                    Name                #ButtonHeaderInquiry
                    AutoDeclaration     #Yes
                    HelpText            #@SYS69471
                    Text                #@SYS3850
                    SaveRecord          #No
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #Clicked
                      #// *** ECHINA - Marijn Catthoor ***
                      #// *** Customization Code: ECH_WI_00874
                      #// *** Customization Date: 20 Sep 2012
                      #// *** Customization Type: MOdified
                      #// *** Description: Enable the Picking list button even in case of a return order
                      #
                      #void clicked()
                      #{
                      #    container       existingJournals;
                      #    SalesTableType  salesTableTypeLocal = salesTable.type();
                      #    boolean         returnItem          = salesTable.returnItem();
                      #    ;
                      #
                      #    existingJournals = salesTable.existingJournals();
                      #
                      #    buttonJournalQuotationConfirmation.enabled (conpeek(existingJournals, SalesTableType::posQuotation()) ? true : false);
                      #    buttonJournalConfirmation.enabled(conpeek(existingJournals, SalesTableType::posConfirmation()) && !returnItem ? true : false);
                      #
                      #// CS - ECH_WI_00874 - Marijn Catthoor - 20 Sep 2012
                      #    //buttonJournalPickingList.enabled(conpeek(existingJournals, SalesTableType::posPickingList()) && !returnItem ? true : false);
                      #    buttonJournalPickingList.enabled(conpeek(existingJournals, SalesTableType::posPickingList()) ? true : false);
                      #// CE - ECH_WI_00874 - Marijn Catthoor - 20 Sep 2012
                      #
                      #    // <GBR>
                      #    if(BrazilParameters::isEnabled())
                      #    {
                      #        buttonJournalPackingSlip_BR.visible(true);
                      #        buttonJournalPackingSlip_BR.enabled(conpeek(existingJournals, SalesTableType::posPackingSlip()) ? true : false);
                      #        buttonJournalPackingSlip.visible(false);
                      #    }
                      #    else
                      #    {
                      #    // </GBR>
                      #        buttonJournalPackingSlip.enabled(conpeek(existingJournals, SalesTableType::posPackingSlip()) ? true : false);
                      #    // <GBR>
                      #    }
                      #    // </GBR>
                      #    buttonJournalInvoice.enabled(!salesTable.ProjId && conpeek(existingJournals, SalesTableType::posInvoice()) ? true : false);
                      #    buttonSalesTableLinks.enabled(salesTableTypeLocal.canHaveAttachedOrders());
                      #
                      #    // Disable buttons for return orders
                      #    buttonPurchTable.enabled(purchTable_Reference.RecId && !returnItem);
                      #    checkCreditLimit.enabled(!returnItem);
                      #    priceDiscActual.enabled(!returnItem);
                      #
                      #    super();
                      #}
                      #
                    ENDSOURCE
                  ENDMETHODS
                  CONTAINER
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #ButtonTotals
                        MenuItemName        #SalesTotals
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void clicked()
                          #{
                          #    ;
                          #    element.automaticTotalDiscount();
                          #    super();
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #CheckCreditLimit
                        AutoDeclaration     #Yes
                        MenuItemType        #Action
                        MenuItemName        #SalesCheckCreditLimit
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void clicked()
                          #{
                          #    ;
                          #    element.automaticTotalDiscount();
                          #    super();
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #Cov
                        MenuItemName        #LedgerCoverage
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void clicked()
                          #{
                          #    ;
                          #    element.automaticTotalDiscount();
                          #    super();
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #HeaderInquiry_Separator1
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #priceDiscActual
                        AutoDeclaration     #Yes
                        MenuItemName        #priceDiscActual
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #HeaderInquiry_Separator2
                        Height              #100
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonJournalQuotationConfirmation
                        AutoDeclaration     #Yes
                        Text                #@SYS98918
                        MenuItemName        #custQuotationJournalConfirmation
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonJournalConfirmation
                        AutoDeclaration     #Yes
                        MenuItemName        #CustConfirmJournal
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonJournalPickingList
                        AutoDeclaration     #Yes
                        MenuItemName        #WMSPickingRoutesJournal
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonJournalPackingSlip
                        AutoDeclaration     #Yes
                        MenuItemName        #CustPackingSlipJournal
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonJournalPackingSlip_BR
                        AutoDeclaration     #Yes
                        Visible             #No
                        MenuItemName        #CustPackingSlipDeliverySlipJournal_BR
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonJournalInvoice
                        AutoDeclaration     #Yes
                        MenuItemName        #CustInvoiceJournal
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #HeaderInquiry_Separator3
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonPurchTable
                        AutoDeclaration     #Yes
                        MenuItemName        #PurchTable
                        DataSource          #PurchTable_Reference
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #ButtonSalesTableLinks
                        AutoDeclaration     #Yes
                        MenuItemName        #SalesTableLinks
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #HeaderInquiry_Separator4
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #HeaderInquiry_CostControlCommittedCost
                        AutoDeclaration     #Yes
                        AllowEdit           #No
                        SaveRecord          #No
                        MenuItemName        #costcontrolCommittedCost
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #CreditCardAuthTrans
                        MenuItemName        #CreditCardAuthTrans
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #HeaderInquiry_Separator5
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #InventNonConformanceTableHeader
                        AutoDeclaration     #Yes
                        MenuItemName        #InventNonConformanceTable
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #InventQualityOrderTableHeader
                        AutoDeclaration     #Yes
                        MenuItemName        #InventQualityOrderTable
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #Separator3
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonRBOPrePaymentTable
                        Visible             #No
                        Text                #@RBO2552
                        MenuItemName        #RBOPrePaymentTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL MENUITEMBUTTON
                  PROPERTIES
                    Name                #echSOPromotionsHeaderForm
                    HelpText            #@ECH248
                    ConfigurationKey    #echProcesses
                    Text                #@SYS115268
                    MenuItemName        #echSOPromotionsHeaderForm
                    DataSource          #SalesTable
                  ENDPROPERTIES
                  
                ENDCONTROL 
                
                CONTROL MENUBUTTON
                  PROPERTIES
                    Name                #ButtonHeaderTradeAgreements
                    AutoDeclaration     #Yes
                    HelpText            #@SYS69473
                    Text                #@SYS13768
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SalesPrice
                        MenuItemName        #PriceDiscTable_PriceSales
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SalesLineDisc
                        MenuItemName        #PriceDiscTable_LineDiscSales
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SalesMultiLineDisc
                        MenuItemName        #PriceDiscTable_MultiLineDiscSales
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SalesEndDisc
                        MenuItemName        #PriceDiscTable_EndDiscSales
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #TradeAgreements_Separator1
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SuppItemTable_Sales
                        MenuItemName        #SuppItemTable_Sales
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL MENUITEMBUTTON
                  PROPERTIES
                    Name                #ButtonHeaderQuickQuote
                    AutoDeclaration     #Yes
                    MenuItemName        #SalesQuickQuote
                    DataSource          #SalesTable
                  ENDPROPERTIES
                  
                ENDCONTROL 
                
                CONTROL MENUBUTTON
                  PROPERTIES
                    Name                #ButtonHeaderInterCompany
                    AutoDeclaration     #Yes
                    HelpText            #@SYS94420
                    ConfigurationKey    #TradeInterCompany
                    Text                #@SYS74106
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #clicked
                      #void clicked()
                      #{
                      #    container   checkIfUpdate           = purchTable_Reference.interCompanySalesTable().checkIfUpdate();
                      #    boolean     enablePickingListButton;
                      #;
                      #    enablePickingListButton = conlen(checkIfUpdate) ? conpeek(checkIfupdate, SalesTableType::posPickingList()) : false;
                      #
                      #    buttonPurchTableThisCompany.                  enabled(purchTable_Reference.InterCompanySalesId ? true : false);
                      #    buttonInterCompanyPurchTable.                 enabled(salesTable.InterCompanyPurchId           ? true : false);
                      #    buttonInterCompanyOriginalSalesTable.         enabled(salesTable.InterCompanyOriginalSalesId   ? true : false);
                      #    buttonInterCompanySalesTable.                 enabled(purchTable_Reference.InterCompanySalesId ? true : false);
                      #    buttonInterCompanySalesFormLetter_Pickinglist.enabled(enablePickingListButton);
                      #
                      #    super();
                      #}
                      #
                    ENDSOURCE
                  ENDMETHODS
                  CONTAINER
                    CONTROL BUTTON
                      PROPERTIES
                        Name                #ButtonInterCompanySalesTable
                        AutoDeclaration     #Yes
                        HelpText            #@SYS94562
                        Text                #@SYS93837
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void clicked()
                          #{
                          #    super();
                          #
                          #    if (salesTable.SalesType == SalesType::ReturnItem)
                          #        TradeInterCompany::construct(purchTable_Reference).formRun(formstr(ReturnTable),element);
                          #    else
                          #        TradeInterCompany::construct(purchTable_Reference).formRun(formstr(SalesTable),element);
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL BUTTON
                      PROPERTIES
                        Name                #ButtonInterCompanyOriginalSalesTable
                        AutoDeclaration     #Yes
                        HelpText            #@SYS94563
                        Text                #@SYS93838
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void clicked()
                          #{
                          #    super();
                          #
                          #    if (salesTable.SalesType == SalesType::ReturnItem)
                          #        TradeInterCompany::construct(salesTable,true).formRun(formstr(ReturnTable),element);
                          #    else
                          #        TradeInterCompany::construct(salesTable,true).formRun(formstr(SalesTable),element);
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #ButtonPurchTableThisCompany
                        AutoDeclaration     #Yes
                        MenuItemName        #PurchTable
                        DataSource          #PurchTable_Reference
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL BUTTON
                      PROPERTIES
                        Name                #ButtonInterCompanyPurchTable
                        AutoDeclaration     #Yes
                        HelpText            #@SYS94560
                        Text                #@SYS75319
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void clicked()
                          #{
                          #    super();
                          #
                          #    TradeInterCompany::construct(salesTable).formRun(formstr(PurchTable),element);
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL BUTTON
                      PROPERTIES
                        Name                #ButtonInterCompanySalesFormLetter_Pickinglist
                        AutoDeclaration     #Yes
                        HelpText            #@SYS94424
                        Text                #@SYS94423
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void  clicked()
                          #{;
                          #    if (!purchTable_Reference.RecId && !purchTable_Reference.InterCompanySalesId)
                          #        throw(error("@SYS28047"));
                          #
                          #    TradeInterCompany::construct(purchTable_Reference).menuFunction(classstr(SalesFormLetter_PickingList),MenuItemType::Action,element);
                          #}
                          #
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL BUTTON
                  PROPERTIES
                    Name                #echSendSalesOrder
                    AutoDeclaration     #Yes
                    HelpText            #@ECH23
                    ConfigurationKey    #echInterfaces
                    SecurityKey         #CustMisc
                    Text                #@SYS88739
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #clicked
                      #// Add ECH_WI_02083 by mengqi.cen on 20130429
                      #void clicked()
                      #{
                      #    int    infoStartLine;
                      #;
                      #    super();
                      #
                      #    infoStartLine = infoLog.line();
                      #
                      #    echUpdateAggStatus::sendOrderToAIF(SalesTable, AifSendMode::Sync);
                      #
                      #    if (infoStartLine == infoLog.line())
                      #        info(strfmt("@ECH24", enum2str(SalesTable.SalesType), SalesTable.SalesId));
                      #    else
                      #        error(strfmt("@ECH298", enum2str(SalesTable.SalesType), SalesTable.SalesId));
                      #}
                    ENDSOURCE
                  ENDMETHODS
                ENDCONTROL 
                
              ENDCONTAINER
              
            ENDCONTROL 
            
          ENDCONTAINER
          
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CtrlSplitVertical
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #5
          AlignControl        #Yes
          HTMLHelpFile        #HTMLHelpFileAxShared
          HTMLHelpTopic       #html/DD6D1AB6-1A41-4D7B-AEFC-163E623DF926.htm
          FrameType           #Raised 3D
          BackgroundColor     #Window background
          HideIfEmpty         #No
          AlignChild          #No
        ENDPROPERTIES
        
        METHODS
          Version: 3
          SOURCE #mouseUp
            #int mouseUp(int x, int y, int button, boolean ctrl, boolean shift)
            #{
            #    int ret;
            #
            #    ret = super(x, y, button, ctrl, shift);
            #
            #    return _formSplitterVertical.mouseUp(x, y, button, ctrl, shift);
            #}
          ENDSOURCE
          SOURCE #mouseMove
            #int mouseMove(int x, int y, int button, boolean ctrl, boolean shift)
            #{
            #    int ret;
            #
            #    ret = super(x, y, button, ctrl, shift);
            #
            #    return _formSplitterVertical.mouseMove(x,y,button,ctrl,shift);
            #}
          ENDSOURCE
          SOURCE #mouseDown
            #int mouseDown(int x, int y, int button, boolean ctrl, boolean shift)
            #{
            #    int ret;
            #
            #    ret = super(x, y, button, ctrl, shift);
            #
            #    return _formSplitterVertical.mouseDown(x, y, button, ctrl, shift);
            #}
          ENDSOURCE
        ENDMETHODS
          CONTAINER
          ENDCONTAINER
          
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Line
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          HTMLHelpFile        #HTMLHelpFileAxShared
          HTMLHelpTopic       #html/e3432930-c481-4a79-a7da-d62033dce4a9.htm
          FrameType           #None
          DataSource          #SalesLine
        ENDPROPERTIES
        
          CONTAINER
            CONTROL TAB
              PROPERTIES
                Name                #TabLine
                AutoDeclaration     #Yes
                Width               #Column width
                Height              #Column height
                Tabs                #7
                DataSource          #SalesLine
              ENDPROPERTIES
              
              CONTAINER
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabLineOverview
                    AutoDeclaration     #Yes
                    Caption             #@SYS15451
                    DataSource          #SalesLine
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GRID
                      PROPERTIES
                        Name                #SalesLineGrid
                        AutoDeclaration     #Yes
                        Width               #Column width
                        Height              #Column height
                        VisibleRows         #9
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesLine_ItemId
                              AutoDeclaration     #Yes
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/f44c2019-8ad4-4f6d-995d-16838fca4121.htm
                              DataSource          #SalesLine
                              DataField           #ItemId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #echGetItemBarCode
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              DataSource          #SalesLine
                              DataMethod          #echGetItemBarCode
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesLine_CustCFOPId
                              ConfigurationKey    #CRSEBrazil
                              DataSource          #SalesLine
                              DataField           #CustCFOPId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #SalesLine_CustReceiptIssueCode
                              ConfigurationKey    #CRSEBrazil
                              DataSource          #SalesLine
                              DataField           #CustReceiptIssueCode
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesLine_RBOVariantId
                              DataSource          #SalesLine
                              DataField           #RBOVariantId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL GROUP
                            PROPERTIES
                              Name                #InventoryDimensionsGrid
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/BC84CC81-55F4-406A-9937-9F4136D9175A.htm
                              BackgroundColor     #Window background
                              DataSource          #InventDim
                              DataGroup           #InventoryDimensions
                              AutoDataGroup       #Yes
                            ENDPROPERTIES
                            
                              CONTAINER
                              ENDCONTAINER
                              
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_SalesQty
                              AllowEdit           #No
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/0182ad7d-bdbf-4203-9d4e-03d388f23711.htm
                              ShowZero            #No
                              DataSource          #SalesLine
                              DataField           #SalesQty
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesLine_SalesUnit
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/aab1a7e0-3781-4168-a7a0-6534144f748a.htm
                              DataSource          #SalesLine
                              DataField           #SalesUnit
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_SalesPrice
                              AllowEdit           #No
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/d435f437-c343-4c31-8c1a-267a91edf7a2.htm
                              ShowZero            #No
                              DataSource          #SalesLine
                              DataField           #SalesPrice
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_LineDiscGrid
                              AllowEdit           #No
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/5132b8a8-b674-4900-bf9e-3492d0204857.htm
                              ShowZero            #No
                              DataSource          #SalesLine
                              DataField           #LineDisc
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_LinePercentGrid
                              AllowEdit           #No
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/507dc973-2670-4b6e-809c-b1145c7a0689.htm
                              ShowZero            #No
                              DataSource          #SalesLine
                              DataField           #LinePercent
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_SuframaDiscount
                              ShowZero            #No
                              DataSource          #SalesLine
                              DataField           #SuframaDiscount
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_LineAmount
                              AllowEdit           #No
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/112405fb-2594-47d2-9fdb-788f2dad00f2.htm
                              DataSource          #SalesLine
                              DataField           #LineAmount
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_AssessableValue_IN
                              DataSource          #SalesLine
                              DataField           #AssessableValue_IN
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ItemName
                              AllowEdit           #No
                              Skip                #Yes
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/FF61467E-2CD6-4ED8-96E3-D13318BDC5B9.htm
                              DataSource          #SalesLine
                              DataMethod          #ItemName
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #qualityOrderStatusDisplayLine
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              DataSource          #SalesLine
                              DataMethod          #qualityOrderStatusDisplay
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #DeliveryGroup
                        FrameType           #None
                        Columns             #3
                        ArrangeGuide        
                          ARRAY INDEX Columns 
                            #0
                            #0
                            #0
                          ENDARRAY
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #SalesLine_ReceiptDateRequested
                              DataSource          #SalesLine
                              DataField           #ReceiptDateRequested
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #SalesLine_ShippingDateRequested
                              DataSource          #SalesLine
                              DataField           #ShippingDateRequested
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #SalesLine_ReceiptDateConfirmed
                              DataSource          #SalesLine
                              DataField           #ReceiptDateConfirmed
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #SalesLine_ShippingDateConfirmed
                              DataSource          #SalesLine
                              DataField           #ShippingDateConfirmed
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #SalesLine_DeliveryDateControl2
                              DataSource          #SalesLine
                              DataField           #DeliveryDateControlType
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesLine_DlvMode
                              DataSource          #SalesLine
                              DataField           #DlvMode
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #SalesLine_echReservationStatus
                              DataSource          #SalesLine
                              DataField           #echReservationStatus
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #SalesLineTimeZone
                        FrameType           #None
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #SalesLine_TimeZoneSite
                              AllowEdit           #No
                              HelpText            #@SYS110100
                              Label               #@SYS110097
                              DataSource          #SalesLine
                              DataMethod          #timeZoneSite
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabLineGeneral
                    AutoDeclaration     #Yes
                    Caption             #@SYS2952
                    DataSource          #SalesLine
                    Columns             #3
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Sales
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/5B9B4908-2CCE-456F-A393-2E478EA56F40.htm
                        Caption             #@SYS22920
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesLine_Name
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/b68d08f5-9389-4ffb-86b3-8781901ce1a2.htm
                              MultiLine           #Yes
                              DataSource          #SalesLine
                              DataField           #Name
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesLine_ExternalItemId
                              Width               #Column width
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/e8b1f6bd-4a86-47e5-bdd3-ecb328b02420.htm
                              DataSource          #SalesLine
                              DataField           #ExternalItemId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #SalesAdminInterCompany
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/D4DE9337-5A31-49D2-9B6B-2E643FB5D17A.htm
                        FrameType           #None
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL GROUP
                            PROPERTIES
                              Name                #SalesLineAdministrationGroup
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/10DD5D41-3914-42B8-A2C4-BE8EA412FD59.htm
                              Caption             #@SYS9853
                              DataSource          #SalesLine
                            ENDPROPERTIES
                            
                              CONTAINER
                              ENDCONTAINER
                              
                          ENDCONTROL 
                          
                          CONTROL GROUP
                            PROPERTIES
                              Name                #SalesLineIntercompany
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/AC604793-F94E-4314-89BE-5F9694852E45.htm
                              DataSource          #SalesLine
                              DataGroup           #Intercompany
                              AutoDataGroup       #Yes
                            ENDPROPERTIES
                            
                              CONTAINER
                              ENDCONTAINER
                              
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #SalesLineStatusGroup
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/BE288B22-1EB0-47EF-9A6B-39DE8353CE2D.htm
                        DataSource          #SalesLine
                        DataGroup           #Status
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #EInvoiceLine
                        AutoDeclaration     #Yes
                        DataSource          #SalesLine
                        DataGroup           #EInvoice
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #EInvoiceLine_EInvoiceAccountCode
                              AutoDeclaration     #Yes
                              DataSource          #SalesLine
                              DataField           #EInvoiceAccountCode
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #echTabLineFrontEnd
                    Caption             #@ECH69
                    Columns             #3
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #echDiscount
                        DataSource          #SalesLine
                        DataGroup           #echDiscountPrice
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #echPromotion1
                        DataSource          #SalesLine
                        DataGroup           #echPromotion
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabLineSetup
                    AutoDeclaration     #Yes
                    Caption             #@SYS2186
                    DataSource          #SalesLine
                    Columns             #3
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #LineInventory
                        AutoDeclaration     #Yes
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/830A5D56-92ED-4620-B09B-BD2C714867F2.htm
                        DataSource          #SalesLine
                        DataGroup           #Inventory
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Return
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/60B8BD35-FA2B-4DDA-957D-0C4286075FCA.htm
                        DataSource          #SalesLine
                        DataGroup           #ReturnGroup
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesLine_InventTransIdReturn
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/d806a831-d47f-4f1c-ab73-c84049d7b5b9.htm
                              LookupButton        #Always
                              DataSource          #SalesLine
                              DataField           #InventTransIdReturn
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_ReturnCostPrice
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/e146aa18-0777-4ee2-ba06-126733c7b628.htm
                              DataSource          #SalesLine
                              DataField           #CostPrice
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #Return_Scrap
                              DataSource          #SalesLine
                              DataField           #Scrap
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #LinePosting
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/902BF697-A7CE-4DFC-9E9D-AEEEA4749340.htm
                        DataSource          #SalesLine
                        DataGroup           #Posting
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesLine_LedgerAccount
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/023e71c4-6871-41c6-b969-0fdf02092f54.htm
                              DataSource          #SalesLine
                              DataField           #LedgerAccount
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #LineSalesTax
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/B082A965-D2A4-4B1B-A755-2B6DAB1F2A01.htm
                        DataSource          #SalesLine
                        DataGroup           #SalesTax
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #LineWithholdingTax
                        DataSource          #SalesLine
                        DataGroup           #WithholdingTax
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #LineWithholdingTax_IN
                        AutoDeclaration     #Yes
                        ConfigurationKey    #CRSEIndia
                        DataSource          #SalesLine
                        DataGroup           #WithholdingTax_IN
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #LineCommission
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/F5B6D226-6631-4DF7-AFE4-9914F83E4FB0.htm
                        DataSource          #SalesLine
                        DataGroup           #Commission
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #lineRFIDTaggingLevel
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/408A14C5-01EE-4737-904A-7BDC2AD9D6BF.htm
                        DataSource          #SalesLine
                        DataGroup           #RFIDTagging
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #lineRFIDTaggingLevel_ItemTagging
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/d94fc250-5ed2-49e3-af31-5bb33eb439d8.htm
                              DataSource          #SalesLine
                              DataField           #ItemTagging
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #lineRFIDTaggingLevel_CaseTagging
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/a342e5fc-5e32-47ec-bbff-263225e84a57.htm
                              DataSource          #SalesLine
                              DataField           #CaseTagging
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #lineRFIDTaggingLevel_PalletTagging
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/923033e8-0f27-4d91-a996-02c6565186f7.htm
                              DataSource          #SalesLine
                              DataField           #PalletTagging
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabPageAddress
                    AutoDeclaration     #Yes
                    ConfigurationKey    #TradeMultiShipTo
                    Caption             #@SYS9362
                    DataSource          #SalesLine
                    Columns             #3
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #LineDeliveryAddress
                        AutoDeclaration     #Yes
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/b24e0bbb-6a6b-4b92-8b98-a347a9e6f576.htm
                        DataSource          #SalesLine
                        DataGroup           #DeliveryAddress
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #LineAddressDisplay
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/92B4EBBF-872D-41CF-A27C-BF718CD9BF0B.htm
                        DataSource          #SalesLine
                        DataGroup           #AddressDisplay
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #LineSalesTaxAddress
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/0CBE0998-3DA6-49CC-814A-39D97CF53DAA.htm
                        DataSource          #SalesLine
                        DataGroup           #SalesTax
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #ShipCarrierLineAddress
                        ConfigurationKey    #ShipCarrier
                        Caption             #@SYS116845
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL GROUP
                            PROPERTIES
                              Name                #LineCarrierInfo
                              Visible             #No
                              FrameType           #None
                              DataSource          #ShipCarrierAddressInLine
                              DataGroup           #ShipCarrierInfo
                              AutoDataGroup       #Yes
                            ENDPROPERTIES
                            
                              CONTAINER
                              ENDCONTAINER
                              
                          ENDCONTROL 
                          
                          CONTROL GROUP
                            PROPERTIES
                              Name                #DescriptionInLine
                              FrameType           #None
                              DataSource          #ShipCarrierAddressInLine
                              DataGroup           #Description
                              AutoDataGroup       #Yes
                            ENDPROPERTIES
                            
                              CONTAINER
                              ENDCONTAINER
                              
                          ENDCONTROL 
                          
                          CONTROL GROUP
                            PROPERTIES
                              Name                #AddressInLine
                              FrameType           #None
                              DataSource          #ShipCarrierAddressInLine
                              DataGroup           #Address
                              AutoDataGroup       #Yes
                            ENDPROPERTIES
                            
                              CONTAINER
                              ENDCONTAINER
                              
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #LineDeliveryFiscalInformation
                        AutoDeclaration     #Yes
                        DataSource          #SalesLine
                        DataGroup           #DeliveryFiscalInformation
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabLineDelivery
                    AutoDeclaration     #Yes
                    Caption             #@SYS4508
                    Columns             #2
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #LineDelivery
                        AutoDeclaration     #Yes
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/ECB4C9E0-DB91-4B99-9FF7-BD55B33037F3.htm
                        Caption             #@SYS16056
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL MENUITEMBUTTON
                            PROPERTIES
                              Name                #SalesAvailableDlvDatesLine
                              AutoDeclaration     #Yes
                              SaveRecord          #No
                              MenuItemType        #Action
                              MenuItemName        #SalesAvailableDlvDates
                              DataSource          #SalesLine
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #SalesLineDeliveryGroup_ReceiptDateRequested
                              DataSource          #SalesLine
                              DataField           #ReceiptDateRequested
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #SalesLineDeliveryGroup_ShippingDateRequested
                              DataSource          #SalesLine
                              DataField           #ShippingDateRequested
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #SalesLineDeliveryGroup_ReceiptDateConfirmed
                              DataSource          #SalesLine
                              DataField           #ReceiptDateConfirmed
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL DATEEDIT
                            PROPERTIES
                              Name                #SalesLineDeliveryGroup_ShippingDateConfirmed
                              DataSource          #SalesLine
                              DataField           #ShippingDateConfirmed
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #SalesLine_DeliveryDateControl
                              HelpText            #@SYS88210
                              DataSource          #SalesLine
                              DataField           #DeliveryDateControlType
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #MiscLineDelivery
                        AutoDeclaration     #Yes
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/ECB4C9E0-DB91-4B99-9FF7-BD55B33037F3.htm
                        Caption             #@SYS102988
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLineDeliveryGroup_OverDeliveryPct
                              DataSource          #SalesLine
                              DataField           #OverDeliveryPct
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLineDeliveryGroup_UnderDeliveryPct
                              DataSource          #SalesLine
                              DataField           #UnderDeliveryPct
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesLineDeliveryGroup_DlvMode
                              DataSource          #SalesLine
                              DataField           #DlvMode
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #SalesLineDeliveryGroup_DeliveryType
                              DataSource          #SalesLine
                              DataField           #DeliveryType
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #TimeZoneDelivery
                        Caption             #@SYS110097
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #SalesLineDeliveryGroup_TimeZoneSite
                              AllowEdit           #No
                              HelpText            #@SYS110100
                              Label               #@SYS102501
                              DataSource          #SalesLine
                              DataMethod          #timeZoneSite
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #CarrierInfoLine
                        DataSource          #SalesLine
                        DataGroup           #CarrierInfo
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabLineQty
                    AutoDeclaration     #Yes
                    Caption             #@SYS14578
                    DataSource          #SalesLine
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GRID
                      PROPERTIES
                        Name                #Qty
                        Width               #Column width
                        Height              #Column height
                        VisibleRows         #9
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #SalesLine_ItemId1
                              Skip                #Yes
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/f44c2019-8ad4-4f6d-995d-16838fca4121.htm
                              DataSource          #SalesLine
                              DataField           #ItemId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_SalesDeliverNow1
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/5e2bb722-1bc0-4d2e-b758-3af3d87e614b.htm
                              ShowZero            #No
                              DataSource          #SalesLine
                              DataField           #SalesDeliverNow
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #InvoicedInTotal
                              AllowEdit           #No
                              HelpText            #@SYS27450
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/336380FA-8FAC-4ED2-BE76-6193A80AB653.htm
                              ShowZero            #No
                              Label               #@SYS14205
                              DataSource          #SalesLine
                              DataMethod          #InvoicedInTotal
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_RemainSalesFinancial1
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/04a34fc5-7283-45bf-a4e3-14d70e0f4daa.htm
                              ShowZero            #No
                              DataSource          #SalesLine
                              DataField           #RemainSalesFinancial
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #DeliveredInTotal
                              AllowEdit           #No
                              HelpText            #@SYS27452
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/11105745-2A53-4DC2-9141-D3722D744E25.htm
                              ShowZero            #No
                              Label               #@SYS1316
                              DataSource          #SalesLine
                              DataMethod          #DeliveredInTotal
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_RemainSalesPhysical1
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/4294b27a-d5ae-4f17-bce7-b9702c499d55.htm
                              ShowZero            #No
                              DataSource          #SalesLine
                              DataField           #RemainSalesPhysical
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #pickedInTotalSalesUnit
                              AllowEdit           #No
                              HelpText            #@SYS68906
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/FA56611A-E17D-44F7-B381-851D0CA1AE7D.htm
                              Label               #@SYS15980
                              DataSource          #SalesLine
                              DataMethod          #pickedInTotalSalesUnit
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #ReservedPhysicalInSalesUnit
                              AllowEdit           #No
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/0293C974-5777-4427-A96C-37FF023F032D.htm
                              ShowZero            #No
                              DataSource          #SalesLine
                              DataMethod          #reservedPhysicalInSalesUnit
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #ReservedOnOrderInSalesUnit
                              AllowEdit           #No
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/428FA967-6A1C-42C5-900B-2A703230525D.htm
                              ShowZero            #No
                              DataSource          #SalesLine
                              DataMethod          #reservedOnOrderInSalesUnit
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #OnOrderInSalesUnit
                              AllowEdit           #No
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/38E7FE51-0F82-4869-A3F4-5AD648F84EE4.htm
                              ShowZero            #No
                              DataSource          #SalesLine
                              DataMethod          #OnOrderInSalesUnit
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabLinePriceDisc
                    AutoDeclaration     #Yes
                    Caption             #@SYS19789
                    DataSource          #SalesLine
                    Columns             #2
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Disc
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/97BFD1EB-6A40-4212-8862-D6D4F819F1CC.htm
                        Caption             #@SYS11829
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_LinePercent
                              Width               #Column width
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/507dc973-2670-4b6e-809c-b1145c7a0689.htm
                              ShowZero            #No
                              DataSource          #SalesLine
                              DataField           #LinePercent
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_LineDisc
                              Width               #Column width
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/5132b8a8-b674-4900-bf9e-3492d0204857.htm
                              ShowZero            #No
                              DataSource          #SalesLine
                              DataField           #LineDisc
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_MultilineDisc
                              Width               #Column width
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/4b06dab4-2081-4f04-9573-0991a7162f0f.htm
                              ShowZero            #No
                              DataSource          #SalesLine
                              DataField           #MultiLnDisc
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_MultilinePurchasePercent
                              Width               #Column width
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/6ff46d02-2cd3-46f4-a679-8394ea3698ed.htm
                              ShowZero            #No
                              DataSource          #SalesLine
                              DataField           #MultiLnPercent
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Suframa
                        DataSource          #SalesLine
                        DataGroup           #Suframa
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #Suframa_SuframaDiscount
                              DataSource          #SalesLine
                              DataField           #SuframaDiscount
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Prices
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/CFDB717E-C7D3-4605-8116-6ABF10C07E36.htm
                        Caption             #@SYS12983
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #PriceUnit
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/5534fb07-8429-4abd-b9b1-e079ca38c0c1.htm
                              DataSource          #SalesLine
                              DataField           #PriceUnit
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_SalesMarkUp
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/c79f720d-d8a9-44f4-8a3a-2d5362f4b71d.htm
                              ShowZero            #No
                              DataSource          #SalesLine
                              DataField           #SalesMarkup
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_MaximumRetailPrice_IN
                              AutoDeclaration     #Yes
                              DataSource          #SalesLine
                              DataField           #MaximumRetailPrice_IN
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #SalesLine_CustomsMaxRetailPrice_IN
                              AutoDeclaration     #Yes
                              DataSource          #SalesLine
                              DataField           #CustomsMaxRetailPrice_IN
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabLineOther
                    AutoDeclaration     #Yes
                    Caption             #@SYS1284
                    DataSource          #SalesLine
                    Columns             #3
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #ItemReference
                        AllowEdit           #No
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/874063BB-18E2-467B-B320-573D0F53A376.htm
                        DataSource          #SalesLine
                        DataGroup           #ItemReference
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #BlanketOrder
                        AllowEdit           #No
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/8B717DBB-49CB-42C8-BE4A-CD2B964177A5.htm
                        DataSource          #SalesLine
                        DataGroup           #BlanketOrder
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Barcode
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/61F33EA9-0B0C-4EFB-BCFB-22137A283889.htm
                        DataSource          #SalesLine
                        DataGroup           #Barcode
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #EInvoice_MX
                        AutoDeclaration     #Yes
                        ConfigurationKey    #CRSEMexico
                        DataSource          #SalesLine
                        DataGroup           #EletronicInvoice_MX
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Externalreference
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/A71EC057-DF08-49EC-961E-A6FDF9DB8BFB.htm
                        DataSource          #SalesLine
                        DataGroup           #ExternalReference
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #ForeignTrade
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/301C5DB6-EDF1-41ED-840E-785D023D734B.htm
                        DataSource          #SalesLine
                        DataGroup           #ForeignTrade
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #BomRoute
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/6FB71792-334D-41C1-B746-F737B114E4C3.htm
                        DataSource          #SalesLine
                        DataGroup           #BOMRoute
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ItemBOMNum
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/0c662572-5037-414a-90df-f744aa80cbf3.htm
                              DataSource          #SalesLine
                              DataField           #ItemBOMId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #ItemRouteNum
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/e7a35e56-ef6a-4160-90b9-536d1fb40abb.htm
                              DataSource          #SalesLine
                              DataField           #ItemRouteId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #BomRoute_ItemPBAId
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/594fcdbd-1861-4d2b-982e-544f489ca039.htm
                              DataSource          #SalesLine
                              DataField           #ItemPBAId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Project
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/CD4083CC-514E-45D1-B771-5DC4D590DBD3.htm
                        Caption             #@SYS4534
                        DataSource          #SalesLine
                        DataGroup           #SalesOrderProject
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Project_ProjId
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/2aae8d7a-985a-4311-91a4-0ee89f38031d.htm
                              DataSource          #SalesLine
                              DataField           #ProjId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Project_ProjCategoryId
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/8f3fc4b3-3551-49a3-ab82-4f9bb16688f8.htm
                              DataSource          #SalesLine
                              DataField           #ProjCategoryId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Project_ProjTransId
                              HTMLHelpFile        #HTMLHelpFileAxShared
                              HTMLHelpTopic       #html/ba46da06-423e-4465-98c4-6969eacec835.htm
                              DataSource          #SalesLine
                              DataField           #ProjTransId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Project_ActivityNumber
                              DataSource          #SalesLine
                              DataField           #ActivityNumber
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Packagingmaterial
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/C1D45264-9966-459E-B29C-853AA6857988.htm
                        ConfigurationKey    #InventPackaging
                        DataSource          #SalesLine
                        DataGroup           #PackagingMaterial
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabLineDimension
                    AutoDeclaration     #Yes
                    Caption             #@SYS14926
                    DataSource          #SalesLine
                    Columns             #3
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #SalesLineDimensionGroup
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/e3432930-c481-4a79-a7da-d62033dce4a9.htm
                        DataSource          #SalesLine
                        DataGroup           #Dimension
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #InventoryDimensions
                        HTMLHelpFile        #HTMLHelpFileAxShared
                        HTMLHelpTopic       #html/FBBCE417-C0A7-4575-8A69-9A8BC05180AB.htm
                        DataSource          #InventDim
                        DataGroup           #InventoryDimensions
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL STATICTEXT
                      PROPERTIES
                        Name                #StaticText
                        AutoDeclaration     #Yes
                        Visible             #No
                        BackgroundColor     #Window background
                        ForegroundColor     #Disabled text
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabLineNational
                    ConfigurationKey    #CRSEBrazil
                    Caption             #@GLS56
                    DataSource          #SalesLine
                    Columns             #2
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #pageActivated
                      #// <GBR>
                      #public void pageActivated()
                      #{
                      #    ;
                      #    super();
                      #
                      #    if (BrazilParameters::isEnabled()
                      #        && salesTable.SalesStatus != SalesStatus::Invoiced)
                      #    {
                      #        salesLine_ds.write();
                      #        taxFiscalInfo_BR_ds.executeQuery();
                      #    }
                      #}
                      #// </GBR>
                    ENDSOURCE
                  ENDMETHODS
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #FiscalInformation
                        DataSource          #SalesLine
                        DataGroup           #FiscalInformation
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #FiscalInformation_CustCFOPId
                              DataSource          #SalesLine
                              DataField           #CustCFOPId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #FiscalInformation_TaxationOrigin
                              AutoDeclaration     #Yes
                              DataSource          #SalesLine
                              DataField           #TaxationOrigin
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #FiscalInformation_CustReceiptIssueCode
                              AutoDeclaration     #Yes
                              DataSource          #SalesLine
                              DataField           #CustReceiptIssueCode
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #FiscalInformation_CustFiscalClassificationId
                              DataSource          #SalesLine
                              DataField           #CustFiscalClassificationId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #FiscalInformation_ExceptionCode_BR
                              DataSource          #SalesLine
                              DataField           #ExceptionCode_BR
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #FiscalInformation_TaxServiceCodeId
                              DataSource          #SalesLine
                              DataField           #TaxServiceCodeId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #FiscalInformation_DeliveryCFOPId
                              DataSource          #SalesLine
                              DataField           #DeliveryCFOPId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #FiscalInformation_FuelCode_BR
                              DataSource          #SalesLine
                              DataField           #FuelCode_BR
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #TaxationCode
                        AutoDeclaration     #Yes
                        Caption             #@GLS60378
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL GRID
                            PROPERTIES
                              Name                #GridTaxationCode
                              Height              #Column height
                              DataSource          #TaxFiscalInfo_BR
                            ENDPROPERTIES
                            
                              CONTAINER
                                CONTROL STRINGEDIT
                                  PROPERTIES
                                    Name                #TaxFiscalInfo_BR_TaxCode
                                    AllowEdit           #No
                                    DataSource          #TaxFiscalInfo_BR
                                    DataField           #TaxCode
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL STRINGEDIT
                                  PROPERTIES
                                    Name                #TaxFiscalInfo_BR_SPEDTaxCode
                                    DataSource          #TaxFiscalInfo_BR
                                    DataField           #SPEDTaxCode
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                                CONTROL COMBOBOX
                                  PROPERTIES
                                    Name                #TaxFiscalInfo_BR_FiscalValue
                                    DataSource          #TaxFiscalInfo_BR
                                    DataField           #FiscalValue
                                  ENDPROPERTIES
                                  
                                ENDCONTROL 
                                
                              ENDCONTAINER
                              
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #LineInvoiceReference
                        AutoDeclaration     #Yes
                        DataSource          #SalesLine
                        DataGroup           #InvoiceReference
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TaxInformation_IN
                    AutoDeclaration     #Yes
                    ConfigurationKey    #CRSEIndia
                    Caption             #@SYS33550
                    DataSource          #SalesLine
                    Columns             #2
                    ArrangeGuide        
                      ARRAY INDEX Columns 
                        #0
                        #0
                      ENDARRAY
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #CompanyInformation_IN
                        DataSource          #SalesLine
                        DataGroup           #CompanyInformation_IN
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #CompanyInformation_IN_Name_IN
                              LookupButton        #Always
                              DataSource          #SalesLine
                              DataField           #Name_IN
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #CompanyInformation_IN_Address_IN
                              DataSource          #SalesLine
                              DataField           #Address_IN
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #CompanyInformation_IN_State_IN
                              DataSource          #SalesLine
                              DataField           #State_IN
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Excise_IN
                        Caption             #@GLS5005
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Excise_IN_ECCNumber_IN
                              DataSource          #SalesLine
                              DataField           #ECCNumber_IN
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #Excise_IN_ExciseTariffCode_IN
                              DataSource          #SalesLine
                              DataField           #ExciseTariffCode_IN
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #ExciseNone_IN
                              AutoDeclaration     #Yes
                              DataSource          #SalesLine
                              DataMethod          #exciseNone_IN
                            ENDPROPERTIES
                            
                            METHODS
                              Version: 3
                              SOURCE #selectionChange
                                #// <GIN>
                                #public int selectionChange()
                                #{
                                #    int ret;
                                #
                                #    ret = super();
                                #    element.updateDesignExcise_IN();
                                #
                                #    return ret;
                                #}
                                #// </GIN>
                              ENDSOURCE
                            ENDMETHODS
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #ExciseManufacture_IN
                              AutoDeclaration     #Yes
                              Visible             #No
                              DataSource          #SalesLine
                              DataMethod          #exciseManufacture_IN
                            ENDPROPERTIES
                            
                            METHODS
                              Version: 3
                              SOURCE #selectionChange
                                #// <GIN>
                                #public int selectionChange()
                                #{
                                #    int ret;
                                #
                                #    ret = super();
                                #    element.updateDesignExcise_IN();
                                #
                                #    return ret;
                                #}
                                #// </GIN>
                              ENDSOURCE
                            ENDMETHODS
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #ExciseTraders_IN
                              AutoDeclaration     #Yes
                              Visible             #No
                              DataSource          #SalesLine
                              DataMethod          #exciseTraders_IN
                            ENDPROPERTIES
                            
                            METHODS
                              Version: 3
                              SOURCE #selectionChange
                                #// <GIN>
                                #public int selectionChange()
                                #{
                                #    int ret;
                                #
                                #    ret = super();
                                #    element.updateDesignExcise_IN();
                                #
                                #    return ret;
                                #}
                                #// </GIN>
                              ENDSOURCE
                            ENDMETHODS
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #Excise_IN_DirectSettlement_IN
                              AutoDeclaration     #Yes
                              DataSource          #SalesLine
                              DataField           #DirectSettlement_IN
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #Excise_IN_Consignment_IN
                              DataSource          #SalesLine
                              DataField           #Consignment_IN
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #Excise_IN_DSA_IN
                              DataSource          #SalesLine
                              DataField           #DSA_IN
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Customs_IN
                        DataSource          #SalesLine
                        DataGroup           #Customs_IN
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #EximIncentiveScheme_IN
                        AutoDeclaration     #Yes
                        Visible             #No
                        Caption             #@GLS61737
                        DataSource          #EximSalesLine_IN
                      ENDPROPERTIES
                      
                        CONTAINER
                          CONTROL CHECKBOX
                            PROPERTIES
                              Name                #EximSalesLine_IN_ApplyDEPB
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              DataSource          #EximSalesLine_IN
                              DataField           #ApplyDEPB
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #EximSalesLine_IN_MarketValue
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              DataSource          #EximSalesLine_IN
                              DataField           #MarketValue
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #EximSalesLine_IN_DBKCenvatStatus
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              DataSource          #EximSalesLine_IN
                              DataField           #DBKCenvatStatus
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL COMBOBOX
                            PROPERTIES
                              Name                #EximSalesLine_IN_DBKRateType
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              DataSource          #EximSalesLine_IN
                              DataField           #DBKRateType
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL REALEDIT
                            PROPERTIES
                              Name                #EximSalesLine_IN_DBKPercent
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              DataSource          #EximSalesLine_IN
                              DataField           #DBKPercent
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #EximIncentiveScheme_IncentiveSchemeGroup
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              DataSource          #EximSalesLine_IN
                              DataField           #IncentiveSchemeGroup
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #EximIncentiveScheme_PortId
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              DataSource          #EximSalesLine_IN
                              DataField           #PortId
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                          CONTROL STRINGEDIT
                            PROPERTIES
                              Name                #EximIncentiveScheme_ProductGroup
                              AutoDeclaration     #Yes
                              AllowEdit           #No
                              DataSource          #EximSalesLine_IN
                              DataField           #ProductGroup
                            ENDPROPERTIES
                            
                          ENDCONTROL 
                          
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #ServiceTax_IN
                        DataSource          #SalesLine
                        DataGroup           #ServiceTax_IN
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #VAT_IN
                        DataSource          #SalesLine
                        DataGroup           #VAT_IN
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #SalesTax_IN
                        DataSource          #SalesLine
                        DataGroup           #SalesTax_IN
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                    CONTROL GROUP
                      PROPERTIES
                        Name                #TAN_IN
                        DataSource          #SalesLine
                        DataGroup           #TAN_IN
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL TABPAGE
                  PROPERTIES
                    Name                #TabLineHHTHandheld
                    ConfigurationKey    #RetailStoreInventory
                    SecurityKey         #HHTJournals
                    Caption             #@HHT242
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL GROUP
                      PROPERTIES
                        Name                #Handheld1
                        ConfigurationKey    #RetailStoreInventory
                        SecurityKey         #HHTJournals
                        DataSource          #SalesLine
                        DataGroup           #Handheld
                        AutoDataGroup       #Yes
                      ENDPROPERTIES
                      
                        CONTAINER
                        ENDCONTAINER
                        
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
              ENDCONTAINER
              
            ENDCONTROL 
            
            CONTROL BUTTONGROUP
              PROPERTIES
                Name                #ButtonLine
                AutoDeclaration     #Yes
                DataSource          #SalesLine
              ENDPROPERTIES
              
              CONTAINER
                CONTROL MENUBUTTON
                  PROPERTIES
                    Name                #ButtonLineSetup
                    AutoDeclaration     #Yes
                    HelpText            #@SYS69478
                    Text                #@SYS2186
                    SaveRecord          #No
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #clicked
                      #void clicked()
                      #{
                      #    // <GBR>
                      #    if (BrazilParameters::isEnabled())
                      #    {
                      #        custSalesLineLegalTxt_BR.enabled(salesLine.setCustSalesLineLegalTxtButton_BR());
                      #    }
                      #    // </GBR>
                      #
                      #    buttonMarkupTransLine.enabled(salesLine.markupAllowed());
                      #
                      #    super();
                      #}
                    ENDSOURCE
                  ENDMETHODS
                  CONTAINER
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #ButtonMarkupTransLine
                        AutoDeclaration     #Yes
                        MenuItemName        #MarkupTrans_LineSales
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #LineTaxTransSource
                        MenuItemName        #TaxTransSource
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #Clicked
                          #void clicked()
                          #{
                          #    ;
                          #    element.automaticTotalDiscount();
                          #    SalesTotals::showTaxLine(salesTable,salesLine,element);
                          #}
                          #
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #LineAddress
                        AutoDeclaration     #Yes
                        Left                #Right edge
                        ConfigurationKey    #TradeMultiShipTo
                        MenuItemName        #AddressSelect
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #public void clicked()
                          #{
                          #    ;
                          #
                          #    super();
                          #
                          #    // Shipping module
                          #    shipCarrierAddress_ds.reread();
                          #    shipCarrierAddress_ds.refresh();
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #Separator17
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #CustSalesLineLegalTxt_BR
                        AutoDeclaration     #Yes
                        Text                #@GLS97
                        MenuItemName        #CustSalesLineLegalTxt_BR
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #CustomsExportAssessableValue_IN
                        AutoDeclaration     #Yes
                        MenuItemName        #CustomsExportAssessableValue_IN
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL MENUBUTTON
                  PROPERTIES
                    Name                #ButtonLineFunction
                    AutoDeclaration     #Yes
                    HelpText            #@SYS69510
                    Text                #@SYS10340
                    SaveRecord          #No
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #Clicked
                      #void  clicked()
                      #{
                      #    boolean         creditInvoicing = true;
                      #    ;
                      #    buttonLineExpandBOM.enabled(salesLine.RecId && !salesLine.deliveredInTotal());
                      #    copyLine.enabled(salesLine.RecId);
                      #
                      #    if (CustParameters::find().CreditInvoicing
                      #    && (salesTable.SalesStatus == SalesStatus::Invoiced
                      #    ||  salesTable.ProjId)
                      #    || !salesLine)
                      #    {
                      #        creditInvoicing = false;
                      #    }
                      #
                      #    buttonCustVendCreditInvoicingHeader.enabled(creditInvoicing);
                      #    buttonCustVendCreditInvoicingLines.enabled(creditInvoicing);
                      #    salesCreditNoteLines.enabled(salesTable.canCreditNoteBeCreated());
                      #
                      #    super();
                      #}
                    ENDSOURCE
                  ENDMETHODS
                  CONTAINER
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SalesCopyAllLines
                        MenuItemName        #SalesCopyAllLines
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SalesCopyJournalLines
                        MenuItemName        #SalesCopyJournalLines
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #CopyLine
                        AutoDeclaration     #Yes
                        SaveRecord          #No
                        MenuItemName        #SalesLineCopy
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #LineFunction_Separator1
                        Height              #100
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL BUTTON
                      PROPERTIES
                        Name                #buttonLineExpandBOM
                        AutoDeclaration     #Yes
                        HelpText            #@SYS68930
                        ConfigurationKey    #BOM
                        Text                #@SYS12988
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #Clicked
                          #void clicked()
                          #{
                          #    Args            args = new Args();
                          #    FormRun         bomListExpandSales;
                          #    SalesLine       _salesLine;
                          #    ;
                          #
                          #    if (!salesLine.inventTable().inventItemType().canHaveBOM())
                          #        throw error("@SYS2069");
                          #
                          #    args.name(formstr(BOMExpandSales));
                          #    args.caller(this);
                          #    args.record(salesLine);
                          #    bomListExpandSales = classfactory.formRunClass(args);
                          #
                          #    bomListExpandSales.run();
                          #    bomListExpandSales.wait();
                          #
                          #    _salesLine.data(salesLine.data());
                          #    salesLine_ds.executeQuery();
                          #    salesLine_ds.findRecord(_salesLine);
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SalesCreditNoteLines
                        AutoDeclaration     #Yes
                        MenuItemName        #SalesCreditNoteLines
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #ButtonLineQuickQuote
                        AutoDeclaration     #Yes
                        Left                #Auto (right)
                        MenuItemName        #SalesQuickQuote
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #LineFunction_Separator2
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SalesUpdateRemain
                        AutoDeclaration     #Yes
                        MenuItemName        #SalesUpdateRemain
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #// *** ECHINA - Marijn Catthoor ***
                          #// *** Customization Code: ECH_WI_00829
                          #// *** Customization Date: 04 Jul 2012
                          #// *** Customization Type: Created
                          #// *** Description:   Refresh the salesTable record
                          #
                          #void clicked()
                          #{
                          #    super();
                          #
                          #    // refresh the salesTable record
                          #    salesTable_ds.reRead();
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #LineFunction_Separator3
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonCustVendCreditInvoicingLines
                        AutoDeclaration     #Yes
                        Visible             #No
                        MenuItemName        #CustVendCreditInvoicing
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL MENUBUTTON
                  PROPERTIES
                    Name                #ButtonLineInquiry
                    AutoDeclaration     #Yes
                    HelpText            #@SYS69505
                    Text                #@SYS3850
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #clicked
                      #void clicked()
                      #{
                      #    InventItemType  inventItemType = salesLine.ItemId ? salesLine.inventTable().inventItemType() : null;
                      #
                      #    boolean         canHaveBOM     = inventItemType ? inventItemType.canHaveBOM() : false;
                      #    boolean         canBeProduced  = inventItemType ? inventItemType.canBeProduced() : false;
                      #
                      #    SalesTableType  localSalesTableType = salesTable.type();;
                      #
                      #    buttonLineProduction.enabled    (localSalesTableType.showProductionMenu() && canBeProduced);
                      #    buttonLineExplosion.enabled     (localSalesTableType.canExplosionBeExecuted());
                      #    bomConsistOfTree.enabled        (canHaveBOM);
                      #
                      #    // <GIN>
                      #    element.enableEximInquiry_IN();
                      #    // </GIN>
                      #
                      #    super();
                      #}
                    ENDSOURCE
                  ENDMETHODS
                  CONTAINER
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #ReqTransNet
                        MenuItemName        #ReqTransNet
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonLineExplosion
                        AutoDeclaration     #Yes
                        MenuItemName        #ReqTransExplosion
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonInventSupply
                        MenuItemName        #inventSupply
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #LineInquiry_Separator1
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #linePriceDiscActual
                        MenuItemName        #priceDiscActual
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SalesATP
                        MenuItemName        #SalesATP
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #LineInquiry_Separator2
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #BOMConsistOfTree
                        AutoDeclaration     #Yes
                        MenuItemName        #BOMConsistOfTree
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL BUTTON
                      PROPERTIES
                        Name                #buttonLineProduction
                        AutoDeclaration     #Yes
                        HelpText            #@SYS28807
                        ConfigurationKey    #Prod
                        SecurityKey         #ProdDaily
                        Text                #@SYS4398
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #Clicked
                          #void clicked()
                          #{
                          #    ;
                          #    salesLine.type().formProduction(element);
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #LineInquiry_Separator3
                        Height              #100
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #ButtonAttachedSalesLines
                        AutoDeclaration     #Yes
                        HelpText            #@SYS101270
                        Text                #@SYS59930
                        MenuItemName        #SalesLine
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #ExciseRegisterBal_IN
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #ExciseRegisterBalance_In
                        Text                #@GLS5618
                        MenuItemName        #exciseregisterBalance_In
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #LineInquiry_Separator4
                        Height              #100
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #LineInquiry_CostControlCommittedCost
                        AutoDeclaration     #Yes
                        AllowEdit           #No
                        SaveRecord          #No
                        MenuItemName        #costcontrolCommittedCost
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #LineInquiry_Separator5
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #InventNonConformanceTableLine
                        AutoDeclaration     #Yes
                        MenuItemName        #InventNonConformanceTable
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #InventQualityOrderTableLine
                        AutoDeclaration     #Yes
                        MenuItemName        #InventQualityOrderTable
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #InventTestCertOfAnalysisTable
                        AutoDeclaration     #Yes
                        MenuItemName        #InventTestCertOfAnalysisTable
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #EximAA_IN
                        AutoDeclaration     #Yes
                        Visible             #No
                        HelpText            #@GLS61753
                        Text                #@GLS61755
                        MenuItemName        #EximExportDetailsAA_IN
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #EximDFIA_IN
                        AutoDeclaration     #Yes
                        Visible             #No
                        HelpText            #@GLS61754
                        Text                #@GLS61756
                        MenuItemName        #EximExportDetailsDFIA_IN
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #EximEPCG_IN
                        AutoDeclaration     #Yes
                        Visible             #No
                        HelpText            #@GLS62186
                        Text                #@GLS62209
                        MenuItemName        #EximEPCGExportObligation_IN
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL MENUITEMBUTTON
                  PROPERTIES
                    Name                #echSOPromotionsLineForm
                    HelpText            #@ECH249
                    ConfigurationKey    #echProcesses
                    Text                #@SYS115268
                    MenuItemName        #echSOPromotionsLineForm
                    DataSource          #SalesLine
                  ENDPROPERTIES
                  
                ENDCONTROL 
                
                CONTROL MENUBUTTON
                  PROPERTIES
                    Name                #ButtonLinePriceCalc
                    AutoDeclaration     #Yes
                    HelpText            #@SYS69511
                    Text                #@SYS7895
                    SaveRecord          #No
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #Clicked
                      #void clicked()
                      #{
                      #    bomPriceCalc.enabled(salesLine.inventTable().inventItemType().canHaveBOM());
                      #
                      #    super();
                      #}
                    ENDSOURCE
                  ENDMETHODS
                  CONTAINER
                    CONTROL BUTTON
                      PROPERTIES
                        Name                #MultiLnDisc
                        HelpText            #@SYS68933
                        ConfigurationKey    #PriceDisc
                        Text                #@SYS11440
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #Clicked
                          #void  clicked()
                          #{
                          #    ;
                          #    element.automaticTotalDiscount();
                          #    super();
                          #
                          #    salesTable.updateMultiLineDisc();
                          #    // <GIN>
                          #    if (TaxParameters::checkTaxParameters_IN())
                          #    {
                          #        SalesLine::updateSalesLine_IN(salesTable.SalesId, salesTable.CustomsExportOrder_IN);
                          #    }
                          #    // </GIN>
                          #    salesLine_ds.executeQuery();
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL BUTTON
                      PROPERTIES
                        Name                #buttonLineEndDisc
                        HelpText            #@SYS68934
                        ConfigurationKey    #PriceDisc
                        Text                #@SYS6465
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #Clicked
                          #public void  clicked()
                          #{
                          #    super();
                          #
                          #    salesTable.updateFinalDisc();
                          #
                          #    salesTable_ds.reread();
                          #    salesTable_ds.refresh();
                          #
                          #    //This will trigger the creditlimit calculation when salesTable.validateWrite is called
                          #    salesTable_ds.setTouched();
                          #
                          #}
                          #
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #SuppItemCalc_Sales
                        MenuItemType        #Action
                        MenuItemName        #SuppItemCalc_Sales
                        DataSource          #SalesTable
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void clicked()
                          #{
                          #    ;
                          #    element.automaticTotalDiscount();
                          #    super();
                          #    //This will trigger the creditlimit calculation when salesTable.validateWrite is called
                          #    salesTable_ds.setTouched();
                          #}
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #BOMPriceCalc
                        AutoDeclaration     #Yes
                        Enabled             #No
                        MenuItemName        #BOMCalcTableSales
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL MENUBUTTON
                  PROPERTIES
                    Name                #ButtonLineInventory
                    AutoDeclaration     #Yes
                    HelpText            #@SYS69645
                    Text                #@SYS981
                    SaveRecord          #No
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #Clicked
                      #void clicked()
                      #{
                      #    SalesTableType menuSalesTableType = salesTable.type();
                      #    boolean        returnItem         = salesTable.returnItem();
                      #    ;
                      #
                      #    // <GBR>
                      #    if(!BrazilParameters::isEnabled()
                      #        || (BrazilParameters::isEnabled()
                      #                && salesTable.InventControl))
                      #    {
                      #    // </GBR>
                      #    buttonLineInventTrans.enabled       (menuSalesTableType.inventTransactInvoke());
                      #    buttonLineInventOnHand.enabled      (menuSalesTableType.inventOnHandInvoke());
                      #    buttonLineInventLot.enabled         (menuSalesTableType.inventLotInvoke());
                      #    buttonLineInventReservation.enabled (menuSalesTableType.inventReservationInvoke());
                      #
                      #    buttonLineInventMarking.enabled(!returnItem);
                      #    inventTransRegister.enabled(!returnItem);
                      #
                      #    buttonLineInventMarking.enabled(!returnItem);
                      #    inventTransPick.enabled(!(returnItem && salesLine.SalesQty < 0) && salesLine.DeliveryType == TradeLineDlvType::None);
                      #    wmsOrderAllowCreate.enabled(!returnItem && salesLine.DeliveryType == TradeLineDlvType::None);
                      #    inventTransRegister.enabled(!returnItem);
                      #    // <GBR>
                      #    }
                      #    else
                      #    {
                      #            buttonLineInventReservation.enabled(false);
                      #            buttonLIneInventMarking.enabled(false);
                      #            inventTransREgister.enabled(false);
                      #            inventTRansPick.enabled(false);
                      #    }
                      #    // </GBR>
                      #    super();
                      #}
                      #
                    ENDSOURCE
                  ENDMETHODS
                  CONTAINER
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonLineInventTrans
                        AutoDeclaration     #Yes
                        MenuItemName        #InventTrans
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonLineInventOnHand
                        AutoDeclaration     #Yes
                        MenuItemName        #InventOnhand
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonLineInventLot
                        AutoDeclaration     #Yes
                        MenuItemName        #InventLot
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #InventDimTracking
                        MenuItemName        #InventDimTracking
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #LineInventory_Separator1
                        Height              #100
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonLineInventReservation
                        AutoDeclaration     #Yes
                        MenuItemName        #InventReserve
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #buttonLineInventMarking
                        AutoDeclaration     #Yes
                        MenuItemName        #InventMarking
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #LineInventory_Separator2
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #InventTransRegister
                        AutoDeclaration     #Yes
                        MenuItemName        #InventTransRegister
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #InventTransPick
                        AutoDeclaration     #Yes
                        MenuItemName        #InventTransPick
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #LineInventory_Separator3
                        Height              #100
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #WMSOrderAllowCreate
                        AutoDeclaration     #Yes
                        MenuItemName        #WMSOrderAllowCreate
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #LineInventory_Separator4
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #InventDimParmFixed
                        SaveRecord          #No
                        MenuItemName        #InventDimParmFixed
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL MENUBUTTON
                  PROPERTIES
                    Name                #ButtonLineInterCompany
                    AutoDeclaration     #Yes
                    HelpText            #@SYS94420
                    ConfigurationKey    #TradeInterCompany
                    Text                #@SYS74106
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #clicked
                      #void  clicked()
                      #{;
                      #    if (salesLine.DeliveryType == TradeLineDlvType::None
                      #    &&  salesLine.InventRefTransId
                      #    &&  salesLine.interCompanySalesLineExist())
                      #        interCompanyRemoveMarking.enabled(true);
                      #    else
                      #        interCompanyRemoveMarking.enabled(false);
                      #
                      #    super();
                      #
                      #}
                      #
                    ENDSOURCE
                  ENDMETHODS
                  CONTAINER
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #InventOnhandInterCompany
                        AutoDeclaration     #Yes
                        MenuItemName        #InventOnhandInterCompany
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL SEPARATOR
                      PROPERTIES
                        Name                #ButtonLineIntercompany_Separator
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL BUTTON
                      PROPERTIES
                        Name                #InterCompanyRemoveMarking
                        AutoDeclaration     #Yes
                        HelpText            #@SYS94561
                        Text                #@SYS67038
                      ENDPROPERTIES
                      
                      METHODS
                        Version: 3
                        SOURCE #clicked
                          #void clicked()
                          #{
                          #    super();
                          #
                          #    TradeInterCompany::removeMarking(salesLine,element);
                          #}
                          #
                        ENDSOURCE
                      ENDMETHODS
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL BUTTON
                  PROPERTIES
                    Name                #PBAExecute
                    AutoDeclaration     #Yes
                    HelpText            #@SYS40755
                    ConfigurationKey    #PBA_ProductBuilder
                    Text                #@SYS40223
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #clicked
                      #void clicked()
                      #{
                      #    element.pbaConfigureLine();
                      #}
                      #
                    ENDSOURCE
                  ENDMETHODS
                ENDCONTROL 
                
                CONTROL MENUBUTTON
                  PROPERTIES
                    Name                #Configuration
                    AutoDeclaration     #Yes
                    HelpText            #@SYS87115
                    Text                #@SYS40116
                  ENDPROPERTIES
                  
                  CONTAINER
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #PBAConfiguratedItem
                        MenuItemType        #Output
                        MenuItemName        #PBAConfiguratedItem
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                    CONTROL MENUITEMBUTTON
                      PROPERTIES
                        Name                #PBAPrintGraphic
                        MenuItemType        #Output
                        MenuItemName        #PBAPrintGraphicSalesTable
                        DataSource          #SalesLine
                      ENDPROPERTIES
                      
                    ENDCONTROL 
                    
                  ENDCONTAINER
                  
                ENDCONTROL 
                
                CONTROL MENUITEMBUTTON
                  PROPERTIES
                    Name                #IncentiveSchemeGroup_IN
                    AutoDeclaration     #Yes
                    Visible             #No
                    HelpText            #@GLS61731
                    ConfigurationKey    #CRSEIndia
                    Text                #@GLS61496
                    MenuItemName        #EximIncentiveSchemeGroupsForm_IN
                    DataSource          #EximSalesLine_IN
                  ENDPROPERTIES
                  
                ENDCONTROL 
                
                CONTROL MENUITEMBUTTON
                  PROPERTIES
                    Name                #ButtonWithholdTax_IN
                    AutoDeclaration     #Yes
                    ConfigurationKey    #CRSEIndia
                    Text                #@SYS33817
                    MenuItemName        #TaxWithholdTmpWorkTrans_IN
                    DataSource          #SalesLine
                  ENDPROPERTIES
                  
                  METHODS
                    Version: 3
                    SOURCE #clicked
                      #// <GIN>
                      #void  clicked()
                      #{
                      #    ;
                      #
                      #    if (!tmpSalesTableTaxWithholdTransForm || (tmpSalesTableTaxWithholdTransForm && tmpSalesTableTaxWithholdTransForm.closed()))
                      #    {
                      #        tmpSalesTableTaxWithholdTransForm = SalesTotals::showWithholdTaxLine_IN(salesTable,salesLine);
                      #    }
                      #}
                      #// </GIN>
                    ENDSOURCE
                  ENDMETHODS
                ENDCONTROL 
                
              ENDCONTAINER
              
            ENDCONTROL 
            
          ENDCONTAINER
          
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
ENDFORM


***Element: END
